(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{1705:function(module,exports,__webpack_require__){__webpack_require__(1706),__webpack_require__(1866),__webpack_require__(1867),__webpack_require__(2653),__webpack_require__(2648),__webpack_require__(2657),__webpack_require__(2658),__webpack_require__(2654),__webpack_require__(2649),__webpack_require__(2659),__webpack_require__(2650),__webpack_require__(2651),__webpack_require__(2655),module.exports=__webpack_require__(2631)},1772:function(module,exports){},1867:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);__webpack_require__(1050)},19:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return src_FormFlowProvider})),__webpack_require__.d(__webpack_exports__,"d",(function(){return src_useFormFlowField})),__webpack_require__.d(__webpack_exports__,"e",(function(){return useFormFlowItem})),__webpack_require__.d(__webpack_exports__,"f",(function(){return useFormFlowValidation})),__webpack_require__.d(__webpack_exports__,"g",(function(){return useResetForm})),__webpack_require__.d(__webpack_exports__,"h",(function(){return useSubmitForm})),__webpack_require__.d(__webpack_exports__,"b",(function(){return SchemaBuilder}));var react=__webpack_require__(0),react_default=__webpack_require__.n(react),defineProperty=__webpack_require__(229),defineProperty_default=__webpack_require__.n(defineProperty),Subject_Subject=function(){function Subject(){defineProperty_default()(this,"subscribers",[])}var _proto=Subject.prototype;return _proto.subscribe=function subscribe(listener){var self=this,subscriber={listener:listener};return self.subscribers.push(subscriber),{unsubscribe:function unsubscribe(){self.subscribers=self.subscribers.filter((function(item){return item!==subscriber}))}}},_proto.next=function next(value){this.subscribers.forEach((function(_ref){_ref.listener.next(value)}))},Subject}(),ObservableState_ObservableState=function ObservableState(initialValue){var _this=this;defineProperty_default()(this,"subject",void 0),defineProperty_default()(this,"value",void 0),defineProperty_default()(this,"get",(function(){return _this.value})),defineProperty_default()(this,"set",(function(transformer){var frozenValue=Object.freeze(_this.value),newValue=transformer(frozenValue);frozenValue!==newValue&&(_this.value=newValue,_this.subject.next(_this.value))})),defineProperty_default()(this,"subscribe",(function(subscriber){return _this.subject.subscribe(subscriber)})),this.value=initialValue,this.subject=new Subject_Subject};defineProperty_default()(ObservableState_ObservableState,"create",(function(initialValue){return new ObservableState_ObservableState(initialValue)}));var react_state_ObservableState=ObservableState_ObservableState;function useObservableState(observable){var _useState=Object(react.useState)(observable.get()),state=_useState[0],setState=_useState[1];return Object(react.useEffect)((function(){var subscriber=observable.subscribe({next:setState});return function(){subscriber.unsubscribe()}}),[observable]),Object(react.useMemo)((function(){return[Object.freeze(state),observable.set]}),[observable.set,state])}var FormFlowDataContext=react_default.a.createContext(react_state_ObservableState.create({})),mutation_helper_build=__webpack_require__(989),accessor_get=mutation_helper_build.get,set=mutation_helper_build.set,EMPTY_LIST=[];function clearIndexes(path){return path.replace(/\[\d+\]/g,"[]")}function add(list,item){list.includes(item)||list.push(item)}function derivatePaths(paths,data,prefix,remainingPaths){0===remainingPaths.length&&add(paths,prefix);var list=prefix?accessor_get(data,prefix):data,suffix=remainingPaths.pop();list&&list.forEach&&list.forEach((function(_,idx){derivatePaths(paths,data,prefix+"["+idx+"]"+suffix,remainingPaths.slice())}))}function interpolatePathsByPaths(rawValidationPaths,data){var paths=[];return rawValidationPaths.forEach((function(jsonPath){var nestedPaths=clearIndexes(jsonPath).split("[]").map((function(value){return value.trim()})).reverse(),parentPath=nestedPaths.pop();parentPath&&add(paths,parentPath),nestedPaths.length>0&&derivatePaths(paths,data,parentPath,nestedPaths)})),paths}function createValidations(invalidationPaths){for(var _len=arguments.length,validations=new Array(_len>1?_len-1:0),_key=1;_key<_len;_key++)validations[_key-1]=arguments[_key];function validate(args){return validations.map((function(checkValidation){return checkValidation(args)}))}return{invalidationPaths:invalidationPaths,validate:validate}}function wrapSchemaWithValidationMethods(schema){var cache={};return{validate:function validateData(data){var allPaths=function interpolatePaths(schemaData,data){return interpolatePathsByPaths(Object.keys(schemaData),data)}(schema,data),validationsState={allPaths:allPaths,allValidations:[],byPath:{}};return allPaths.forEach((function(path){validateDataAt(data,path).forEach((function(validation){var pathIndexesCleared=clearIndexes(path);pathIndexesCleared!==path&&(validationsState.byPath[pathIndexesCleared]=validationsState.byPath[pathIndexesCleared]||[],validationsState.byPath[pathIndexesCleared].push(validation)),validationsState.byPath[path]=validationsState.byPath[path]||[],validationsState.byPath[path].push(validation),validationsState.allValidations.push(validation)}))})),validationsState},validateAt:function validateAt(data,path){return validateDataAt(data,path)}};function validateDataAt(data,path){var pathIndexesCleared=clearIndexes(path),_ref=schema[path]||schema[pathIndexesCleared],invalidationPaths=_ref.invalidationPaths,validate=_ref.validate;cache[path]=cache[path]||{dependencies:void 0,dependencyValues:void 0,previousValidations:void 0};var cacheAtPath=cache[path];if(!cacheAtPath.dependencies){var ancestorsPathParts=path.split("."),indexesMatches=path.match(/(\[\d+\])/g),indexes=indexesMatches?indexesMatches.slice():[];cacheAtPath.dependencies=[path].concat(invalidationPaths).map((function(invalidationPath){var absolutePath=function getAbsolutePath(ancestorsPathParts,invalidationPath){var matched=invalidationPath.match(/^(\$\.)*/)[0]||"",totalAncestorTokens=matched.length/2,parentPath=(ancestorsPathParts.length-totalAncestorTokens>-1&&matched?ancestorsPathParts.slice(0,ancestorsPathParts.length-totalAncestorTokens).concat(""):EMPTY_LIST).join(".");return invalidationPath.replace(matched,parentPath)}(ancestorsPathParts,invalidationPath);return indexes.reduce((function(finalPath,indexValue,index){return finalPath.replace("[$"+index+"]",indexValue)}),absolutePath)})),cacheAtPath.dependencyValues=Array.from({length:cacheAtPath.dependencies.length}).map((function(){return null})),cacheAtPath.previousValidations=null}var paths=cacheAtPath.dependencies,currentDependencyValues=[],validations=null;return validations=paths.reduce((function(isOverallChanged,jsonPath,index){return currentDependencyValues.push(accessor_get(data,jsonPath)),!!isOverallChanged||currentDependencyValues[index]!==cacheAtPath.dependencyValues[index]}),!1)||null===cacheAtPath.previousValidations?validate({data:data,get:accessor_get,path:path,value:currentDependencyValues[0],dependencies:currentDependencyValues.slice(1)}):cacheAtPath.previousValidations,cacheAtPath.previousValidations=validations,cacheAtPath.dependencyValues=currentDependencyValues,validations}}function EvaluateValidations(){var observableState=Object(react.useContext)(FormFlowDataContext),_ref=useObservableState(observableState)[0],schemaData=_ref.schemaData,data=_ref.values,schema=Object(react.useMemo)((function(){return"function"==typeof schemaData.validate?schemaData:wrapSchemaWithValidationMethods(schemaData)}),[schemaData]),validationsState=observableState.get().validationsState,globalValidationCached=schema.validate(data);return validationsState.allPaths=globalValidationCached.allPaths,validationsState.allValidations=globalValidationCached.allValidations,validationsState.byPath=globalValidationCached.byPath,null}var isValidByPaths_EMPTY_LIST=[];function isValidByPaths(allValidations,paths){var allPaths=paths||isValidByPaths_EMPTY_LIST;return 0===allPaths.length?!allValidations.some((function(_ref){return!_ref.isValid})):!allValidations.some((function(_ref2){var isValid=_ref2.isValid,validationPath=_ref2.path;return!isValid&&allPaths.some((function(internalPath){return function hasPathMatched(validationPath,path){return!path||path===validationPath||path===clearIndexes(validationPath)}(validationPath,internalPath)}))}))}function FormFlowProvider(_ref){var children=_ref.children,initialData=_ref.initialData,schemaData=_ref.schemaData,_ref$isSubmitted=_ref.isSubmitted,isSubmitted=void 0!==_ref$isSubmitted&&_ref$isSubmitted,initialDataRef=Object(react.useRef)(initialData),schemaDataRef=Object(react.useRef)(schemaData),observableState=Object(react.useMemo)((function(){return react_state_ObservableState.create({submitCount:isSubmitted?1:0,dirty:{},initialValues:initialDataRef.current,schemaData:schemaDataRef.current,touched:{},values:initialDataRef.current,validationsState:{allPaths:[],allValidations:[],byPath:{},isAllValid:function isAllValid(paths){return Boolean(paths)}}})}),[isSubmitted]);return observableState.get().validationsState.isAllValid=Object(react.useCallback)((function(paths){return isValidByPaths(observableState.get().validationsState.allValidations,paths)}),[observableState]),react_default.a.createElement(FormFlowDataContext.Provider,{value:observableState},react_default.a.createElement(EvaluateValidations,null),react_default.a.createElement(react_default.a.Fragment,null,children))}var src_FormFlowProvider=react_default.a.memo(FormFlowProvider);try{FormFlowProvider.displayName="FormFlowProvider",FormFlowProvider.__docgenInfo={description:"",displayName:"FormFlowProvider",props:{children:{defaultValue:null,description:"React.Node where the form fields are rendered",name:"children",required:!0,type:{name:"string | number | boolean | {} | ReactElement<any, string | ((props: any) => ReactElement<any, string | ... | (new (props: any) => Component<any, any, any>)> | null) | (new (props: any) => Component<...>)> | ... 4 more ... | undefined"}},initialData:{defaultValue:null,description:"The initial form data",name:"initialData",required:!0,type:{name:"Object"}},schemaData:{defaultValue:null,description:"The object with validation rules per field",name:"schemaData",required:!0,type:{name:"SchemaData"}},isSubmitted:{defaultValue:{value:"false"},description:"Indicates when the data has been created or there was an attempt to create it",name:"isSubmitted",required:!1,type:{name:"boolean | undefined"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/FormFlowProvider.tsx#FormFlowProvider"]={docgenInfo:FormFlowProvider.__docgenInfo,name:"FormFlowProvider",path:"src/FormFlowProvider.tsx#FormFlowProvider"})}catch(__react_docgen_typescript_loader_error){}var helpers_extends=__webpack_require__(9),extends_default=__webpack_require__.n(helpers_extends),objectWithoutPropertiesLoose=__webpack_require__(47),objectWithoutPropertiesLoose_default=__webpack_require__.n(objectWithoutPropertiesLoose);function defaultResponse(){return{}}function factoryValidate(validationName,isValid,response){return function(args){return extends_default()({},args,{isValid:isValid(args),name:validationName,key:(args.path+".errors."+validationName).replace(/\[\d*\]/g,"")},(response||defaultResponse)(args))}}var _excluded=["response"],EMPTY_OBJECT={response:void 0},SchemaBuilder_validations={};var SchemaBuilder=Object.freeze({builder:function builder(){var schema={},instance={build:function build(){return wrapSchemaWithValidationMethods(schema)},with:function _with(path,invalidationPaths){void 0===invalidationPaths&&(invalidationPaths=[]);var validationMethods=[],newBuilder={check:void 0,end:void 0,test:function test(validationName,isValid,response){return validationMethods.push(factoryValidate(validationName,isValid,response)),newBuilder[validationName]=function(){return newBuilder},newBuilder}};return Object.entries(SchemaBuilder_validations).forEach((function(_ref2){var key=_ref2[0],method=_ref2[1];newBuilder[key]||(newBuilder[key]=function(){for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++)args[_key]=arguments[_key];var _ref3=args,input=_ref3[0];return validationMethods.push(method(input)),newBuilder})})),newBuilder.check=function check(validationName,extraArguments){return newBuilder[validationName](extraArguments),newBuilder},newBuilder.end=function end(){return schema[path]=createValidations.apply(void 0,[invalidationPaths].concat(validationMethods)),instance},newBuilder}};return instance},factory:function factory(validationName,isValid,defaultExtraArgs){if(SchemaBuilder_validations[validationName]||"test"===validationName)throw new Error('The validation "'+validationName+'" already exists, you cannot override it.\nValidations can be manipulated by get("'+validationName+'"), purge("'+validationName+'").');SchemaBuilder_validations[validationName]=function factoryValidationInternal(args){var _ref=args||EMPTY_OBJECT,remainingArguments=(_ref.response,objectWithoutPropertiesLoose_default()(_ref,_excluded)),response=(null==args?void 0:args.response)||(null==defaultExtraArgs?void 0:defaultExtraArgs.response),validate=factoryValidate(validationName,isValid,response);return function(internalArgs){return validate(extends_default()({name:validationName},internalArgs,remainingArguments))}}},get:function get(validationName){return"test"===validationName?factoryValidate:SchemaBuilder_validations[validationName]},purge:function purge(validationNames){var validationNamesToRemove=function getPurgedList(validationNames){if("test"===validationNames||validationNames&&validationNames.some&&validationNames.some((function(validationName){return"test"===validationName})))throw new Error('"test" cannot be purged. It is a fundamental validation.');if(Array.isArray(validationNames))return validationNames;if(void 0===validationNames)return Object.keys(SchemaBuilder_validations).filter((function(validation){return"test"!==validation}));if("string"==typeof validationNames)return[validationNames];throw new Error('Argument "validationNames" can only be string, array or undefined.')}(validationNames),removed={};return validationNamesToRemove.forEach((function(validationName){removed[validationName]=SchemaBuilder_validations[validationName],delete SchemaBuilder_validations[validationName]})),removed}});var ACCEPTABLE_TYPES=["boolean","undefined"];function getBooleanFromMapPath(map){var type=typeof map;return ACCEPTABLE_TYPES.includes(type)?!!map:Object.values(map).some((function(possibleBoolean){return getBooleanFromMapPath(possibleBoolean)}))}var isFormDirty=getBooleanFromMapPath,isFormTouched=getBooleanFromMapPath,useFormFlowValidation_EMPTY_LIST=[];function useFormFlowValidation(path){void 0===path&&(path="");var metadata=useObservableState(Object(react.useContext)(FormFlowDataContext))[0],mapDirty=metadata.dirty,submitCount=metadata.submitCount,mapTouched=metadata.touched,_metadata$validations=metadata.validationsState,allValidations=_metadata$validations.allValidations,byPath=_metadata$validations.byPath,isAllValid=_metadata$validations.isAllValid,data=metadata.values,pathIndexesCleared=clearIndexes(path),validations=path?byPath[path]||byPath[pathIndexesCleared]||useFormFlowValidation_EMPTY_LIST:allValidations,isArrayWithNoIndex=pathIndexesCleared===path&&path.includes("[]"),initialMapDirty=Object(react.useMemo)((function(){return!isArrayWithNoIndex&&(path?accessor_get(mapDirty,path):mapDirty)}),[isArrayWithNoIndex,mapDirty,path]),initialMapTouched=Object(react.useMemo)((function(){return!isArrayWithNoIndex&&(path?accessor_get(mapTouched,path):mapTouched)}),[isArrayWithNoIndex,mapTouched,path]);return{submitted:submitCount>0,data:data,dirty:Object(react.useMemo)((function(){return isFormDirty(initialMapDirty)}),[initialMapDirty]),touched:Object(react.useMemo)((function(){return isFormTouched(initialMapTouched)}),[initialMapTouched]),isAllValid:isAllValid,validations:validations}}function useFormFlowItem(path){var _useObservableState=useObservableState(Object(react.useContext)(FormFlowDataContext)),metadata=_useObservableState[0],setMetadata=_useObservableState[1],_useFormFlowValidatio=useFormFlowValidation(path),validations=_useFormFlowValidatio.validations,touched=_useFormFlowValidatio.touched,dirty=_useFormFlowValidatio.dirty,submitted=_useFormFlowValidatio.submitted,_useFormFlow=function useFormFlow(){var observableState=Object(react.useContext)(FormFlowDataContext),onBlurByPath=Object(react.useCallback)((function(path){observableState.set((function(oldData){return accessor_get(oldData,"touched."+path)?oldData:set(oldData,"touched."+path,!0)}))}),[observableState]),onChangeByPath=Object(react.useCallback)((function(path,value){observableState.set((function(oldData){var oldValue=accessor_get(oldData,"values."+path),isDirtyOld=accessor_get(oldData,"dirty."+path),isDirty=(oldValue||"")!==value;return oldValue===value&&isDirtyOld===isDirty?oldData:set(set(oldData,"dirty."+path,isDirty),"values."+path,value)}))}),[observableState]);return{data:observableState.get(),onBlurByPath:onBlurByPath,onChangeByPath:onChangeByPath,setData:observableState.set}}(),onChangeByPath=_useFormFlow.onChangeByPath,onBlurByPath=_useFormFlow.onBlurByPath,data=metadata.values,setData=Object(react.useCallback)((function(values){setMetadata((function(oldMetadata){return extends_default()({},oldMetadata,{values:values})}))}),[setMetadata]),onChangeValue=Object(react.useCallback)((function(value){onChangeByPath(path,value)}),[path,onChangeByPath]),onBlur=Object(react.useCallback)((function(){onBlurByPath(path)}),[onBlurByPath,path]),onChange=Object(react.useCallback)((function(e){onChangeByPath(path,e.target.value)}),[onChangeByPath,path]),value=Object(react.useMemo)((function(){return path?accessor_get(data,path):data}),[data,path]);return{data:data,dirty:dirty,onBlur:onBlur,onChangeValue:onChangeValue,onChange:onChange,setData:setData,submitted:submitted,touched:touched,validations:validations,value:value}}var useFormFlowField_excluded=["dirty","value","validations","submitted","touched"],Types_Event="event",DEFAULT_OPTIONS={onBlur:function onBlur(){return!0},onChange:function onChange(){return!0},onChangeValue:function onChangeValue(){return!0},eventType:Types_Event};var src_useFormFlowField=function useFormFlowField(path,options){var _useFormFlowItem=useFormFlowItem(path),dirty=_useFormFlowItem.dirty,value=_useFormFlowItem.value,validations=_useFormFlowItem.validations,submitted=_useFormFlowItem.submitted,touched=_useFormFlowItem.touched,metadata=objectWithoutPropertiesLoose_default()(_useFormFlowItem,useFormFlowField_excluded),metadataOptions=extends_default()({},DEFAULT_OPTIONS,options||DEFAULT_OPTIONS),blur=metadataOptions.onBlur,change=metadataOptions.onChange,changeValue=metadataOptions.onChangeValue,blurForm=metadata.onBlur,changeForm=metadata.onChange,changeValueForm=metadata.onChangeValue,onBlur=Object(react.useCallback)((function(e){blur(e),blurForm(e)}),[blur,blurForm]),onChange=Object(react.useCallback)((function(e){change(e),changeForm&&changeForm(e)}),[change,changeForm]),onChangeValue=Object(react.useCallback)((function(val){changeValue(val),changeValueForm&&changeValueForm(val)}),[changeValue,changeValueForm]);return{dirty:dirty,errors:Object(react.useMemo)((function(){return validations.filter((function(_ref){return!_ref.isValid}))}),[validations]),field:metadataOptions.eventType===Types_Event?{onBlur:onBlur,onChange:onChange,value:value}:{onBlur:onBlur,onChangeValue:onChangeValue,value:value},submitted:submitted,touched:touched}};function useResetForm(){var observableState=Object(react.useContext)(FormFlowDataContext),ref=Object(react.useRef)(null);return{onReset:Object(react.useCallback)((function(){ref.current&&ref.current.reset(),observableState.set((function(metadata){return extends_default()({},metadata,{values:metadata.initialValues})}))}),[observableState]),ref:ref}}var asyncToGenerator=__webpack_require__(1672),asyncToGenerator_default=__webpack_require__.n(asyncToGenerator),regenerator=__webpack_require__(990),regenerator_default=__webpack_require__.n(regenerator);function useSubmitForm(submit){var observableState=Object(react.useContext)(FormFlowDataContext);return{onSubmit:Object(react.useCallback)(function(){var _ref=asyncToGenerator_default()(regenerator_default.a.mark((function _callee(e){var _observableState$get,values,validationsState,allValidations,isValid;return regenerator_default.a.wrap((function _callee$(_context){for(;;)switch(_context.prev=_context.next){case 0:return e.preventDefault(),_observableState$get=observableState.get(),values=_observableState$get.values,validationsState=_observableState$get.validationsState,allValidations=validationsState.allValidations,isValid=isValidByPaths(allValidations),observableState.set((function(oldData){return extends_default()({},oldData,{submitCount:oldData.submitCount+1})})),_context.next=7,submit(values,extends_default()({},validationsState,{isValid:isValid,e:e}));case 7:return _context.abrupt("return",!1);case 8:case"end":return _context.stop()}}),_callee)})));return function(_x){return _ref.apply(this,arguments)}}(),[observableState,submit])}}__webpack_exports__.c=src_FormFlowProvider},1910:function(module,exports){},2631:function(module,exports,__webpack_require__){"use strict";(function(module){(0,__webpack_require__(1050).configure)([__webpack_require__(2632)],module,!1)}).call(this,__webpack_require__(419)(module))},2632:function(module,exports,__webpack_require__){var map={"./stories/AddressBook.stories.mdx":2652,"./stories/AppInteractive.stories.mdx":2656,"./stories/GettingStarted.stories.mdx":2638,"./stories/RecipesCheckbox.stories.mdx":2639,"./stories/RecipesDropdown.stories.mdx":2642,"./stories/RecipesInput.stories.mdx":2643,"./stories/RecipesRadio.stories.mdx":2644,"./stories/RecipesSchemaBuilder.stories.mdx":2645,"./stories/RecipesUseFormFlowItem.stories.mdx":2646,"./stories/RecipesValidations.stories.mdx":2647};function webpackContext(req){var id=webpackContextResolve(req);return __webpack_require__(id)}function webpackContextResolve(req){if(!__webpack_require__.o(map,req)){var e=new Error("Cannot find module '"+req+"'");throw e.code="MODULE_NOT_FOUND",e}return map[req]}webpackContext.keys=function webpackContextKeys(){return Object.keys(map)},webpackContext.resolve=webpackContextResolve,module.exports=webpackContext,webpackContext.id=2632},2635:function(module,exports,__webpack_require__){var map={"./af":1513,"./af.js":1513,"./ar":1514,"./ar-dz":1515,"./ar-dz.js":1515,"./ar-kw":1516,"./ar-kw.js":1516,"./ar-ly":1517,"./ar-ly.js":1517,"./ar-ma":1518,"./ar-ma.js":1518,"./ar-sa":1519,"./ar-sa.js":1519,"./ar-tn":1520,"./ar-tn.js":1520,"./ar.js":1514,"./az":1521,"./az.js":1521,"./be":1522,"./be.js":1522,"./bg":1523,"./bg.js":1523,"./bm":1524,"./bm.js":1524,"./bn":1525,"./bn.js":1525,"./bo":1526,"./bo.js":1526,"./br":1527,"./br.js":1527,"./bs":1528,"./bs.js":1528,"./ca":1529,"./ca.js":1529,"./cs":1530,"./cs.js":1530,"./cv":1531,"./cv.js":1531,"./cy":1532,"./cy.js":1532,"./da":1533,"./da.js":1533,"./de":1534,"./de-at":1535,"./de-at.js":1535,"./de-ch":1536,"./de-ch.js":1536,"./de.js":1534,"./dv":1537,"./dv.js":1537,"./el":1538,"./el.js":1538,"./en-SG":1539,"./en-SG.js":1539,"./en-au":1540,"./en-au.js":1540,"./en-ca":1541,"./en-ca.js":1541,"./en-gb":1542,"./en-gb.js":1542,"./en-ie":1543,"./en-ie.js":1543,"./en-il":1544,"./en-il.js":1544,"./en-nz":1545,"./en-nz.js":1545,"./eo":1546,"./eo.js":1546,"./es":1547,"./es-do":1548,"./es-do.js":1548,"./es-us":1549,"./es-us.js":1549,"./es.js":1547,"./et":1550,"./et.js":1550,"./eu":1551,"./eu.js":1551,"./fa":1552,"./fa.js":1552,"./fi":1553,"./fi.js":1553,"./fo":1554,"./fo.js":1554,"./fr":1555,"./fr-ca":1556,"./fr-ca.js":1556,"./fr-ch":1557,"./fr-ch.js":1557,"./fr.js":1555,"./fy":1558,"./fy.js":1558,"./ga":1559,"./ga.js":1559,"./gd":1560,"./gd.js":1560,"./gl":1561,"./gl.js":1561,"./gom-latn":1562,"./gom-latn.js":1562,"./gu":1563,"./gu.js":1563,"./he":1564,"./he.js":1564,"./hi":1565,"./hi.js":1565,"./hr":1566,"./hr.js":1566,"./hu":1567,"./hu.js":1567,"./hy-am":1568,"./hy-am.js":1568,"./id":1569,"./id.js":1569,"./is":1570,"./is.js":1570,"./it":1571,"./it-ch":1572,"./it-ch.js":1572,"./it.js":1571,"./ja":1573,"./ja.js":1573,"./jv":1574,"./jv.js":1574,"./ka":1575,"./ka.js":1575,"./kk":1576,"./kk.js":1576,"./km":1577,"./km.js":1577,"./kn":1578,"./kn.js":1578,"./ko":1579,"./ko.js":1579,"./ku":1580,"./ku.js":1580,"./ky":1581,"./ky.js":1581,"./lb":1582,"./lb.js":1582,"./lo":1583,"./lo.js":1583,"./lt":1584,"./lt.js":1584,"./lv":1585,"./lv.js":1585,"./me":1586,"./me.js":1586,"./mi":1587,"./mi.js":1587,"./mk":1588,"./mk.js":1588,"./ml":1589,"./ml.js":1589,"./mn":1590,"./mn.js":1590,"./mr":1591,"./mr.js":1591,"./ms":1592,"./ms-my":1593,"./ms-my.js":1593,"./ms.js":1592,"./mt":1594,"./mt.js":1594,"./my":1595,"./my.js":1595,"./nb":1596,"./nb.js":1596,"./ne":1597,"./ne.js":1597,"./nl":1598,"./nl-be":1599,"./nl-be.js":1599,"./nl.js":1598,"./nn":1600,"./nn.js":1600,"./pa-in":1601,"./pa-in.js":1601,"./pl":1602,"./pl.js":1602,"./pt":1603,"./pt-br":1604,"./pt-br.js":1604,"./pt.js":1603,"./ro":1605,"./ro.js":1605,"./ru":1606,"./ru.js":1606,"./sd":1607,"./sd.js":1607,"./se":1608,"./se.js":1608,"./si":1609,"./si.js":1609,"./sk":1610,"./sk.js":1610,"./sl":1611,"./sl.js":1611,"./sq":1612,"./sq.js":1612,"./sr":1613,"./sr-cyrl":1614,"./sr-cyrl.js":1614,"./sr.js":1613,"./ss":1615,"./ss.js":1615,"./sv":1616,"./sv.js":1616,"./sw":1617,"./sw.js":1617,"./ta":1618,"./ta.js":1618,"./te":1619,"./te.js":1619,"./tet":1620,"./tet.js":1620,"./tg":1621,"./tg.js":1621,"./th":1622,"./th.js":1622,"./tl-ph":1623,"./tl-ph.js":1623,"./tlh":1624,"./tlh.js":1624,"./tr":1625,"./tr.js":1625,"./tzl":1626,"./tzl.js":1626,"./tzm":1627,"./tzm-latn":1628,"./tzm-latn.js":1628,"./tzm.js":1627,"./ug-cn":1629,"./ug-cn.js":1629,"./uk":1630,"./uk.js":1630,"./ur":1631,"./ur.js":1631,"./uz":1632,"./uz-latn":1633,"./uz-latn.js":1633,"./uz.js":1632,"./vi":1634,"./vi.js":1634,"./x-pseudo":1635,"./x-pseudo.js":1635,"./yo":1636,"./yo.js":1636,"./zh-cn":1637,"./zh-cn.js":1637,"./zh-hk":1638,"./zh-hk.js":1638,"./zh-tw":1639,"./zh-tw.js":1639};function webpackContext(req){var id=webpackContextResolve(req);return __webpack_require__(id)}function webpackContextResolve(req){if(!__webpack_require__.o(map,req)){var e=new Error("Cannot find module '"+req+"'");throw e.code="MODULE_NOT_FOUND",e}return map[req]}webpackContext.keys=function webpackContextKeys(){return Object.keys(map)},webpackContext.resolve=webpackContextResolve,module.exports=webpackContext,webpackContext.id=2635},2638:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"__page",(function(){return __page}));var _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(9),_babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0__),_babel_runtime_helpers_objectWithoutPropertiesLoose__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(47),_babel_runtime_helpers_objectWithoutPropertiesLoose__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(_babel_runtime_helpers_objectWithoutPropertiesLoose__WEBPACK_IMPORTED_MODULE_1__),_mdx_js_react__WEBPACK_IMPORTED_MODULE_3__=(__webpack_require__(0),__webpack_require__(1)),_storybook_addon_docs__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(12),_excluded=["components"],layoutProps={};function MDXContent(_ref){var components=_ref.components,props=_babel_runtime_helpers_objectWithoutPropertiesLoose__WEBPACK_IMPORTED_MODULE_1___default()(_ref,_excluded);return Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_3__.b)("wrapper",_babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0___default()({},layoutProps,props,{components:components,mdxType:"MDXLayout"}),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_3__.b)(_storybook_addon_docs__WEBPACK_IMPORTED_MODULE_4__.c,{title:"Docs/Getting Started",component:function component(){return Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_3__.b)("div",null)},mdxType:"Meta"}),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_3__.b)("h1",{id:"getting-started"},"Getting Started"),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_3__.b)("p",null,Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_3__.b)("a",{parentName:"p",href:"https://www.npmjs.com/package/react-form-flow",target:"_blank",rel:"nofollow noopener noreferrer"},"react-form-flow")," as its name describes is a library to define a common and automated workflow to collect and validate form data. Allow user to consume the data and validation based on the json path."),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_3__.b)("h2",{id:"when-should-i-consider-using-react-form-flow-to-manage-form"},"When should I consider using react-form-flow to manage form?"),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_3__.b)("p",null,"There are several types of form library for ",Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_3__.b)("inlineCode",{parentName:"p"},"react"),", and they have their pros and cons, and this library is no different. So there are some case you may not need or want to use this library."),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_3__.b)("ul",null,Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_3__.b)("li",{parentName:"ul"},"If it is a simple form"),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_3__.b)("li",{parentName:"ul"},"If you application have only a single medium complexity form")),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_3__.b)("p",null,"The ",Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_3__.b)("a",{parentName:"p",href:"https://www.npmjs.com/package/react-form-flow",target:"_blank",rel:"nofollow noopener noreferrer"},"react-form-flow")," is very flexible and provide ways to manage complex relations/validation over the data. The initial step to consume may require a bit more effort to consume this library either by factorying custom validation or by creating ",Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_3__.b)("em",{parentName:"p"},"Input Form Wrappers")," with compatible interface. Checkout ",Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_3__.b)("a",{parentName:"p",href:"?path=/docs/docs-recipes-validations--page"},"Recipes/Validations")," and ",Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_3__.b)("a",{parentName:"p",href:"?path=/docs/docs-recipes-elements-checkbox--page"},"Recipes/Elements"),"."),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_3__.b)("p",null,"Some libraries are focused on the form elements, whereas the ",Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_3__.b)("a",{parentName:"p",href:"https://www.npmjs.com/package/react-form-flow",target:"_blank",rel:"nofollow noopener noreferrer"},"react-form-flow")," is focused on the data itself. If you had to remove some elements from the view for sake of visual/UX, the data is still retained in the form data."),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_3__.b)("p",null,"So, when is this library recommended:"),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_3__.b)("ul",null,Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_3__.b)("li",{parentName:"ul"},"If you are building an application with a few forms"),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_3__.b)("li",{parentName:"ul"},"If you are building an application with at least 1 complex form")),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_3__.b)("p",null,"This is justified for the initial cost of adoption, once paid, it brings a lot of benefits and speed managing form data."),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_3__.b)("h2",{id:"how-to-use-it"},"How to use it"),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_3__.b)("p",null,"Define your form data wrapping with the container below."),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_3__.b)("pre",null,Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_3__.b)("code",{parentName:"pre",className:"language-js"},"import FormFlowProvider from 'react-form-flow';\n// or\nimport { FormFlowProvider } from 'react-form-flow';\n")),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_3__.b)("p",null,"Use hooks to get values, event handler and validations."),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_3__.b)("pre",null,Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_3__.b)("code",{parentName:"pre",className:"language-js"},"import { useFormFlowField, useFormFlowValidation } from 'react-form-flow';\n")),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_3__.b)("h2",{id:"first-steps"},"First Steps"),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_3__.b)("p",null,"To improve your productivity, it would be good to create your core form components such as input, dropdowns and on and on following the ",Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_3__.b)("a",{parentName:"p",href:"https://www.npmjs.com/package/react-form-flow",target:"_blank",rel:"nofollow noopener noreferrer"},"react-form-flow")," spec."),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_3__.b)("p",null,Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_3__.b)("a",{parentName:"p",href:"https://codesandbox.io/s/pensive-paper-sgykr",target:"_blank",rel:"nofollow noopener noreferrer"},"Code Sandbox Example")),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_3__.b)("p",null,"We also have an older version using a ",Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_3__.b)("a",{parentName:"p",href:"?path=/docs/docs-recipes-useformflowitem--page"},"base hooks"),", it is useful for more advanced and custom usage. In most of the form cases, the current documentation is better option."),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_3__.b)("p",null,Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_3__.b)("em",{parentName:"p"},"JSON PATH")," is a notation to navigate through the JSON object."),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_3__.b)("p",null,"e.g."),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_3__.b)("p",null,Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_3__.b)("strong",{parentName:"p"},"src/initialData.js")),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_3__.b)("pre",null,Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_3__.b)("code",{parentName:"pre",className:"language-js"},"export default {\n    person: {\n      id: 1,\n      name: 'Jane Doe',\n      email: 'jane@doe.dead'\n      children:[\n        {id: 2, name: 'John Doe'}\n      ]\n    }\n};\n")),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_3__.b)("p",null,"Note: observing the json above, the json path to access the name of first child is ",Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_3__.b)("inlineCode",{parentName:"p"},'"person.chidlren[0].name"'),". Although this first tutorial won't\ncover arrays, you can access the ",Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_3__.b)("a",{parentName:"p",href:"https://codesandbox.io/s/pensive-paper-sgykr",target:"_blank",rel:"nofollow noopener noreferrer"},"Code Sandbox Example")," to understand it."),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_3__.b)("p",null,Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_3__.b)("strong",{parentName:"p"},"src/ValidationResult.jsx")),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_3__.b)("pre",null,Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_3__.b)("code",{parentName:"pre",className:"language-jsx"},"import React from 'react';\n\nexport default function ValidationResult({ errors }) {\n  return (\n    <section>\n      {validations.map((validation) => <div key={validation.key}>{JSON.stringify(validation, null, 2)}</div>)}\n    </section>\n  );\n}\n")),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_3__.b)("h3",{id:"inputfield"},"InputField"),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_3__.b)("p",null,"The input field could receive from the ",Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_3__.b)("inlineCode",{parentName:"p"},"useFormFlowField")," an object with the spec below."),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_3__.b)("pre",null,Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_3__.b)("code",{parentName:"pre",className:"language-ts"},"interface FormFlowField {\n  dirty: boolean;\n  errors: Array<Validation>;\n  field: FieldMetadata;\n  submitted: boolean;\n  touched: boolean;\n}\n")),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_3__.b)("p",null,"Validation returned can match whatever you want, for the sake of standard, let's always return this below."),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_3__.b)("pre",null,Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_3__.b)("code",{parentName:"pre",className:"language-ts"},"interface Validation {\n  data: object;\n  dependencies: any[];\n  get: (data: Object, path: string) => any;\n  key: string;\n  isValid: boolean;\n  name: string;\n  path: string;\n  value: any;\n}\n")),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_3__.b)("p",null,"And, finally, the field would have these properties."),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_3__.b)("pre",null,Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_3__.b)("code",{parentName:"pre",className:"language-ts"},"interface FieldMetadata {\n  /**\n   * Depending on the eventType passed to useFormFlowField, it returns\n   * either onChange or onChangeValue.\n   * */\n  onChange(e: Event): void;\n  onChangeValue(value: any): void;\n  /**\n   * Common properties\n   * */\n  onBlur(e: Event): void;\n  value: any;\n}\n")),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_3__.b)("p",null,"Component..."),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_3__.b)("p",null,Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_3__.b)("strong",{parentName:"p"},"src/InputField.jsx")),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_3__.b)("pre",null,Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_3__.b)("code",{parentName:"pre",className:"language-jsx"},"import React from 'react';\nimport ValidationResult from './ValidationResult';\n\nexport default function InputField({\n  errors,\n  field,\n  label,\n  touched,\n  submitted,\n  value,\n}) {\n  return (\n    <div>\n      <div>{label}</div>\n      <input type=\"text\" {...field} />\n      <div>\n        {(submitted || touched) && <ValidationResult validations={errors} />}\n      </div>\n    </div>\n  );\n}\n\nInputField.defaultProps = {\n  value: '',\n};\n")),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_3__.b)("p",null,Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_3__.b)("strong",{parentName:"p"},"src/form/SchemaBuilder.js")),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_3__.b)("pre",null,Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_3__.b)("code",{parentName:"pre",className:"language-jsx"},'import { SchemaBuilder } from \'react-form-flow\';\n\nfunction hasValue(value) {\n  return (\n    value !== null && value !== undefined && (typeof value !== \'string\' || (value && value.trim()))\n  );\n}   \n/** \n * Once you factory it, you can use as many times as you want via "check"\n **/\nSchemaBuilder.factory("required", (metadata) => hasValue(metadata.value));\nSchemaBuilder.factory("min-length", (metadata) => {\n  const value = metadata.value ?? "";\n  const isValid = value.trim().length >= metadata.min;\n  return isValid;\n});\nSchemaBuilder.factory("max-length", (metadata) => {\n  const value = metadata.value ?? "";\n  const isValid = value.trim().length <= metadata.max;\n  return isValid;\n});\n\nexport default SchemaBuilder;\n')),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_3__.b)("p",null,Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_3__.b)("strong",{parentName:"p"},"src/schemaData.js")),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_3__.b)("pre",null,Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_3__.b)("code",{parentName:"pre",className:"language-jsx"},'import SchemaBuilder from \'./form/SchemaBuilder\';\n\n/** \n * Adding more metadata to the Validation result object\n */\nfunction getLength(metadata) {\n  const { length } = (metadata.value ?? "").trim();\n  return { length };\n}\n\nexport default SchemaBuilder.builer()\n  .with("name")\n  .check("required")\n  .check("min-length", { min: 5, response: getLength })\n  .check("max-length", { max: 50, response: getLength })\n  .end()\n  .with("email")\n  .check("required")\n  .check("min-length", { min: 10, response: getLength })\n  .check("max-length", { max: 250, response: getLength })\n  /** \n   * If the validation is one-time used, you can create it on the fly\n   * using "test"\n   */\n  .test("invalid", (metadata) => {\n    const value = metadata.value ?? "";\n    const isValid = /^\\w+([\\.-]?\\w+)*@\\w+([\\.-]?\\w+)*(\\.\\w{2,4})+$/.test(value);\n    return isValid;\n  })\n  .end()\n  .build()\n')),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_3__.b)("h4",{id:"app"},"App"),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_3__.b)("p",null,"A few things are required in order to use the ",Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_3__.b)("a",{parentName:"p",href:"https://www.npmjs.com/package/react-form-flow",target:"_blank",rel:"nofollow noopener noreferrer"},"react-form-flow")," library."),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_3__.b)("ul",null,Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_3__.b)("li",{parentName:"ul"},"initialData: the initial data to be rendered in the form"),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_3__.b)("li",{parentName:"ul"},"schemaData: an object with validation rules per json path"),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_3__.b)("li",{parentName:"ul"},"children: the react node being wrapped by the provider containing the real form within fields")),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_3__.b)("pre",null,Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_3__.b)("code",{parentName:"pre",className:"language-jsx"},"import React from 'react';\n// eslint-disable-next-line\nimport styled from 'styled-components';\nimport {\n  createValidations,\n  FormFlowProvider,\n  useFormFlowField,\n  useFormFlowValidation,\n} from 'react-form-flow';\nimport Validation from './Validation';\nimport InputField from './InputField';\nimport schemaData from './schemaData';\nimport initialData from './initialData';\n\nconst Layout = styled.div`\n  height: 100%;\n  width: 100%;\n\n  display: grid;\n\n  grid-template-columns: 1fr 1fr;\n  grid-template-rows: auto;\n`;\n\nfunction Form() {\n  const name = useFormFlowField('name');\n  const email = useFormFlowField('email');\n\n  return (\n    <div>\n      <InputField label=\"Name\" {...name} />\n      <InputField label=\"Email\" {...email} />\n    </div>\n  );\n}\n\nfunction DemoApp() {\n  return (\n    <Layout>\n      <FormFlowProvider initialData={initialData} schemaData={schemaData}>\n        <Form />\n      </FormFlowProvider>\n    </Layout>\n  );\n}\n")),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_3__.b)("p",null,"Running..."),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_3__.b)("pre",null,Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_3__.b)("code",{parentName:"pre",className:"language-jsx"},"<DemoApp />\n")),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_3__.b)("h2",{id:"aditional-tip-domain-validations--one-time-validations"},"Aditional tip: Domain validations / One-time validations"),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_3__.b)("p",null,"Some form data will require validations that are very much domain attached and it won't be reused anywhere else, for this reason a dynamic validation can be created at the time the ",Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_3__.b)("inlineCode",{parentName:"p"},"schemaData")," is being built. Let's look at the example below where we will validate an email as required if only name is greater than 3 chars."),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_3__.b)("p",null,Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_3__.b)("strong",{parentName:"p"},"src/schemaData.js")),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_3__.b)("pre",null,Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_3__.b)("code",{parentName:"pre",className:"language-jsx"},'import SchemaBuilder from \'./form/SchemaBuilder\';\n\n/** \n * Adding more metadata to the Validation result object\n */\nfunction getLength(metadata) {\n  const { length } = (metadata.value ?? "").trim();\n  return { length };\n}\n\nexport default SchemaBuilder.builer()\n  .with("name")\n  .check("required")\n  .check("min-length", { min: 5, response: getLength })\n  .check("max-length", { max: 50, response: getLength })\n  .end()\n  // first, we set the name  as dependency\n  .with("email", ["$.name"])\n  // .check("required") // removed the static required\n  .check("min-length", { min: 10, response: getLength })\n  .check("max-length", { max: 250, response: getLength })\n  /** \n   * If the validation is one-time used, you can create it on the fly\n   * using "test"\n   */\n  .test("invalid", (metadata) => {\n    const value = metadata.value ?? "";\n    const isValid = /^\\w+([\\.-]?\\w+)*@\\w+([\\.-]?\\w+)*(\\.\\w{2,4})+$/.test(value);\n    return isValid;\n  })\n  .test("requiredConditional", (metadata) => {\n    const {\n      value,\n      dependencies: [name]\n    } = metadata;\n    // validation will always be considered initially as true\n    let isValid = true;\n\n    // only validates if name is greater than 3 chars\n    if ((name || "").toString().trim().length > 3) {\n      isValid = Boolean((value ?? "").toString().trim());\n    }\n\n    return isValid;\n  })\n  .end()\n  .build()\n')))}MDXContent.isMDXComponent=!0;var __page=function __page(){throw new Error("Docs-only story")};__page.parameters={docsOnly:!0};var componentMeta={title:"Docs/Getting Started",component:function component(){return Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_3__.b)("div",null)},includeStories:["__page"]},mdxStoryNameToKey={};componentMeta.parameters=componentMeta.parameters||{},componentMeta.parameters.docs=_babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0___default()({},componentMeta.parameters.docs||{},{page:function page(){return Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_3__.b)(_storybook_addon_docs__WEBPACK_IMPORTED_MODULE_4__.a,{mdxStoryNameToKey:mdxStoryNameToKey,mdxComponentMeta:componentMeta},Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_3__.b)(MDXContent,null))}}),__webpack_exports__.default=componentMeta},2639:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"__page",(function(){return __page}));var _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(9),_babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0__),_babel_runtime_helpers_objectWithoutPropertiesLoose__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(47),_babel_runtime_helpers_objectWithoutPropertiesLoose__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(_babel_runtime_helpers_objectWithoutPropertiesLoose__WEBPACK_IMPORTED_MODULE_1__),_mdx_js_react__WEBPACK_IMPORTED_MODULE_3__=(__webpack_require__(0),__webpack_require__(1)),_storybook_addon_docs__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(12),_RecipesSchemaBuilder__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(54),_excluded=["components"],layoutProps={};function MDXContent(_ref){var components=_ref.components,props=_babel_runtime_helpers_objectWithoutPropertiesLoose__WEBPACK_IMPORTED_MODULE_1___default()(_ref,_excluded);return Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_3__.b)("wrapper",_babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0___default()({},layoutProps,props,{components:components,mdxType:"MDXLayout"}),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_3__.b)(_storybook_addon_docs__WEBPACK_IMPORTED_MODULE_4__.c,{title:"Docs/Recipes/Elements/Checkbox",component:_RecipesSchemaBuilder__WEBPACK_IMPORTED_MODULE_5__.b,parameters:{docs:{source:{code:""}}},mdxType:"Meta"}),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_3__.b)("h1",{id:"recipes"},"Recipes"),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_3__.b)("p",null,"How to build specific form elements to use the hooks provided by ",Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_3__.b)("inlineCode",{parentName:"p"},"react-form-flow"),"."),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_3__.b)("h2",{id:"checkbox-field"},"Checkbox Field"),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_3__.b)("p",null,"This recipe will show how to build a group/simple checkbox using the ",Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_3__.b)("inlineCode",{parentName:"p"},'input[type="checkbox"]')," markup following the interface defined by ",Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_3__.b)("inlineCode",{parentName:"p"},"react-form-flow"),"."),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_3__.b)("h2",{id:"code"},"Code"),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_3__.b)("p",null,"Here, we are using ",Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_3__.b)("a",{parentName:"p",href:"https://www.styled-components.com/",target:"_blank",rel:"nofollow noopener noreferrer"},"styled-components")," for prettifying styles."),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_3__.b)("p",null,Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_3__.b)("strong",{parentName:"p"},"src/ValidationResult.jsx")),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_3__.b)("p",null,"You will probably need a component to display the validations, see the draft below."),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_3__.b)("pre",null,Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_3__.b)("code",{parentName:"pre",className:"language-jsx"},"import React from 'react';\nimport styled from 'styled-components';\n\nconst ValidationResultLayout = styled.section`\n  .ValidationResultLayout__message {\n    color: red;\n  }\n`;\n\nexport default function ValidationResult({ errors = [] }) {\n  return (\n    <ValidationResultLayout>\n      {validations.map(\n        (validation) =>(\n          <div className=\"ValidationResultLayout__message\" key={validation.key}>\n            {JSON.stringify(validation, null, 2)}\n          </div>\n        )\n      )}\n    </ValidationResultLayout>\n  );\n}\n")),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_3__.b)("p",null,Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_3__.b)("strong",{parentName:"p"},"src/CheckboxField.jsx")),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_3__.b)("p",null,"Here, validations are received always and the consumer decides when to display them."),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_3__.b)("p",null,Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_3__.b)("strong",{parentName:"p"},"Note"),": For this case, we are displaying the validations straightaway, but, nothing block you to pass some property to control as it will be displayed. e.g. ",Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_3__.b)("inlineCode",{parentName:"p"},"showValidation")," when the form is submitted, then, it would be able to display by ",Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_3__.b)("inlineCode",{parentName:"p"},"{showValidation && <ValidationResult validations={validations} />}"),"."),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_3__.b)("pre",null,Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_3__.b)("code",{parentName:"pre",className:"language-jsx"},"import React, { useCallback, useRef, useState } from 'react';\nimport PropTypes from 'prop-types';\nimport uuid from 'uuid';\nimport styled from 'styled-components';\nimport ValidationResult from './ValidationResult';\n\nconst CheckboxFieldLayout = styled.div`\n  padding: 0 0 10px 0;\n  display: grid;\n  grid-template-columns: min-content;\n  grid-template-rows: min-content auto;\n\n  label {\n    display: grid;\n    grid-template-columns: min-content min-content;\n    grid-template-rows: auto;\n    white-space: nowrap;\n    grid-gap: 10px;\n  }\n\n  .CheckboxFieldLayout__validations {\n    display: block;\n    white-space: nowrap;\n  }\n`;\n\nexport default function CheckboxField({\n  checkedValue,\n  errors,\n  field,\n  label: labelText,\n  submitted,\n  touched,\n}) {\n  const id = useRef(uuid.v4());\n  const { onBlur, onChangeValue, value = '' } = field;\n  const onChange = useCallback(() => {\n    const treatedValue = value || [];\n    const hasValue = treatedValue.includes(checkedValue);\n    const newValue = hasValue\n      ? treatedValue.filter(val => val !== checkedValue)\n      : treatedValue.concat(checkedValue);\n\n    onChangeValue(newValue);\n  }, [checkedValue, onChangeValue, value]);\n\n  return (\n    <CheckboxFieldLayout>\n      <label htmlFor={id.current}>\n        <span>{labelText}</span>\n        <input\n          id={id.current}\n          type=\"checkbox\"\n          onBlur={onBlur}\n          onChange={onChange}\n          checked={(value || []).includes(checkedValue)}\n        />\n      </label>\n      <div className=\"CheckboxFieldLayout__validations\">\n        {(submitted || touched) && <ValidationResult errors={errors} />}\n      </div>\n    </CheckboxFieldLayout>\n  );\n}\n\n\nCheckboxField.defaultProps = {\n  label: null,\n  errors: []\n};\n")),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_3__.b)("h2",{id:"using-the-checkboxfield"},"Using the CheckboxField"),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_3__.b)("p",null,"After building the Checkbox, see below how to use it."),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_3__.b)("pre",null,Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_3__.b)("code",{parentName:"pre",className:"language-jsx"},'import React from \'react\';\nimport styled from \'styled-components\';\nimport { useFormFlowField } from \'react-form-flow\';\nimport CheckboxField from \'./CheckboxField\';\n\nconst CheckboxFieldRecipeLayout = styled.div``;\n\nexport default function CheckboxFieldRecipe() {\n  const skillsField = useFormFlowField(\'skills\', { eventType: \'value\' });\n\n  return (\n    <CheckboxFieldRecipeLayout>\n      <h2>Interact with the checkboxes below by clicking...</h2>\n      <fieldset>\n        <legend>Skills</legend>\n        <CheckboxField {...skillsField} label="Reading" checkedValue="reading" />\n        <CheckboxField {...skillsField} label="Strategic View" checkedValue="strategic_view" />\n        <CheckboxField {...skillsField} label="Cooking" checkedValue="cooking" />\n        <CheckboxField {...skillsField} label="Playing football" checkedValue="football" />\n        <span>\n          value:\n          {JSON.stringify(skillsField.value)}\n        </span>\n      </fieldset>\n    </CheckboxFieldRecipeLayout>\n  );\n}\n')),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_3__.b)("p",null,"And then..."),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_3__.b)("pre",null,Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_3__.b)("code",{parentName:"pre",className:"language-jsx"},"  import { FormFlowProvider } from 'react-form-flow';\n\n  const initialData = { ... };\n  const schemaData = { ... };\n\n  // ...\n\n  <FormFlowProvider initialData={initialData} schemaData={schemaData}>\n    <CheckboxFieldRecipe />\n  </FormFlowProvider>\n")))}MDXContent.isMDXComponent=!0;var __page=function __page(){throw new Error("Docs-only story")};__page.parameters={docsOnly:!0};var componentMeta={title:"Docs/Recipes/Elements/Checkbox",parameters:{docs:{source:{code:""}}},component:_RecipesSchemaBuilder__WEBPACK_IMPORTED_MODULE_5__.b,includeStories:["__page"]},mdxStoryNameToKey={};componentMeta.parameters=componentMeta.parameters||{},componentMeta.parameters.docs=_babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0___default()({},componentMeta.parameters.docs||{},{page:function page(){return Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_3__.b)(_storybook_addon_docs__WEBPACK_IMPORTED_MODULE_4__.a,{mdxStoryNameToKey:mdxStoryNameToKey,mdxComponentMeta:componentMeta},Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_3__.b)(MDXContent,null))}}),__webpack_exports__.default=componentMeta},2642:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"__page",(function(){return __page}));var _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(9),_babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0__),_babel_runtime_helpers_objectWithoutPropertiesLoose__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(47),_babel_runtime_helpers_objectWithoutPropertiesLoose__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(_babel_runtime_helpers_objectWithoutPropertiesLoose__WEBPACK_IMPORTED_MODULE_1__),_mdx_js_react__WEBPACK_IMPORTED_MODULE_3__=(__webpack_require__(0),__webpack_require__(1)),_storybook_addon_docs__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(12),_RecipesSchemaBuilder__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(54),_excluded=["components"],layoutProps={};function MDXContent(_ref){var components=_ref.components,props=_babel_runtime_helpers_objectWithoutPropertiesLoose__WEBPACK_IMPORTED_MODULE_1___default()(_ref,_excluded);return Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_3__.b)("wrapper",_babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0___default()({},layoutProps,props,{components:components,mdxType:"MDXLayout"}),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_3__.b)(_storybook_addon_docs__WEBPACK_IMPORTED_MODULE_4__.c,{title:"Docs/Recipes/Elements/Dropdown",component:_RecipesSchemaBuilder__WEBPACK_IMPORTED_MODULE_5__.b,parameters:{docs:{source:{code:""}}},mdxType:"Meta"}),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_3__.b)("h1",{id:"recipes"},"Recipes"),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_3__.b)("p",null,"How to build specific form elements to use the hooks provided by ",Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_3__.b)("inlineCode",{parentName:"p"},"react-form-flow"),"."),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_3__.b)("h2",{id:"dropdown-field-recipe"},"Dropdown Field Recipe"),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_3__.b)("p",null,"This recipe will show how to build a simple dropdown using the select markup following the interface defined by ",Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_3__.b)("inlineCode",{parentName:"p"},"react-form-flow"),"."),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_3__.b)("h2",{id:"code"},"Code"),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_3__.b)("p",null,"Here, we are using ",Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_3__.b)("a",{parentName:"p",href:"https://www.styled-components.com/",target:"_blank",rel:"nofollow noopener noreferrer"},"styled-components")," for prettifying styles."),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_3__.b)("p",null,Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_3__.b)("strong",{parentName:"p"},"src/ValidationResult.jsx")),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_3__.b)("p",null,"You will probably need a component to display the validations, see the draft below."),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_3__.b)("pre",null,Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_3__.b)("code",{parentName:"pre",className:"language-jsx"},"import React from 'react';\nimport styled from 'styled-components';\n\nconst ValidationResultLayout = styled.section`\n  .ValidationResultLayout__message {\n    color: red;\n  }\n`;\n\nexport default function ValidationResult({ errors = [] }) {\n  return (\n    <ValidationResultLayout>\n      {validations.map(\n        (validation) =>(\n          <div className=\"ValidationResultLayout__message\" key={validation.key}>\n            {JSON.stringify(validation, null, 2)}\n          </div>\n        )\n      )}\n    </ValidationResultLayout>\n  );\n}\n")),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_3__.b)("p",null,Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_3__.b)("strong",{parentName:"p"},"src/DropdownField.jsx")),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_3__.b)("p",null,"Here, validations are received always and the consumer decides when to display them."),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_3__.b)("p",null,Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_3__.b)("strong",{parentName:"p"},"Note"),": For this case, we are only displaying after visiting the field, but, nothing block you to pass another property ",Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_3__.b)("inlineCode",{parentName:"p"},"showValidation")," when the form is submitted, then, it would be able to display by ",Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_3__.b)("inlineCode",{parentName:"p"},"{(isVisited || showValidation) && <ValidationResult validations={validations} />}"),"."),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_3__.b)("pre",null,Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_3__.b)("code",{parentName:"pre",className:"language-jsx"},"import React, { useCallback, useRef, useState } from 'react';\nimport PropTypes from 'prop-types';\nimport uuid from 'uuid';\nimport styled from 'styled-components';\nimport ValidationResult from './ValidationResult';\n\nconst DropdownFieldLayout = styled.div`\n  padding: 0 0 10px 0;\n  display: grid;\n  grid-template-columns: min-content;\n  grid-template-rows: min-content auto;\n\n  label {\n    display: grid;\n    grid-template-columns: min-content;\n    grid-template-rows: min-content min-content min-content;\n    white-space: nowrap;\n    grid-gap: 10px;\n  }\n\n  .DropdownFieldLayout__validations {\n    display: block;\n    white-space: nowrap;\n  }\n`;\n\nexport default function DropdownField({\n  empty,\n  dirty,\n  errors,\n  field,\n  formatText,\n  formatValue,\n  label: labelText,\n  options,\n  submtted,\n  touched,\n}) {\n  const id = useRef(uuid.v4());\n  const { onBlur, onChangeValue, value = '' } = field;\n  const [isVisited, setIsVisited] = useState(false);\n  const onChange = useCallback(\n    e => {\n      const { value: optionValue } = e.target;\n\n      onChangeValue(options.find(option => formatValue(option) === optionValue) || null);\n    },\n    [formatValue, onChangeValue, options]\n  );\n\n  return (\n    <DropdownFieldLayout>\n      <label htmlFor={id.current}>\n        <span>{labelText}</span>\n        <select onBlur={onBlur} onChange={onChange} value={formatValue(value)}>\n          {empty && <option value={formatValue(empty)}>{formatText(empty)}</option>}\n          {Boolean(options && options.length) &&\n            options.map(option => {\n              const text = formatText(option);\n              const optionValue = formatValue(option);\n\n              return <option value={optionValue}>{text}</option>;\n            })}\n        </select>\n      </label>\n      <div className=\"DropdownFieldLayout__validations\">\n        {(submitted || dirty || touched) && <ValidationResult errors={errors} />}\n      </div>\n    </DropdownFieldLayout>\n  );\n}\n\nDropdownField.defaultProps = {\n  empty: null,\n  label: null,\n  errors: [],\n};\n")),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_3__.b)("h2",{id:"using-the-dropdownfield"},"Using the DropdownField"),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_3__.b)("p",null,"After building the Dropdown, see below how to use it."),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_3__.b)("pre",null,Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_3__.b)("code",{parentName:"pre",className:"language-jsx"},"import React from 'react';\nimport styled from 'styled-components';\nimport { useFormFlowField } from 'react-form-flow';\nimport DropdownField from './DropdownField';\n\nconst DropdownFieldRecipeLayout = styled.div``;\n\nconst countries = [\n  { id: 'br', name: 'Brazil' },\n  { id: 'ie', name: 'Ireland' },\n  { id: 'it', name: 'Italy' },\n  { id: 'sp', name: 'Spain' },\n  { id: 'uk', name: 'United Kingdom' },\n  { id: 'fr', name: 'France' },\n  { id: 'us', name: 'United States' },\n];\nconst empty = { id: '', name: 'Select your country' };\n\nfunction formatValue(item) {\n  const { id } = item || {};\n\n  return id;\n}\n\nfunction formatText(item) {\n  const { name } = item || {};\n\n  return name;\n}\n\nexport default function DropdownFieldRecipe() {\n  const nationalityField = useFormFlowField('nationality', { eventType: 'value' });\n\n  return (\n    <DropdownFieldRecipeLayout>\n      <h2>Interact with dropdown below by selecting a value...</h2>\n\n      <DropdownField\n        {...nationalityField}\n        empty={empty}\n        label=\"Nationality\"\n        options={countries}\n        formatValue={formatValue}\n        formatText={formatText}\n      />\n      <div>\n        {!nationalityField.value && <strong>No value selected yet.</strong>}\n        {nationalityField.value && (\n          <div>\n            <strong>Value:</strong>\n            <span>{JSON.stringify(nationalityField.value)}</span>\n          </div>\n        )}\n      </div>\n    </DropdownFieldRecipeLayout>\n  );\n}\n")),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_3__.b)("p",null,"And then..."),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_3__.b)("pre",null,Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_3__.b)("code",{parentName:"pre",className:"language-jsx"},"  import { FormFlowProvider } from 'react-form-flow';\n\n  const initialData = { ... };\n  const schemaData = { ... };\n\n  // ...\n\n  <FormFlowProvider initialData={initialData} schemaData={schemaData}>\n    <DropdownFieldRecipe />\n  </FormFlowProvider>\n")))}MDXContent.isMDXComponent=!0;var __page=function __page(){throw new Error("Docs-only story")};__page.parameters={docsOnly:!0};var componentMeta={title:"Docs/Recipes/Elements/Dropdown",parameters:{docs:{source:{code:""}}},component:_RecipesSchemaBuilder__WEBPACK_IMPORTED_MODULE_5__.b,includeStories:["__page"]},mdxStoryNameToKey={};componentMeta.parameters=componentMeta.parameters||{},componentMeta.parameters.docs=_babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0___default()({},componentMeta.parameters.docs||{},{page:function page(){return Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_3__.b)(_storybook_addon_docs__WEBPACK_IMPORTED_MODULE_4__.a,{mdxStoryNameToKey:mdxStoryNameToKey,mdxComponentMeta:componentMeta},Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_3__.b)(MDXContent,null))}}),__webpack_exports__.default=componentMeta},2643:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"__page",(function(){return __page}));var _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(9),_babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0__),_babel_runtime_helpers_objectWithoutPropertiesLoose__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(47),_babel_runtime_helpers_objectWithoutPropertiesLoose__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(_babel_runtime_helpers_objectWithoutPropertiesLoose__WEBPACK_IMPORTED_MODULE_1__),_mdx_js_react__WEBPACK_IMPORTED_MODULE_3__=(__webpack_require__(0),__webpack_require__(1)),_storybook_addon_docs__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(12),_RecipesSchemaBuilder__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(54),_excluded=["components"],layoutProps={};function MDXContent(_ref){var components=_ref.components,props=_babel_runtime_helpers_objectWithoutPropertiesLoose__WEBPACK_IMPORTED_MODULE_1___default()(_ref,_excluded);return Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_3__.b)("wrapper",_babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0___default()({},layoutProps,props,{components:components,mdxType:"MDXLayout"}),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_3__.b)(_storybook_addon_docs__WEBPACK_IMPORTED_MODULE_4__.c,{title:"Docs/Recipes/Elements/Input",component:_RecipesSchemaBuilder__WEBPACK_IMPORTED_MODULE_5__.b,parameters:{docs:{source:{code:""}}},mdxType:"Meta"}),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_3__.b)("h1",{id:"recipes"},"Recipes"),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_3__.b)("p",null,"How to build specific form elements to use the hooks provided by ",Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_3__.b)("inlineCode",{parentName:"p"},"react-form-flow"),"."),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_3__.b)("h2",{id:"input-field-recipe"},"Input Field Recipe"),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_3__.b)("p",null,"The idea here is to show how to optimise your performance by reusing a input field."),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_3__.b)("h2",{id:"code"},"Code"),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_3__.b)("p",null,"Here, we are using ",Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_3__.b)("a",{parentName:"p",href:"https://www.styled-components.com/",target:"_blank",rel:"nofollow noopener noreferrer"},"styled-components")," for prettifying styles."),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_3__.b)("p",null,Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_3__.b)("strong",{parentName:"p"},"src/ValidationResult.jsx")),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_3__.b)("p",null,"You will probably need a component to display the validations, see the draft below."),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_3__.b)("pre",null,Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_3__.b)("code",{parentName:"pre",className:"language-jsx"},"import React from 'react';\nimport styled from 'styled-components';\n\nconst ValidationResultLayout = styled.section`\n  .ValidationResultLayout__message {\n    color: red;\n  }\n`;\n\nexport default function ValidationResult({ errors = [] }) {\n  return (\n    <ValidationResultLayout>\n      {validations.map(\n        (validation) =>(\n          <div className=\"ValidationResultLayout__message\" key={validation.key}>\n            {JSON.stringify(validation, null, 2)}\n          </div>\n        )\n      )}\n    </ValidationResultLayout>\n  );\n}\n")),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_3__.b)("p",null,Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_3__.b)("strong",{parentName:"p"},"src/InputField.jsx")),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_3__.b)("p",null,"In the case below, validations are received always and the consumer decides when to display them."),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_3__.b)("p",null,Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_3__.b)("strong",{parentName:"p"},"Note"),": For this case, we are only displaying after visiting the field, but, nothing block you to pass another property ",Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_3__.b)("inlineCode",{parentName:"p"},"showValidation")," when the form is submitted, then, it would be able to display by ",Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_3__.b)("inlineCode",{parentName:"p"},"{(isVisited || showValidation) && <ValidationResult validations={validations} />}"),"."),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_3__.b)("pre",null,Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_3__.b)("code",{parentName:"pre",className:"language-jsx"},"import React, { useCallback, useRef, useState } from 'react';\nimport PropTypes from 'prop-types';\nimport uuid from 'uuid';\nimport styled from 'styled-components';\nimport ValidationResult from './ValidationResult';\n\nconst InputFieldLayout = styled.div`\n  padding: 0 0 10px 0;\n  label > span {\n    display: block;\n  }\n  .InputFieldLayout__validations {\n    display: block;\n  }\n`;\n\nexport default function InputField(props) {\n  const {\n    errors,\n    field,\n    label: labelText,\n    submitted,\n    touched,\n  } = props\n  const id = useRef(uuid.v4());\n\n  return (\n    <InputFieldLayout>\n      <label htmlFor={id.current}>\n        <span>{labelText}</span>\n        <input id={id.current} type=\"text\" {...field} />\n      </label>\n      <div className=\"InputFieldLayout__validations\">\n        {(submitted || touched) && <ValidationResult errors={errors} />}\n      </div>\n    </InputFieldLayout>\n  );\n}\n\nInputField.defaultProps = {\n  label: null,\n  errors: [],\n  value: '',\n};\n")),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_3__.b)("h2",{id:"using-the-inputfield"},"Using the InputField"),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_3__.b)("pre",null,Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_3__.b)("code",{parentName:"pre",className:"language-jsx"},"import React, { useCallback, useRef, useState } from 'react';\nimport styled from 'styled-components';\nimport PropTypes from 'prop-types';\nimport uuid from 'uuid';\nimport { useFormFlowField } from 'react-form-flow';\n\nconst InputFieldRecipeLayout = styled.div`\n  width: 100%;\n`;\n\nexport default function InputFieldRecipe() {\n  const nameField = useFormFlowField('name');\n\n  return (\n    <InputFieldRecipeLayout>\n      <h2>Interact with the input field by focusing and leaving the field...</h2>\n\n      <InputField {...nameField} label=\"Name\" />\n      <div>{nameField.value}</div>\n    </InputFieldRecipeLayout>\n  );\n}\n")),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_3__.b)("p",null,"And then..."),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_3__.b)("pre",null,Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_3__.b)("code",{parentName:"pre",className:"language-jsx"},"  import { FormFlowProvider } from 'react-form-flow';\n\n  const initialData = { ... };\n  const schemaData = { ... };\n\n  // ...\n\n  <FormFlowProvider initialData={initialData} schemaData={schemaData}>\n    <InputFieldRecipe />\n  </FormFlowProvider>\n")))}MDXContent.isMDXComponent=!0;var __page=function __page(){throw new Error("Docs-only story")};__page.parameters={docsOnly:!0};var componentMeta={title:"Docs/Recipes/Elements/Input",parameters:{docs:{source:{code:""}}},component:_RecipesSchemaBuilder__WEBPACK_IMPORTED_MODULE_5__.b,includeStories:["__page"]},mdxStoryNameToKey={};componentMeta.parameters=componentMeta.parameters||{},componentMeta.parameters.docs=_babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0___default()({},componentMeta.parameters.docs||{},{page:function page(){return Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_3__.b)(_storybook_addon_docs__WEBPACK_IMPORTED_MODULE_4__.a,{mdxStoryNameToKey:mdxStoryNameToKey,mdxComponentMeta:componentMeta},Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_3__.b)(MDXContent,null))}}),__webpack_exports__.default=componentMeta},2644:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"__page",(function(){return __page}));var _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(9),_babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0__),_babel_runtime_helpers_objectWithoutPropertiesLoose__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(47),_babel_runtime_helpers_objectWithoutPropertiesLoose__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(_babel_runtime_helpers_objectWithoutPropertiesLoose__WEBPACK_IMPORTED_MODULE_1__),_mdx_js_react__WEBPACK_IMPORTED_MODULE_3__=(__webpack_require__(0),__webpack_require__(1)),_storybook_addon_docs__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(12),_RecipesSchemaBuilder__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(54),_excluded=["components"],layoutProps={};function MDXContent(_ref){var components=_ref.components,props=_babel_runtime_helpers_objectWithoutPropertiesLoose__WEBPACK_IMPORTED_MODULE_1___default()(_ref,_excluded);return Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_3__.b)("wrapper",_babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0___default()({},layoutProps,props,{components:components,mdxType:"MDXLayout"}),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_3__.b)(_storybook_addon_docs__WEBPACK_IMPORTED_MODULE_4__.c,{title:"Docs/Recipes/Elements/Radio",component:_RecipesSchemaBuilder__WEBPACK_IMPORTED_MODULE_5__.b,parameters:{docs:{source:{code:""}}},mdxType:"Meta"}),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_3__.b)("h1",{id:"recipes"},"Recipes"),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_3__.b)("p",null,"How to build specific form elements to use the hooks provided by ",Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_3__.b)("inlineCode",{parentName:"p"},"react-form-flow"),"."),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_3__.b)("h2",{id:"radio-field-recipe"},"Radio Field Recipe"),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_3__.b)("p",null,"This recipe will show how to build a group/simple radio using the ",Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_3__.b)("inlineCode",{parentName:"p"},'input[type="radio"]')," markup following the interface defined by ",Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_3__.b)("inlineCode",{parentName:"p"},"react-form-flow"),"."),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_3__.b)("h2",{id:"code"},"Code"),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_3__.b)("p",null,"Here, we are using ",Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_3__.b)("a",{parentName:"p",href:"https://www.styled-components.com/",target:"_blank",rel:"nofollow noopener noreferrer"},"styled-components")," for prettifying styles."),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_3__.b)("p",null,Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_3__.b)("strong",{parentName:"p"},"src/ValidationResult.jsx")),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_3__.b)("p",null,"You will probably need a component to display the validations, see the draft below."),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_3__.b)("pre",null,Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_3__.b)("code",{parentName:"pre",className:"language-jsx"},"import React from 'react';\nimport styled from 'styled-components';\n\nconst ValidationResultLayout = styled.section`\n  .ValidationResultLayout__message {\n    color: red;\n  }\n`;\n\nexport default function ValidationResult({ errors = [] }) {\n  return (\n    <ValidationResultLayout>\n      {validations.map(\n        (validation) =>(\n          <div className=\"ValidationResultLayout__message\" key={validation.key}>\n            {JSON.stringify(validation, null, 2)}\n          </div>\n        )\n      )}\n    </ValidationResultLayout>\n  );\n}\n")),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_3__.b)("h3",{id:"radiofield"},"RadioField"),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_3__.b)("p",null,"Here, validations are received always and the consumer decides when to display them."),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_3__.b)("p",null,Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_3__.b)("strong",{parentName:"p"},"Note"),": For this case, there is no validation added. But, as all the other recipes, we cloud display the validations straightaway or through some property to control if it will be displayed. e.g. ",Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_3__.b)("inlineCode",{parentName:"p"},"showValidation")," when the form is submitted, then, it would be able to display by ",Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_3__.b)("inlineCode",{parentName:"p"},"{showValidation && <ValidationResult validations={validations} />}"),"."),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_3__.b)("pre",null,Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_3__.b)("code",{parentName:"pre",className:"language-jsx"},"import React, { useCallback, useRef, useState } from 'react';\nimport PropTypes from 'prop-types';\nimport uuid from 'uuid';\nimport styled from 'styled-components';\n\nconst RadioFieldLayout = styled.div`\n  padding: 0 0 10px 0;\n  display: grid;\n  grid-template-columns: min-content;\n  grid-template-rows: min-content auto;\n\n  label {\n    display: grid;\n    grid-template-columns: min-content min-content;\n    grid-template-rows: auto;\n    white-space: nowrap;\n    grid-gap: 10px;\n  }\n\n  .RadioFieldLayout__validations {\n    display: block;\n    white-space: nowrap;\n  }\n`;\n\nexport default function RadioField({\n  checkedValue,\n  field,\n  label: labelText,\n  name,\n}) {\n  const id = useRef(uuid.v4());\n\n  return (\n    <RadioFieldLayout>\n      <label htmlFor={id.current}>\n        <span>{labelText}</span>\n        <input\n          id={id.current}\n          name={name}\n          type=\"radio\"\n          {...field}\n          value={checkedValue}\n          checked={value === checkedValue}\n        />\n      </label>\n    </RadioFieldLayout>\n  );\n}\n\nRadioField.defaultProps = {\n  label: null,\n};\n")),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_3__.b)("h2",{id:"using-the-radiofield"},"Using the RadioField"),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_3__.b)("p",null,"After building the Dropdown, see below how to use it."),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_3__.b)("pre",null,Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_3__.b)("code",{parentName:"pre",className:"language-jsx"},'import React from \'react\';\nimport styled from \'styled-components\';\nimport { useFormFlowField } from \'react-form-flow\';\nimport RadioField from \'./RadioField\';\n\nconst RadioFieldRecipeLayout = styled.div``;\n\nexport default function RadioFieldRecipe() {\n  const handField = useFormFlowField(\'hand\', { eventType: \'value\' });\n\n  return (\n    <RadioFieldRecipeLayout>\n      <h2>Interact with the radios below by clicking...</h2>\n      <p>\n        <strong>Note:</strong>\n        <span>\n          the property <strong>name</strong> is important for a radio in a form.\n        </span>\n      </p>\n      <fieldset>\n        <legend>Left/Right hand</legend>\n        <RadioField {...handField} label="Left" checkedValue="left" name="hand" />\n        <RadioField {...handField} label="Right" checkedValue="right" name="hand" />\n        <RadioField {...handField} label="Both" checkedValue="both" name="hand" />\n        <span>\n          value:\n          {handField.value}\n        </span>\n      </fieldset>\n      {(handField.submitted || handField.touched || handField.dirty) && (\n        <ValidationResult errors={handField.errors} />\n      )}\n    </RadioFieldRecipeLayout>\n  );\n}\n')),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_3__.b)("p",null,"And then..."),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_3__.b)("pre",null,Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_3__.b)("code",{parentName:"pre",className:"language-jsx"},"  import { FormFlowProvider } from 'react-form-flow';\n\n  const initialData = { ... };\n  const schemaData = { ... };\n\n  // ...\n\n  <FormFlowProvider initialData={initialData} schemaData={schemaData}>\n    <RadioFieldRecipe />\n  </FormFlowProvider>\n")))}MDXContent.isMDXComponent=!0;var __page=function __page(){throw new Error("Docs-only story")};__page.parameters={docsOnly:!0};var componentMeta={title:"Docs/Recipes/Elements/Radio",parameters:{docs:{source:{code:""}}},component:_RecipesSchemaBuilder__WEBPACK_IMPORTED_MODULE_5__.b,includeStories:["__page"]},mdxStoryNameToKey={};componentMeta.parameters=componentMeta.parameters||{},componentMeta.parameters.docs=_babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0___default()({},componentMeta.parameters.docs||{},{page:function page(){return Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_3__.b)(_storybook_addon_docs__WEBPACK_IMPORTED_MODULE_4__.a,{mdxStoryNameToKey:mdxStoryNameToKey,mdxComponentMeta:componentMeta},Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_3__.b)(MDXContent,null))}}),__webpack_exports__.default=componentMeta},2645:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"Template",(function(){return Template})),__webpack_require__.d(__webpack_exports__,"schemaBuilder",(function(){return schemaBuilder}));var _babel_runtime_helpers_objectWithoutPropertiesLoose__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(47),_babel_runtime_helpers_objectWithoutPropertiesLoose__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_babel_runtime_helpers_objectWithoutPropertiesLoose__WEBPACK_IMPORTED_MODULE_0__),_babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(9),_babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(_babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_1__),_mdx_js_react__WEBPACK_IMPORTED_MODULE_3__=(__webpack_require__(0),__webpack_require__(1)),_storybook_addon_docs__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(12),_RecipesSchemaBuilder__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(54),_excluded=["components"],Template=function Template(args){return Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_3__.b)(_RecipesSchemaBuilder__WEBPACK_IMPORTED_MODULE_5__.b,_babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_1___default()({},args,{mdxType:"RecipesSchemaBuilder"}))},layoutProps={Template:Template};function MDXContent(_ref){var components=_ref.components,props=_babel_runtime_helpers_objectWithoutPropertiesLoose__WEBPACK_IMPORTED_MODULE_0___default()(_ref,_excluded);return Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_3__.b)("wrapper",_babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_1___default()({},layoutProps,props,{components:components,mdxType:"MDXLayout"}),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_3__.b)(_storybook_addon_docs__WEBPACK_IMPORTED_MODULE_4__.c,{title:"Docs/Recipes/Schema Builder",component:_RecipesSchemaBuilder__WEBPACK_IMPORTED_MODULE_5__.b,parameters:{docs:{source:{code:""}}},mdxType:"Meta"}),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_3__.b)(_storybook_addon_docs__WEBPACK_IMPORTED_MODULE_4__.d,{of:_RecipesSchemaBuilder__WEBPACK_IMPORTED_MODULE_5__.b,mdxType:"Props"}),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_3__.b)("h1",{id:"recipes"},"Recipes"),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_3__.b)("p",null,"This page offers a interactive way to experience the validations with the form library."),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_3__.b)("h2",{id:"schema-builder"},"Schema Builder"),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_3__.b)("p",null,"Using the new SchemaBuilder, you can edit the body of the function getShemaData(SchemaBuilder, hasValue)."),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_3__.b)(_storybook_addon_docs__WEBPACK_IMPORTED_MODULE_4__.b,{mdxType:"Canvas"},Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_3__.b)(_storybook_addon_docs__WEBPACK_IMPORTED_MODULE_4__.e,{name:"Schema Builder",argTypes:{data:{control:{type:"object"}},schemaData:{control:!1},factories:{control:!1}},args:{data:_RecipesSchemaBuilder__WEBPACK_IMPORTED_MODULE_5__.a},mdxType:"Story"},Template.bind({}))))}MDXContent.isMDXComponent=!0;var schemaBuilder=Template.bind({});schemaBuilder.storyName="Schema Builder",schemaBuilder.argTypes={data:{control:{type:"object"}},schemaData:{control:!1},factories:{control:!1}},schemaBuilder.args={data:_RecipesSchemaBuilder__WEBPACK_IMPORTED_MODULE_5__.a},schemaBuilder.parameters={storySource:{source:"args => <RecipesSchemaBuilder {...args} />"}};var componentMeta={title:"Docs/Recipes/Schema Builder",parameters:{docs:{source:{code:""}}},component:_RecipesSchemaBuilder__WEBPACK_IMPORTED_MODULE_5__.b,includeStories:["schemaBuilder"]},mdxStoryNameToKey={"Schema Builder":"schemaBuilder"};componentMeta.parameters=componentMeta.parameters||{},componentMeta.parameters.docs=_babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_1___default()({},componentMeta.parameters.docs||{},{page:function page(){return Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_3__.b)(_storybook_addon_docs__WEBPACK_IMPORTED_MODULE_4__.a,{mdxStoryNameToKey:mdxStoryNameToKey,mdxComponentMeta:componentMeta},Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_3__.b)(MDXContent,null))}}),__webpack_exports__.default=componentMeta},2646:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"__page",(function(){return __page}));var _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(9),_babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0__),_babel_runtime_helpers_objectWithoutPropertiesLoose__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(47),_babel_runtime_helpers_objectWithoutPropertiesLoose__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(_babel_runtime_helpers_objectWithoutPropertiesLoose__WEBPACK_IMPORTED_MODULE_1__),_mdx_js_react__WEBPACK_IMPORTED_MODULE_3__=(__webpack_require__(0),__webpack_require__(1)),_storybook_addon_docs__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(12),_excluded=["components"],layoutProps={};function MDXContent(_ref){var components=_ref.components,props=_babel_runtime_helpers_objectWithoutPropertiesLoose__WEBPACK_IMPORTED_MODULE_1___default()(_ref,_excluded);return Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_3__.b)("wrapper",_babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0___default()({},layoutProps,props,{components:components,mdxType:"MDXLayout"}),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_3__.b)(_storybook_addon_docs__WEBPACK_IMPORTED_MODULE_4__.c,{title:"Docs/Recipes/useFormFlowItem",component:function component(){return Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_3__.b)("div",null)},mdxType:"Meta"}),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_3__.b)("h1",{id:"useformflowitem"},"useFormFlowItem"),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_3__.b)("p",null,Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_3__.b)("inlineCode",{parentName:"p"},"react-form-flow")," as its name describes is a library to define a common and automated workflow to collect and validate form data. Allow user to consume the data and validation based on the json path."),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_3__.b)("p",null,"To improve your productivity, it would be good to create your core form components such as input, dropdowns and on and on following the ",Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_3__.b)("inlineCode",{parentName:"p"},"react-form-flow")," spec."),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_3__.b)("p",null,Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_3__.b)("em",{parentName:"p"},"JSON PATH")," is a notation to navigate through the JSON object."),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_3__.b)("p",null,"While we are going to exemplify how to use the ",Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_3__.b)("inlineCode",{parentName:"p"},"useFormFlowItem"),", it is encouraged to use the ",Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_3__.b)("inlineCode",{parentName:"p"},"useFormFlowField")," used in the ",Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_3__.b)("inlineCode",{parentName:"p"},"Docs/Recipes/Elements")," and ",Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_3__.b)("inlineCode",{parentName:"p"},"Docs/Getting Started"),"."),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_3__.b)("p",null,"e.g."),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_3__.b)("pre",null,Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_3__.b)("code",{parentName:"pre",className:"language-js"},"const data = {\n    person: {\n      id: 1,\n      name: 'Jane Doe',\n      email: 'jane@doe.dead'\n      children:[\n        {id: 2, name: 'John Doe'}\n      ]\n    }\n};\n")),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_3__.b)("p",null,"So, observing the json above, the json path to access the name of first child is ",Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_3__.b)("inlineCode",{parentName:"p"},'"person.chidlren[0].name"'),"."),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_3__.b)("h3",{id:"validationresult"},"ValidationResult"),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_3__.b)("pre",null,Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_3__.b)("code",{parentName:"pre",className:"language-jsx"},"import React from 'react';\n\nexport default function ValidationResult({ label, validations }) {\n  return (\n    <section>\n      {!!label && <div>{label}</div>}\n      {validations.map(({ key, isValid, message }) => !isValid && <div key={key}>{message}</div>)}\n    </section>\n  );\n}\n")),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_3__.b)("h3",{id:"inputfield"},"InputField"),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_3__.b)("p",null,"The input field could receive from the ",Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_3__.b)("inlineCode",{parentName:"p"},"useFormFlowItem")," an object with the spec below."),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_3__.b)("pre",null,Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_3__.b)("code",{parentName:"pre",className:"language-js"},'{\n  onChangeValue /* Function to update an object regarding the json path and value */,\n  onChange /* Function to handle input event "change" */,\n  setData /* Function to set the whole form data */,\n  validations  /* arrayOf(ValidationResult) */,\n  value /* string */,\n}\n')),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_3__.b)("p",null,"Component..."),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_3__.b)("pre",null,Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_3__.b)("code",{parentName:"pre",className:"language-jsx"},"import React from 'react';\nimport ValidationResult from './ValidationResult';\n\nexport default function InputField({\n  label,\n  onChange,\n  validations /* Array<Validation> (type) */,\n  value,\n}) {\n  return (\n    <div>\n      <div>{label}</div>\n      <input type=\"text\" onChange={onChange} value={value} />\n      <div>\n        <ValidationResult validations={validations} />\n      </div>\n    </div>\n  );\n}\n\nInputField.defaultProps = {\n  value: '',\n};\n")),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_3__.b)("h4",{id:"schemadata"},"schemaData"),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_3__.b)("pre",null,Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_3__.b)("code",{parentName:"pre",className:"language-jsx"},'import { SchemaBuilder } from \'react-form-flow\';\n\nSchemaBuilder.factory("required", (metadata) => hasValue(metadata.value ?? ""));\nSchemaBuilder.factory("min-length", ({ value }) => !hasValue(value ?? "") || (value ?? "").length >= min, {\n  response: ({ value }) => ({ length: (value ?? "").length })\n});\n\nexport default SchemaBuilder.builder()\n  .with("name")\n  .check("required", { message: "Name is required" })\n  .check("min-length", { min: 5, message: "Name must be greater than 5 characters" })\n  .end()\n  .with("description")\n  .check("required", { message: "Description is required" })\n  .check("min-length", { min: 50, message: "Name must be greater than 50 characters" })\n  .end()\n')),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_3__.b)("h4",{id:"app"},"App"),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_3__.b)("p",null,"A few things are required in order to use the ",Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_3__.b)("inlineCode",{parentName:"p"},"react-form-flow")," library."),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_3__.b)("ul",null,Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_3__.b)("li",{parentName:"ul"},"initialData: the initial data to be rendered in the form"),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_3__.b)("li",{parentName:"ul"},"schemaData: an object with validation rules per json path"),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_3__.b)("li",{parentName:"ul"},"children: the react node being wrapped by the provider containing the real form within fields")),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_3__.b)("pre",null,Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_3__.b)("code",{parentName:"pre",className:"language-jsx"},"import React from 'react';\nimport styled from 'styled-components';\nimport {\n  FormFlowProvider,\n  useFormFlowItem,\n  useFormFlowValidation,\n} from 'react-form-flow';\nimport ValidationResult from './ValidationResult';\nimport InputField from './InputField';\nimport schemaData from './schemaData';\n\nconst Layout = styled.div`\n  height: 100%;\n  width: 100%;\n\n  display: grid;\n\n  grid-template-columns: 1fr 1fr;\n  grid-template-rows: auto;\n`;\n\nfunction Validations() {\n  const nameValidation = useFormFlowValidation('name');\n  const descriptionValidation = useFormFlowItem('description');\n\n  return (\n    <div>\n      <ValidationResult label=\"Name\" {...nameValidation} />\n      <ValidationResult label=\"Description\" {...descriptionValidation} />\n    </div>\n  );\n}\n\nfunction Form() {\n  const nameField = useFormFlowItem('name');\n  const descriptionField = useFormFlowItem('description');\n\n  return (\n    <div>\n      <InputField label=\"Name\" {...nameField} />\n      <InputField label=\"Description\" {...descriptionField} />\n    </div>\n  );\n}\n\nfunction DemoApp() {\n  return (\n    <Layout>\n      <FormFlowProvider initialData={{ name: '', description: '' }} schemaData={schemaData}>\n        <Validations />\n        <Form />\n      </FormFlowProvider>\n    </Layout>\n  );\n}\n")),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_3__.b)("p",null,"Running..."),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_3__.b)("pre",null,Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_3__.b)("code",{parentName:"pre",className:"language-jsx"},"<DemoApp />\n")))}MDXContent.isMDXComponent=!0;var __page=function __page(){throw new Error("Docs-only story")};__page.parameters={docsOnly:!0};var componentMeta={title:"Docs/Recipes/useFormFlowItem",component:function component(){return Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_3__.b)("div",null)},includeStories:["__page"]},mdxStoryNameToKey={};componentMeta.parameters=componentMeta.parameters||{},componentMeta.parameters.docs=_babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0___default()({},componentMeta.parameters.docs||{},{page:function page(){return Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_3__.b)(_storybook_addon_docs__WEBPACK_IMPORTED_MODULE_4__.a,{mdxStoryNameToKey:mdxStoryNameToKey,mdxComponentMeta:componentMeta},Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_3__.b)(MDXContent,null))}}),__webpack_exports__.default=componentMeta},2647:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"__page",(function(){return __page}));var _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(9),_babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0__),_babel_runtime_helpers_objectWithoutPropertiesLoose__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(47),_babel_runtime_helpers_objectWithoutPropertiesLoose__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(_babel_runtime_helpers_objectWithoutPropertiesLoose__WEBPACK_IMPORTED_MODULE_1__),_mdx_js_react__WEBPACK_IMPORTED_MODULE_3__=(__webpack_require__(0),__webpack_require__(1)),_storybook_addon_docs__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(12),_RecipesSchemaBuilder__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(54),_excluded=["components"],layoutProps={};function MDXContent(_ref){var components=_ref.components,props=_babel_runtime_helpers_objectWithoutPropertiesLoose__WEBPACK_IMPORTED_MODULE_1___default()(_ref,_excluded);return Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_3__.b)("wrapper",_babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0___default()({},layoutProps,props,{components:components,mdxType:"MDXLayout"}),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_3__.b)(_storybook_addon_docs__WEBPACK_IMPORTED_MODULE_4__.c,{title:"Docs/Recipes/Validations",component:_RecipesSchemaBuilder__WEBPACK_IMPORTED_MODULE_5__.b,parameters:{docs:{source:{code:""}}},mdxType:"Meta"}),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_3__.b)("h1",{id:"recipes"},"Recipes"),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_3__.b)("p",null,"The idea here is to show how to optimise your performance by reusing some strategies. For this, we are going to use factory methods to build validations."),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_3__.b)("h2",{id:"quick-reminder"},"Quick reminder"),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_3__.b)("p",null,"The ",Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_3__.b)("inlineCode",{parentName:"p"},"schemaData")," object is built indexing validations by provided JSON PATH."),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_3__.b)("h2",{id:"factories"},"Factories"),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_3__.b)("p",null,"Factory method is a creational pattern to deal with creation of objects in general. Its definition could be also expanded to creation of contracts."),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_3__.b)("p",null,"Following the examples below we are going to factory a required validation. So, these validations have the same type of check varying on path and key returned."),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_3__.b)("h3",{id:"factoring-required"},"Factoring required"),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_3__.b)("p",null,"Factory a required validation pre-defining the key and path uniquely and allowing end consumer to define the message returned."),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_3__.b)("p",null,"The return of the validation function must provide the interface below."),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_3__.b)("pre",null,Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_3__.b)("code",{parentName:"pre",className:"language-ts"},'interface Validation {\n  /**\n   * The whole data form\n   */\n  data: any;\n  /**\n   * The dependency values for conditionals\n   */\n  dependencies: Array<any>;\n  /**\n   * Method to get value given a form data and json path\n   * @param data - the form data\n   * @param path - the json path\n   * @returns {any}\n   */\n  get(data: any, path: string): any;\n  /** \n   * Whether the validation passed or failed\n   */\n  isValid: boolean;\n  /** \n   * Validation name\n   */\n  name: string;\n  /** \n   * A construction of {path + ".errors." + name}\n   * e.g.\n   * - path: user.role\n   * - name: required\n   * - key: user.role.errors.required\n   */\n  key: string;\n  /**\n   * The path to be validated\n   */\n  path: string;\n  /**\n   * The value related to the path in the form\n   */\n  value: any;\n  /** \n   * Any extra information provided\n   */\n  [key: string]: any;\n}\n')),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_3__.b)("p",null,Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_3__.b)("strong",{parentName:"p"},"src/SchemaBuilder.js")),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_3__.b)("pre",null,Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_3__.b)("code",{parentName:"pre",className:"language-js"},'import { SchemaBuilder } from "react-form-flow";\n\nfunction hasValue(value) {\n  return (\n    value !== null && value !== undefined && (typeof value !== \'string\' || (value && value.trim()))\n  );\n}   \n\nSchemaBuilder.factory("required", (metadata) => hasValue(metadata.value ?? ""));\n\nexport default SchemaBuilder;\n')),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_3__.b)("h3",{id:"factoring-max-length"},"Factoring max length"),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_3__.b)("p",null,"For the max length validation where we will provide dynamic metadata for further usage."),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_3__.b)("p",null,"Continuation on ",Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_3__.b)("strong",{parentName:"p"},"src/SchemaBuilder.js")),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_3__.b)("pre",null,Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_3__.b)("code",{parentName:"pre",className:"language-jsx"},'SchemaBuilder.factory("max-length", (metadata) => {\n  const value = metadata.value ?? "";\n  // Either will be valid if there is no value, or it is lesser of equals than max.\n  // Also, we expect the max valid is provided when using the factored validation\n  const isValid = !hasValue(value) || value.length <= metadata.max;\n  return isValid;\n}, {\n  // Here, we are adding useful information to all schema data using this validation.\n  response: (metadata) => ({ length: (metadata.value ?? "").trim().length })\n});\n')),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_3__.b)("h3",{id:"creating-the-schemadata"},"Creating the schemaData"),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_3__.b)("p",null,"To create our schemaData we need to make use of the ",Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_3__.b)("inlineCode",{parentName:"p"},"src/SchemaBuilder"),". Make sure to import the SchemaBuilder from your wrapper to make sure the ",Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_3__.b)("inlineCode",{parentName:"p"},"factory")," has registed the common validations before using it."),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_3__.b)("p",null,Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_3__.b)("strong",{parentName:"p"},"src/schemaData.js")),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_3__.b)("pre",null,Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_3__.b)("code",{parentName:"pre",className:"language-jsx"},'import SchemaBuilder from \'./SchemaBuilder\';\n\nexport default SchemaBuilder.builder()\n  .with("name")\n  .check("required")\n  .check("max-length", { max: 50 })\n  .end()\n  .build();\n')),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_3__.b)("h4",{id:"using-the-additional-information-length"},'Using the additional information "length"'),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_3__.b)("pre",null,Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_3__.b)("code",{parentName:"pre",className:"language-jsx"},'import { FormFlowProvider, useFormFlowField } from \'react-form-flow\';\nimport i18n from \'./i18n\';\nimport schemaData from "./schemaData"\n\n/**\nImagine the translation as \n\n{\n  "name": {\n    "errors": {\n      "max-length": "Name cannot be greater than {{max}} (characters {{length}}/{{max}})."\n    }\n  }\n}\n\n*/ \n\nfunction  MinMaxLengthMessage({ min, max, unit }) {\n  return `Only values between ${min} and ${max} is allowed for ${unit}.`;\n}\n\nfunction Form() {\n  const { errors } = useFormFlowField(\'name\');\n  /** \n   * Flexibility provided by defining the end message through translation libraries\n   */\n  const { t } = useTranslate();\n  return (\n    <div>\n      {errors.map(\n        (validation) => (\n          <div key={validation.key}>\n            {t(validation.key, { values: { length: validation.length, max: validation.max } })}\n          </div>\n        )\n      )}\n    </div>\n  )\n}\n\n// forcing the error in the validation\nconst initialData = { name: Array.from({ length: 51 }).map(() => "a").join("") };\n  \nfunction App() {\n  return (\n    <FormFlowProvider initialData={initialData} schemaData={schemaData}>\n      <Form />\n    </FormFlowProvider>\n  );\n}\n')),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_3__.b)("h3",{id:"dependencies"},"Dependencies"),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_3__.b)("p",null,"Lets say you have a validation for range, but, this information is obtained from 2 fields which would have ",Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_3__.b)("inlineCode",{parentName:"p"},"min"),", ",Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_3__.b)("inlineCode",{parentName:"p"},"max")," constraints for the value and a list of acceptable units e.g. ",Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_3__.b)("inlineCode",{parentName:"p"},"['seconds', 'minutes', 'hours']"),"."),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_3__.b)("p",null,"Continuation on ",Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_3__.b)("strong",{parentName:"p"},"src/SchemaBuilder.js")),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_3__.b)("pre",null,Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_3__.b)("code",{parentName:"pre",className:"language-js"},'const MinMaxUnitsConstraints = {\n  seconds: [0, 60],\n  minutes: [0, 60],\n  hours: [0, 24],\n}\nSchemaBuilder.factory("min-max-units", (metadata) => {\n  const { dependencies } = metadata;\n  const [unit] = dependencies;\n  const value = Number(metadata.value ?? "0");\n  const [min, max] = MinMaxUnitsConstraints[unit];\n  const isValid = !hasValue(value) || (value <= max && value >= min);\n  return isValid;\n}, {\n  response: (metadata) => {\n    const { dependencies } = metadata;\n    const [unit] = dependencies;\n    const [min, max] = MinMaxUnitsConstraints[unit];\n    return { min, max };\n  }\n})\n')),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_3__.b)("h3",{id:"new-schemadata"},"New schemaData"),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_3__.b)("pre",null,Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_3__.b)("code",{parentName:"pre",className:"language-js"},'import SchemaBuilder from "./SchemaBuilder";\n\nexport default SchemaBuilder.builder()\n  /** \n   * Declaring an invalidation path\n   */\n  .with("product.expiresIn.value", ["$.unit"])\n  .check("requried")\n  .check("min-max-units")\n  .end()\n  .with("product.expiresIn.unit")\n  .check("requried")\n  .end()\n  .build()\n')),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_3__.b)("p",null,"By doing ",Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_3__.b)("inlineCode",{parentName:"p"},'.with("product.expiresIn.value", ["$.unit"])'),", you have provided an invalidation path list. Every time that the ",Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_3__.b)("inlineCode",{parentName:"p"},"unit")," is changed the validation for ",Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_3__.b)("inlineCode",{parentName:"p"},"value")," is also computed."),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_3__.b)("h3",{id:"multiple-dependencies"},"Multiple Dependencies"),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_3__.b)("p",null,"The invalidation paths can be defined by absolute and relative paths. Being ",Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_3__.b)("inlineCode",{parentName:"p"},"$.")," the way to navigate to parent node in relative path. We can better see it through examples."),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_3__.b)("p",null,"Below find an example of multiple dependencies, and the navigation to higher scope levels."),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_3__.b)("pre",null,Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_3__.b)("code",{parentName:"pre",className:"language-js"},'import SchemaBuilder from "./SchemaBuilder";\n\nexport default SchemaBuilder.builder()\n  .with("product.madeOn")\n  .check("requried")\n  .end()\n  .with("product.expiresIn.value", ["$.unit", "$.$.madeOn"])\n  .check("requried")\n  .check("min-max-units")\n  .end()\n  .with("product.expiresIn.unit")\n  .check("requried")\n  .end()\n  .build()\n')),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_3__.b)("p",null,"Taking ",Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_3__.b)("inlineCode",{parentName:"p"},"product.expiresIn.value")," and breaking into partial paths ",Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_3__.b)("inlineCode",{parentName:"p"},'["product", "expiresIn", "value"]'),", the navigation ",Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_3__.b)("inlineCode",{parentName:"p"},"$.")," refers going back to ",Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_3__.b)("inlineCode",{parentName:"p"},"expiresIn"),". Whereas ",Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_3__.b)("inlineCode",{parentName:"p"},"$.$."),", it would refer to ",Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_3__.b)("inlineCode",{parentName:"p"},"product"),"."),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_3__.b)("h5",{id:"array-as-one-of-dependencies"},"Array as one of dependencies"),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_3__.b)("p",null,"Let say, you need a validation to be performed for changes in correlated data based on indexes. Before going straight to the example, we need to understand a notation to refer to the indexes."),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_3__.b)("p",null,"Given the rule ",Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_3__.b)("inlineCode",{parentName:"p"},"contacts[]"),", this means we have validations running for each element of the array contacts. To correlated indexes, we can user the reference to ocurency of ",Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_3__.b)("inlineCode",{parentName:"p"},"[]")," as ",Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_3__.b)("inlineCode",{parentName:"p"},"$N"),", being ",Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_3__.b)("inlineCode",{parentName:"p"},"N")," the index where the ",Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_3__.b)("inlineCode",{parentName:"p"},"[]")," occurs in the original rule."),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_3__.b)("p",null,"Ok, I get it too. It seems complex. Lets make it simple by examples."),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_3__.b)("ul",null,Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_3__.b)("li",{parentName:"ul"},"Given the rule ",Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_3__.b)("inlineCode",{parentName:"li"},"people[].contacts[]"),", invalidation paths ",Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_3__.b)("inlineCode",{parentName:"li"},"['$.friends[$1]']"),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_3__.b)("ul",{parentName:"li"},Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_3__.b)("li",{parentName:"ul"},"Everytime friends at ",Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_3__.b)("inlineCode",{parentName:"li"},"N")," changes, the people ",Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_3__.b)("inlineCode",{parentName:"li"},"people[i].contacts[N]")," will be re-validated"),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_3__.b)("li",{parentName:"ul"},"This because the index of ",Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_3__.b)("inlineCode",{parentName:"li"},"[]")," for ",Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_3__.b)("inlineCode",{parentName:"li"},"contacts")," in the original rule is ",Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_3__.b)("inlineCode",{parentName:"li"},"1"),", then, it is referred at ",Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_3__.b)("inlineCode",{parentName:"li"},"friends")," as ",Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_3__.b)("inlineCode",{parentName:"li"},"$1")))),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_3__.b)("li",{parentName:"ul"},"Given the rule ",Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_3__.b)("inlineCode",{parentName:"li"},"store.foods[]"),", invalidation paths ",Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_3__.b)("inlineCode",{parentName:"li"},"['$.stocks[$0]']"),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_3__.b)("ul",{parentName:"li"},Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_3__.b)("li",{parentName:"ul"},"Everytime stocks at ",Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_3__.b)("inlineCode",{parentName:"li"},"N")," changes, the foods ",Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_3__.b)("inlineCode",{parentName:"li"},"store.foods[N]")," will be re-validated"),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_3__.b)("li",{parentName:"ul"},"This because the index of ",Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_3__.b)("inlineCode",{parentName:"li"},"[]")," for ",Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_3__.b)("inlineCode",{parentName:"li"},"foods")," in the original rule is ",Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_3__.b)("inlineCode",{parentName:"li"},"0"),", then, it is referred at ",Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_3__.b)("inlineCode",{parentName:"li"},"stocks")," as ",Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_3__.b)("inlineCode",{parentName:"li"},"$0"))))),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_3__.b)("p",null,'You may question the example below thinking that is too much to create a "common validation" for something to be used only once, or very much bound to a specific context. It makes sense, the example is only to ilustrate dependencies, if you want to deal with domain validations or one-time validations, please checkout the next section.'),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_3__.b)("pre",null,Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_3__.b)("code",{parentName:"pre",className:"language-js"},'import SchemaBuilder from "./SchemaBuilder";\n\nSchemaBuilder.factory()\n\nexport default SchemaBuilder.builder()\n  .with("store.stocks[]")\n  .check("requried")\n  .end()\n  .with("store.foods[]", ["$.stocks[$0]"])\n  .check("requried.if-in-stock")\n  .end()\n  .build()\n')),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_3__.b)("h2",{id:"domain-validations--one-time-validations"},"Domain validations / One-time validations"),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_3__.b)("p",null,"Some form data will require validations that are very much domain attached and it won't be reused anywhere else, for this reason a dynamic validation can be created at the time the ",Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_3__.b)("inlineCode",{parentName:"p"},"schemaData")," is being built. Let's look at the example where we improve the previous usage."),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_3__.b)("p",null,Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_3__.b)("strong",{parentName:"p"},"src/schemaData.js")),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_3__.b)("pre",null,Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_3__.b)("code",{parentName:"pre",className:"language-jsx"},'import SchemaBuilder from \'./form/SchemaBuilder\';\n\n/** \n * Adding more metadata to the Validation result object\n */\nfunction getLength(metadata) {\n  const { length } = (metadata.value ?? "").trim();\n  return { length };\n}\n\nexport default SchemaBuilder.builder()\n  .with("store.stocks[]")\n  .check("requried")\n  .end()\n  .with("store.foods[]", ["$.stocks[$0]"])\n  .test("requried.if-in-stock", (metadata) => {\n    const { dependencies } = metadata;\n    const [stockWithSameIndex] = dependencies;\n    const value = metadata.value ?? "";\n    /** \n     * If there is value is valid, if not, only if there is stock. So, no value\n     * and stock 0 is valid.\n     */\n    const isValid = hasValue(value) || Number(stockWithSameIndex ?? 0) === 0;\n    return isValid;\n  })\n  .end()\n  .build()\n')),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_3__.b)("p",null,Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_3__.b)("strong",{parentName:"p"},"Note"),": By nature one-time validations won't be reused as ",Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_3__.b)("inlineCode",{parentName:"p"},'.check("validation-name", ...)'),"."))}MDXContent.isMDXComponent=!0;var __page=function __page(){throw new Error("Docs-only story")};__page.parameters={docsOnly:!0};var componentMeta={title:"Docs/Recipes/Validations",parameters:{docs:{source:{code:""}}},component:_RecipesSchemaBuilder__WEBPACK_IMPORTED_MODULE_5__.b,includeStories:["__page"]},mdxStoryNameToKey={};componentMeta.parameters=componentMeta.parameters||{},componentMeta.parameters.docs=_babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0___default()({},componentMeta.parameters.docs||{},{page:function page(){return Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_3__.b)(_storybook_addon_docs__WEBPACK_IMPORTED_MODULE_4__.a,{mdxStoryNameToKey:mdxStoryNameToKey,mdxComponentMeta:componentMeta},Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_3__.b)(MDXContent,null))}}),__webpack_exports__.default=componentMeta},2652:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"Template",(function(){return AddressBook_stories_Template})),__webpack_require__.d(__webpack_exports__,"defaultStory",(function(){return defaultStory}));var objectWithoutPropertiesLoose=__webpack_require__(47),objectWithoutPropertiesLoose_default=__webpack_require__.n(objectWithoutPropertiesLoose),helpers_extends=__webpack_require__(9),extends_default=__webpack_require__.n(helpers_extends),react=__webpack_require__(0),react_default=__webpack_require__.n(react),esm=__webpack_require__(1),dist_esm=__webpack_require__(12),styled_components_browser_esm=__webpack_require__(141),src=__webpack_require__(19),moment=__webpack_require__(4),moment_default=__webpack_require__.n(moment),hasValue=__webpack_require__(301);src.b.factory("max-length",(function(_ref){var value=_ref.value,max=_ref.max;return!Object(hasValue.a)(null!=value?value:"")||(null!=value?value:"").length<=max})),src.b.factory("min-length",(function(_ref2){var value=_ref2.value,min=_ref2.min;return!Object(hasValue.a)(null!=value?value:"")||(null!=value?value:"").length>=min})),src.b.factory("required-array",(function(_ref3){var value=_ref3.value;return Object(hasValue.a)(value)&&"function"==typeof value.forEach&&value.length>=0})),src.b.factory("required",(function(_ref4){var value=_ref4.value;return Object(hasValue.a)(null!=value?value:"")&&(null!=value?value:"").length>=0}));var schemaData=src.b.builder().with("name").check("required").check("max-length",{max:20}).end().with("email").check("required").check("max-length",{max:300}).end().with("birthday").check("required").test("date-invalid",(function(metadata){metadata.data,metadata.path;var value=metadata.value,date=moment_default()(value),now=moment_default()(),isValid=!value||!!date.isValid()&&now.valueOf()>date.valueOf();now.format("DD/MM/YYYY");return isValid}),(function(metadata){return{message:'Please enter a valid date not beyond "'+moment_default()().format("DD/MM/YYYY")+'" e.g. 21/01/2010 (DD/MM/YYYY)'}})).end().build(),InputField=__webpack_require__(302),AddressBookFormLayout=styled_components_browser_esm.a.div.withConfig({displayName:"AddressBookForm__AddressBookFormLayout",componentId:"sc-8f2nqr-0"})([""]);function AddressBookForm(){var nameField=Object(src.d)("name"),emailField=Object(src.d)("email"),birthdayField=Object(src.d)("birthday");return react_default.a.createElement(AddressBookFormLayout,null,react_default.a.createElement(InputField.a,extends_default()({},nameField,{label:"Name",layout:"grid"})),react_default.a.createElement(InputField.a,extends_default()({},emailField,{label:"Email",layout:"grid",type:"email"})),react_default.a.createElement(InputField.a,extends_default()({},birthdayField,{label:"Birthday",layout:"grid",type:"date"})))}AddressBookForm.propTypes={};var AddressBookLayout=styled_components_browser_esm.a.div.withConfig({displayName:"AddressBook__AddressBookLayout",componentId:"sc-1ip0lna-0"})([""]);function AddressBook(){var initialState=Object(react.useRef)({});return react_default.a.createElement(AddressBookLayout,null,react_default.a.createElement(src.c,{initialData:initialState.current,schemaData:schemaData},react_default.a.createElement(AddressBookForm,null)))}AddressBook.propTypes={};var react_form_flow_examples_AddressBook=AddressBook,_excluded=["components"],AddressBook_stories_Template=function Template(args){return Object(esm.b)(react_form_flow_examples_AddressBook,extends_default()({},args,{mdxType:"AddressBook"}))},layoutProps={Template:AddressBook_stories_Template};function MDXContent(_ref){var components=_ref.components,props=objectWithoutPropertiesLoose_default()(_ref,_excluded);return Object(esm.b)("wrapper",extends_default()({},layoutProps,props,{components:components,mdxType:"MDXLayout"}),Object(esm.b)(dist_esm.c,{title:"Examples/Address Book",component:react_form_flow_examples_AddressBook,mdxType:"Meta"}),Object(esm.b)(dist_esm.d,{of:react_form_flow_examples_AddressBook,mdxType:"Props"}),Object(esm.b)("h1",{id:"addressbook"},"AddressBook"),Object(esm.b)("p",null,"Example of address book form with nested fields."),Object(esm.b)("p",null,Object(esm.b)("a",{parentName:"p",href:"https://github.com/daniloster/react-form-flow-examples",target:"_blank",rel:"nofollow noopener noreferrer"},"Source Code")),Object(esm.b)(dist_esm.b,{mdxType:"Canvas"},Object(esm.b)(dist_esm.e,{name:"Default",args:{},mdxType:"Story"},AddressBook_stories_Template.bind({}))))}MDXContent.isMDXComponent=!0;var defaultStory=AddressBook_stories_Template.bind({});defaultStory.storyName="Default",defaultStory.args={},defaultStory.parameters={storySource:{source:"args => <AddressBook {...args} />"}};var componentMeta={title:"Examples/Address Book",component:react_form_flow_examples_AddressBook,includeStories:["defaultStory"]},mdxStoryNameToKey={Default:"defaultStory"};componentMeta.parameters=componentMeta.parameters||{},componentMeta.parameters.docs=extends_default()({},componentMeta.parameters.docs||{},{page:function page(){return Object(esm.b)(dist_esm.a,{mdxStoryNameToKey:mdxStoryNameToKey,mdxComponentMeta:componentMeta},Object(esm.b)(MDXContent,null))}});__webpack_exports__.default=componentMeta},2655:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var preview_namespaceObject={};__webpack_require__.r(preview_namespaceObject),__webpack_require__.d(preview_namespaceObject,"parameters",(function(){return parameters})),__webpack_require__.d(preview_namespaceObject,"decorators",(function(){return decorators}));var client_api=__webpack_require__(2666),esm=__webpack_require__(6),react=__webpack_require__(0),react_default=__webpack_require__.n(react),react_router_dom=__webpack_require__(1677),decorators=[function(Story){return react_default.a.createElement(react_router_dom.a,null,react_default.a.createElement(Story,null))}],parameters={options:{storySort:function storySort(a,b){return"Docs/Getting Started"===b[1].kind?1:"Docs/Getting Started"===a[1].kind?-1:b[1].kind.includes("Docs/Recipes")?a[1].kind.includes("Recipes")?b[1].kind.includes("Schema Builder")?100:a[1].kind.includes("Schema Builder")?-100:b[1].kind.includes("Validations")?101:a[1].kind.includes("Validations")?-101:b[1].kind.includes("useFormFlowItem")?102:a[1].kind.includes("useFormFlowItem")?-102:b[1].kind>a[1].kind?-1:1:2:a[1].kind===b[1].kind?0:a[1].id.localeCompare(b[1].id,{numeric:!0})}}};function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}))),keys.push.apply(keys,symbols)}return keys}function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}Object.keys(preview_namespaceObject).forEach((function(key){var value=preview_namespaceObject[key];switch(key){case"args":case"argTypes":return esm.a.warn("Invalid args/argTypes in config, ignoring.",JSON.stringify(value));case"decorators":return value.forEach((function(decorator){return Object(client_api.c)(decorator,!1)}));case"loaders":return value.forEach((function(loader){return Object(client_api.d)(loader,!1)}));case"parameters":return Object(client_api.e)(function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?ownKeys(Object(source),!0).forEach((function(key){_defineProperty(target,key,source[key])})):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):ownKeys(Object(source)).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}return target}({},value),!1);case"argTypesEnhancers":return value.forEach((function(enhancer){return Object(client_api.a)(enhancer)}));case"argsEnhancers":return value.forEach((function(enhancer){return Object(client_api.b)(enhancer)}));case"render":return Object(client_api.g)(value);case"globals":case"globalTypes":var v={};return v[key]=value,Object(client_api.e)(v,!1);default:return console.log(key+" was not supported :( !")}}))},2656:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"Template",(function(){return AppInteractive_stories_Template})),__webpack_require__.d(__webpack_exports__,"defaultStory",(function(){return defaultStory}));var objectWithoutPropertiesLoose=__webpack_require__(47),objectWithoutPropertiesLoose_default=__webpack_require__.n(objectWithoutPropertiesLoose),helpers_extends=__webpack_require__(9),extends_default=__webpack_require__.n(helpers_extends),react=__webpack_require__(0),react_default=__webpack_require__.n(react),esm=__webpack_require__(1),dist_esm=__webpack_require__(12),prop_types=__webpack_require__(2),prop_types_default=__webpack_require__.n(prop_types),src=__webpack_require__(19),styled_components_browser_esm=__webpack_require__(141),InputField=__webpack_require__(302),Validation=__webpack_require__(300),Layout=styled_components_browser_esm.a.div.withConfig({displayName:"App__Layout",componentId:"sc-1vksufj-0"})(["height:100%;width:100%;display:grid;grid-template-columns:1fr 1fr;grid-template-rows:auto;"]);function Validations(){var name=Object(src.d)("name"),description=Object(src.d)("description");return react_default.a.createElement("div",null,(name.submitted||name.touched)&&react_default.a.createElement(Validation.a,{label:"Name",errors:name.errors}),(description.submitted||description.touched)&&react_default.a.createElement(Validation.a,{label:"Description",errors:description.errors}))}function Form(){var name=Object(src.d)("name"),description=Object(src.d)("description"),submissionProps=Object(src.h)((function(data){console.log(data)})),resetProps=Object(src.g)();return react_default.a.createElement("form",extends_default()({},submissionProps,resetProps),react_default.a.createElement(InputField.a,extends_default()({label:"Name"},name)),react_default.a.createElement(InputField.a,extends_default()({label:"Description"},description)),react_default.a.createElement("button",{type:"reset"},"Reset"),react_default.a.createElement("button",{type:"submit"},"Submit"))}var stories_App=function(_ref){var schemaData=_ref.schemaData;return react_default.a.createElement(Layout,null,react_default.a.createElement(src.a,{initialData:{},schemaData:schemaData},react_default.a.createElement(Validations,null),react_default.a.createElement(Form,null)))};try{App.displayName="App",App.__docgenInfo={description:"",displayName:"App",props:{schemaData:{defaultValue:null,description:"",name:"schemaData",required:!0,type:{name:"any"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["stories/App.tsx#App"]={docgenInfo:App.__docgenInfo,name:"App",path:"stories/App.tsx#App"})}catch(__react_docgen_typescript_loader_error){}function hasValue(value){return null!=value&&("string"!=typeof value||value&&value.trim())}try{src.b.factory("max-length",(function(_ref){var value=_ref.value,max=_ref.max;return!hasValue(null!=value?value:"")||(null!=value?value:"").length<=max}))}catch(_unused){}try{src.b.factory("min-length",(function(_ref2){var value=_ref2.value,min=_ref2.min;return!hasValue(null!=value?value:"")||(null!=value?value:"").length>=min}))}catch(_unused2){}try{src.b.factory("required-array",(function(_ref3){var value=_ref3.value;return hasValue(value)&&"function"==typeof value.forEach&&value.length>=0}))}catch(_unused3){}try{src.b.factory("required",(function(_ref4){var value=_ref4.value;return hasValue(null!=value?value:"")&&(null!=value?value:"").length>=0}))}catch(_unused4){}function AppInteractive(_ref5){var requiredNameMessage=_ref5.requiredNameMessage,requiredDescriptionMessage=_ref5.requiredDescriptionMessage,minNameLength=_ref5.minNameLength,minDescriptionLength=_ref5.minDescriptionLength,schemaData=Object(react.useRef)(src.b.builder().with("name").check("required",{response:function response(){return{message:requiredNameMessage}}}).check("min-length",{min:minNameLength,response:function response(metadata){var value=metadata.value,min=metadata.min,length=(null!=value?value:"").length;return{message:"Name should have more than "+min+" characters. (Remaining "+(length>min?0:min-length)+")"}}}).end().with("description").check("required",{response:function response(){return{message:requiredDescriptionMessage}}}).check("min-length",{min:minDescriptionLength,response:function response(metadata){var value=metadata.value,min=metadata.min,length=(null!=value?value:"").length;return{message:"Description should have more than "+min+" characters. (Remaining "+(length>min?0:min-length)+")"}}}).end().build());return react_default.a.createElement(stories_App,{schemaData:schemaData.current})}AppInteractive.propTypes={requiredNameMessage:prop_types_default.a.string.isRequired,requiredDescriptionMessage:prop_types_default.a.string.isRequired,minNameLength:prop_types_default.a.number.isRequired,minDescriptionLength:prop_types_default.a.number.isRequired};try{AppInteractive.displayName="AppInteractive",AppInteractive.__docgenInfo={description:"",displayName:"AppInteractive",props:{requiredNameMessage:{defaultValue:null,description:"",name:"requiredNameMessage",required:!0,type:{name:"any"}},requiredDescriptionMessage:{defaultValue:null,description:"",name:"requiredDescriptionMessage",required:!0,type:{name:"any"}},minNameLength:{defaultValue:null,description:"",name:"minNameLength",required:!0,type:{name:"any"}},minDescriptionLength:{defaultValue:null,description:"",name:"minDescriptionLength",required:!0,type:{name:"any"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["stories/AppInteractive.tsx#AppInteractive"]={docgenInfo:AppInteractive.__docgenInfo,name:"AppInteractive",path:"stories/AppInteractive.tsx#AppInteractive"})}catch(__react_docgen_typescript_loader_error){}var _excluded=["components"],AppInteractive_stories_Template=function Template(args){return Object(esm.b)(AppInteractive,extends_default()({},args,{mdxType:"AppInteractive"}))},layoutProps={Template:AppInteractive_stories_Template};function MDXContent(_ref){var components=_ref.components,props=objectWithoutPropertiesLoose_default()(_ref,_excluded);return Object(esm.b)("wrapper",extends_default()({},layoutProps,props,{components:components,mdxType:"MDXLayout"}),Object(esm.b)(dist_esm.c,{title:"Examples/Application Interactive",component:AppInteractive,mdxType:"Meta"}),Object(esm.b)(dist_esm.d,{of:AppInteractive,mdxType:"Props"}),Object(esm.b)("h1",{id:"appinteractive"},"AppInteractive"),Object(esm.b)("p",null,"Validating an interactive form built with ",Object(esm.b)("inlineCode",{parentName:"p"},"react-form-flow"),". Checkout the implementation ",Object(esm.b)("a",{parentName:"p",href:"https://github.com/daniloster/react-form-flow/blob/master/stories/AppInteractive.tsx",target:"_blank",rel:"nofollow noopener noreferrer"},"here"),"."),Object(esm.b)(dist_esm.b,{mdxType:"Canvas"},Object(esm.b)(dist_esm.e,{name:"Default",argTypes:{minNameLength:{control:{type:"range",min:2,max:20,step:1}},minDescriptionLength:{control:{type:"range",min:10,max:2e3,step:1}}},args:{requiredNameMessage:"Name is required!",minNameLength:5,requiredDescriptionMessage:"Description is required!",minDescriptionLength:300},mdxType:"Story"},AppInteractive_stories_Template.bind({}))))}MDXContent.isMDXComponent=!0;var defaultStory=AppInteractive_stories_Template.bind({});defaultStory.storyName="Default",defaultStory.argTypes={minNameLength:{control:{type:"range",min:2,max:20,step:1}},minDescriptionLength:{control:{type:"range",min:10,max:2e3,step:1}}},defaultStory.args={requiredNameMessage:"Name is required!",minNameLength:5,requiredDescriptionMessage:"Description is required!",minDescriptionLength:300},defaultStory.parameters={storySource:{source:"args => <AppInteractive {...args} />"}};var componentMeta={title:"Examples/Application Interactive",component:AppInteractive,includeStories:["defaultStory"]},mdxStoryNameToKey={Default:"defaultStory"};componentMeta.parameters=componentMeta.parameters||{},componentMeta.parameters.docs=extends_default()({},componentMeta.parameters.docs||{},{page:function page(){return Object(esm.b)(dist_esm.a,{mdxStoryNameToKey:mdxStoryNameToKey,mdxComponentMeta:componentMeta},Object(esm.b)(MDXContent,null))}});__webpack_exports__.default=componentMeta},300:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return Validation}));var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(0),react__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__),styled_components__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(141),LabelFeedback=styled_components__WEBPACK_IMPORTED_MODULE_1__.a.div.withConfig({displayName:"Validation__LabelFeedback",componentId:"sc-1h15q6t-0"})(["color:",";"],(function(_ref){var isColored=_ref.isColored,isValid=_ref.isValid;return isColored?isValid?"green":"red":"black"})),ValidationLayout=styled_components__WEBPACK_IMPORTED_MODULE_1__.a.section.withConfig({displayName:"Validation__ValidationLayout",componentId:"sc-1h15q6t-1"})([".ValidationLayout__message{color:red;}"]);function Validation(_ref2){var _ref2$isColored=_ref2.isColored,isColored=void 0!==_ref2$isColored&&_ref2$isColored,label=_ref2.label,_ref2$errors=_ref2.errors,errors=void 0===_ref2$errors?[]:_ref2$errors;return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(ValidationLayout,null,!!label&&react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(LabelFeedback,{isColored:isColored,isValid:!errors.some((function(_ref3){return!_ref3.isValid}))},label),errors.map((function(_ref4){var key=_ref4.key,message=_ref4.message;return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_0___default.a.Fragment,{key:key},react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div",{className:"ValidationLayout__message"},"key: ",key),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div",{className:"ValidationLayout__message"},"message: ",message))})))}},301:function(module,__webpack_exports__,__webpack_require__){"use strict";function hasValue(value){return null!=value&&("string"!=typeof value||value&&value.trim())}__webpack_require__.d(__webpack_exports__,"a",(function(){return hasValue}))},302:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return InputField}));var _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(9),_babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0__),react__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(0),react__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__),styled_components__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(141),uuid__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(1673),uuid__WEBPACK_IMPORTED_MODULE_3___default=__webpack_require__.n(uuid__WEBPACK_IMPORTED_MODULE_3__),_Validation__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(300),InputFieldLayout=styled_components__WEBPACK_IMPORTED_MODULE_2__.a.div.withConfig({displayName:"InputField__InputFieldLayout",componentId:"sc-12n5hqd-0"})(["padding:0 0 10px 0;display:",";grid-template-rows:auto;grid-template-columns:min-content minmax(1px,100%);grid-column-gap:10px;label > span{display:block;}.InputFieldLayout__validations{display:",";align-items:end;}"],(function(_ref){return _ref.layout}),(function(_ref2){return _ref2.layout}));function InputField(props){var labelText=props.label,layout=props.layout,type=props.type,errors=props.errors,field=props.field,submitted=props.submitted,touched=props.touched,id=Object(react__WEBPACK_IMPORTED_MODULE_1__.useRef)(uuid__WEBPACK_IMPORTED_MODULE_3___default.a.v4());return react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(InputFieldLayout,{layout:layout},react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("label",{htmlFor:id.current},react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("span",null,labelText),react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("input",_babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0___default()({id:id.current,type:type},field,{value:field.value||""}))),react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("div",{className:"InputFieldLayout__validations"},(submitted||touched)&&react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(_Validation__WEBPACK_IMPORTED_MODULE_4__.a,{errors:errors})))}InputField.Layout=InputFieldLayout,InputField.defaultProps={label:null,layout:"block",type:"text",errors:[]}},54:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"b",(function(){return RecipesSchemaBuilder})),__webpack_require__.d(__webpack_exports__,"a",(function(){return RecipesSchemaBuilder_data}));var react=__webpack_require__(0),react_default=__webpack_require__.n(react),hasValue=__webpack_require__(301),src=__webpack_require__(19),lib=__webpack_require__(1676),lib_default=__webpack_require__.n(lib),prism_core=__webpack_require__(993);__webpack_require__(2640),__webpack_require__(2641);function Editor(_ref){var _ref$value=_ref.value,value=void 0===_ref$value?"":_ref$value,onChangeValue=_ref.onChangeValue;return react_default.a.createElement(lib_default.a,{value:value,onValueChange:onChangeValue,highlight:function highlight(code){return Object(prism_core.highlight)(code,prism_core.languages.javascript,"javascript")},padding:10,style:{fontFamily:'"Fira code", "Fira Mono", monospace',fontSize:12}})}try{Editor.displayName="Editor",Editor.__docgenInfo={description:"",displayName:"Editor",props:{value:{defaultValue:{value:""},description:"",name:"value",required:!1,type:{name:"string"}},onChangeValue:{defaultValue:null,description:"",name:"onChangeValue",required:!0,type:{name:"(value: string) => void"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["tools/helpers/components/Editor.tsx#Editor"]={docgenInfo:Editor.__docgenInfo,name:"Editor",path:"tools/helpers/components/Editor.tsx#Editor"})}catch(__react_docgen_typescript_loader_error){}var prop_types=__webpack_require__(2),prop_types_default=__webpack_require__.n(prop_types),styled_components_browser_esm=__webpack_require__(141),Validation=__webpack_require__(300);function UpdateData(_ref){var data=_ref.data,setData=Object(src.e)().setData;return Object(react.useEffect)((function(){setData(data)}),[data,setData]),null}var ValidationsLayout=styled_components_browser_esm.a.div.withConfig({displayName:"RecipesValidations__ValidationsLayout",componentId:"sc-11o3ry4-0"})(["hr:last-child{display:none;}"]);function Validations(){var validations=Object(src.f)().validations;return react_default.a.createElement(ValidationsLayout,null,Array.from(new Set(validations.map((function(validation){return validation.path}))).values()).map((function(jsonPath){return react_default.a.createElement(react_default.a.Fragment,{key:jsonPath},react_default.a.createElement(Validation.a,{isColored:!0,key:jsonPath,label:jsonPath,errors:validations.filter((function(_ref3){var path=_ref3.path,isValid=_ref3.isValid;return jsonPath===path&&!isValid}))}),react_default.a.createElement("hr",null))})))}function RecipesValidations(_ref4){var data=_ref4.data,schemaData=_ref4.schemaData;return react_default.a.createElement(src.a,{initialData:data,schemaData:schemaData},react_default.a.createElement("h2",null,"Try change the validations or the data in the console below..."),react_default.a.createElement(UpdateData,{data:data}),react_default.a.createElement(Validations,null))}RecipesValidations.propTypes={data:prop_types_default.a.shape({}).isRequired,schemaData:prop_types_default.a.shape({}).isRequired};try{RecipesValidations.displayName="RecipesValidations",RecipesValidations.__docgenInfo={description:"",displayName:"RecipesValidations",props:{data:{defaultValue:null,description:"",name:"data",required:!0,type:{name:"any"}},schemaData:{defaultValue:null,description:"",name:"schemaData",required:!0,type:{name:"any"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["stories/RecipesValidations.tsx#RecipesValidations"]={docgenInfo:RecipesValidations.__docgenInfo,name:"RecipesValidations",path:"stories/RecipesValidations.tsx#RecipesValidations"})}catch(__react_docgen_typescript_loader_error){}function decode(text){var parser=document.createElement("div");return parser.innerHTML=text,parser.textContent}function RecipesSchemaBuilder(_ref){var dataProps=_ref.data,schemaDataProps=_ref.schemaData,_useState=Object(react.useState)(schemaDataProps||RecipesSchemaBuilder_schemaData),_schemaData=_useState[0],set_schemaData=_useState[1],schemaDataObject=Object(react.useMemo)((function(){return new Function("SchemaBuilder","hasValue",decode(_schemaData))(src.b,hasValue.a)}),[_schemaData]),_useState2=Object(react.useState)(schemaDataObject),_schemaDataObjectSaved=_useState2[0],set_schemaDataObjectSaved=_useState2[1],onUpdateCode=Object(react.useCallback)((function(){set_schemaDataObjectSaved(null),setTimeout((function(){set_schemaDataObjectSaved(schemaDataObject)}),300)}),[schemaDataObject]);return null!=_schemaDataObjectSaved&&react_default.a.createElement(react_default.a.Fragment,null,react_default.a.createElement("fieldset",null,react_default.a.createElement("legend",null,"Assumed SchemaBuilder and hasValue are available..."),react_default.a.createElement("code",null,'import { SchemaBuilder } from "react-form-flow";'),react_default.a.createElement("code",null,react_default.a.createElement("pre",null,"\nexport default function hasValue(value) {\n  return (\n    value !== null && value !== undefined && (typeof value !== 'string' || (value && value.trim()))\n  );\n}           \n              "))),react_default.a.createElement("fieldset",null,react_default.a.createElement("legend",null,"Body of getShemaData(SchemaBuilder, hasValue)"),react_default.a.createElement(Editor,{value:_schemaData,onChangeValue:set_schemaData})),react_default.a.createElement("div",null,react_default.a.createElement("button",{type:"button",onClick:onUpdateCode},"Update Code")),react_default.a.createElement(RecipesValidations,{data:dataProps,schemaData:_schemaDataObjectSaved}))}var RecipesSchemaBuilder_data={name:"",description:"",passport:{visa:{value:3,unit:"days"}}},RecipesSchemaBuilder_schemaData='\n\n/** \n * Once you factory it, you can use as many times as you want via "check"\n **/\nif (!SchemaBuilder.get("string.required")) {\n  SchemaBuilder.factory("string.required", (metadata) => hasValue(metadata.value));\n}\n\n/** \n * You can provide extra arguments such as message, or use some translation library to\n * transform the property "key" returned into a message.\n **/\nreturn SchemaBuilder.builder()\n  .with("name", [])\n  .check("string.required")\n  .end()\n  .with("description", [])\n  .check("string.required", { message: "Description is required" })\n  .end()\n  .build();\n\n'.trim();try{decode.displayName="decode",decode.__docgenInfo={description:"",displayName:"decode",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["stories/RecipesSchemaBuilder.tsx#decode"]={docgenInfo:decode.__docgenInfo,name:"decode",path:"stories/RecipesSchemaBuilder.tsx#decode"})}catch(__react_docgen_typescript_loader_error){}try{RecipesSchemaBuilder.displayName="RecipesSchemaBuilder",RecipesSchemaBuilder.__docgenInfo={description:"",displayName:"RecipesSchemaBuilder",props:{data:{defaultValue:null,description:"",name:"data",required:!0,type:{name:"any"}},schemaData:{defaultValue:null,description:"",name:"schemaData",required:!0,type:{name:"any"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["stories/RecipesSchemaBuilder.tsx#RecipesSchemaBuilder"]={docgenInfo:RecipesSchemaBuilder.__docgenInfo,name:"RecipesSchemaBuilder",path:"stories/RecipesSchemaBuilder.tsx#RecipesSchemaBuilder"})}catch(__react_docgen_typescript_loader_error){}}},[[1705,2,3]]]);
//# sourceMappingURL=main.3e12ffa8.iframe.bundle.js.map