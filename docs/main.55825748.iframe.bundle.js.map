{"version":3,"sources":["webpack:///./.storybook/storybook-init-framework-entry.js","webpack:///./src/react-state/Subject.ts","webpack:///./src/react-state/ObservableState.ts","webpack:///./src/react-state/useObservableState.ts","webpack:///./src/FormFlowDataContext.ts","webpack:///./src/accessor.ts","webpack:///./src/getAbsolutePath.ts","webpack:///./src/validationUtils.ts","webpack:///./src/SchemaBuilder/wrapSchemaWithValidationMethods.ts","webpack:///./src/EvaluateValidations.tsx","webpack:///./src/isValidByPaths.ts","webpack:///./src/hasPathMatched.ts","webpack:///./src/FormFlowProvider.tsx","webpack:///./src/SchemaBuilder/factoryValidate.ts","webpack:///./src/SchemaBuilder/SchemaBuilder.ts","webpack:///./src/useFormFlowValidation.ts","webpack:///./src/useFormFlowItem.ts","webpack:///./src/useFormFlow.ts","webpack:///./src/useFormFlowField.ts","webpack:///./src/useResetForm.ts","webpack:///./src/useSubmitForm.ts","webpack:///./src/index.ts","webpack:///./.storybook/generated-stories-entry.js","webpack:///\\.)(","webpack:///./node_modules/moment/locale sync ^\\.\\/.*$","webpack:///./stories/GettingStarted.stories.mdx","webpack:///./stories/RecipesCheckbox.stories.mdx","webpack:///./stories/RecipesDropdown.stories.mdx","webpack:///./stories/RecipesInput.stories.mdx","webpack:///./stories/RecipesRadio.stories.mdx","webpack:///./stories/RecipesSchemaBuilder.stories.mdx","webpack:///./stories/RecipesUseFormFlowField.stories.mdx","webpack:///./stories/RecipesUseFormFlowItem.stories.mdx","webpack:///./stories/RecipesValidations.stories.mdx","webpack:///./react-form-flow-examples/SchemaBuilder.js","webpack:///./react-form-flow-examples/AddressBook/schemaData.js","webpack:///./react-form-flow-examples/AddressBook/AddressBookForm.js","webpack:///./react-form-flow-examples/AddressBook/AddressBook.js","webpack:///./react-form-flow-examples/AddressBook/index.js","webpack:///./stories/AddressBook.stories.mdx","webpack:///./.storybook/decorators.tsx","webpack:///./.storybook/preview.ts","webpack:///./.storybook/preview.ts-generated-config-entry.js","webpack:///./stories/App.tsx","webpack:///./stories/AppInteractive.tsx","webpack:///./stories/AppInteractive.stories.mdx","webpack:///./react-form-flow-examples/fields/Validation.js","webpack:///./react-form-flow-examples/hasValue.js","webpack:///./react-form-flow-examples/fields/InputField.js","webpack:///./tools/helpers/components/Editor.tsx","webpack:///./stories/RecipesValidations.tsx","webpack:///./stories/RecipesSchemaBuilder.tsx"],"names":["Subject","subscribe","listener","self","this","subscriber","subscribers","push","unsubscribe","filter","item","next","value","forEach","ObservableState","initialValue","transformer","frozenValue","Object","freeze","newValue","subject","useObservableState","observable","useState","get","state","setState","useEffect","useMemo","set","context","React","createContext","create","getter","setter","EMPTY_LIST","clearIndexes","path","replace","add","list","includes","derivatePaths","paths","data","prefix","remainingPaths","length","suffix","pop","_","idx","slice","interpolatePathsByPaths","rawValidationPaths","jsonPath","nestedPaths","split","map","trim","reverse","parentPath","createValidations","invalidationPaths","validations","validate","args","checkValidation","wrapSchemaWithValidationMethods","schema","cache","validateData","allPaths","interpolatePaths","schemaData","keys","validationsState","allValidations","byPath","validateDataAt","validation","pathIndexesCleared","validateAt","dependencies","undefined","dependencyValues","previousValidations","cacheAtPath","ancestorsPathParts","indexesMatches","match","indexes","concat","invalidationPath","absolutePath","getAbsolutePath","matched","totalAncestorTokens","join","reduce","finalPath","indexValue","index","Array","from","currentDependencyValues","isOverallChanged","EvaluateValidations","observableState","useContext","FormFlowDataContext","values","globalValidationCached","isValidByPaths","some","isValid","validationPath","internalPath","hasPathMatched","FormFlowProvider","children","initialData","isSubmitted","initialDataRef","useRef","schemaDataRef","submitCount","dirty","initialValues","current","touched","isAllValid","Boolean","useCallback","Provider","memo","defaultResponse","factoryValidate","validationName","response","name","key","EMPTY_OBJECT","builder","instance","build","with","validationMethods","newBuilder","check","end","test","entries","method","input","extraArguments","factory","defaultExtraArgs","Error","factoryValidationInternal","remainingArguments","internalArgs","purge","validationNames","validationNamesToRemove","getPurgedList","isArray","removed","ACCEPTABLE_TYPES","getBooleanFromMapPath","type","possibleBoolean","isFormDirty","isFormTouched","useFormFlowValidation","metadata","mapDirty","mapTouched","isArrayWithNoIndex","initialMapDirty","initialMapTouched","submitted","useFormFlowItem","setMetadata","useFormFlow","onBlurByPath","oldData","onChangeByPath","oldValue","isDirtyOld","isDirty","setData","oldMetadata","onChangeValue","onBlur","onChange","e","target","Types","DEFAULT_OPTIONS","eventType","useFormFlowField","options","metadataOptions","blur","change","changeValue","blurForm","changeForm","changeValueForm","val","errors","field","useResetForm","ref","onReset","reset","useSubmitForm","submit","onSubmit","a","preventDefault","require","configure","module","webpackContext","req","id","webpackContextResolve","__webpack_require__","o","code","webpackContextKeys","resolve","exports","layoutProps","MDXContent","components","props","mdxType","title","component","parentName","isMDXComponent","__page","parameters","docsOnly","componentMeta","includeStories","mdxStoryNameToKey","docs","page","mdxComponentMeta","RecipesSchemaBuilder","source","Template","of","argTypes","control","factories","bind","schemaBuilder","storyName","storySource","SchemaBuilder","max","hasValue","min","date","moment","now","valueOf","format","message","AddressBookFormLayout","styled","div","AddressBookForm","nameField","emailField","birthdayField","InputField","label","layout","propTypes","AddressBookLayout","AddressBook","initialState","defaultStory","Story","storySort","b","kind","localeCompare","numeric","ownKeys","object","enumerableOnly","getOwnPropertySymbols","symbols","sym","getOwnPropertyDescriptor","enumerable","apply","_defineProperty","obj","defineProperty","configurable","writable","config","logger","warn","JSON","stringify","decorator","addDecorator","loader","addLoader","addParameters","_objectSpread","i","arguments","getOwnPropertyDescriptors","defineProperties","enhancer","addArgTypesEnhancer","addArgsEnhancer","setGlobalRender","v","console","log","Layout","Validations","description","Validation","Form","submissionProps","resetProps","AppInteractive","requiredNameMessage","requiredDescriptionMessage","minNameLength","minDescriptionLength","PropTypes","string","isRequired","number","step","LabelFeedback","isColored","ValidationLayout","section","Fragment","className","InputFieldLayout","labelText","uuid","v4","htmlFor","defaultProps","Editor","onValueChange","highlight","languages","javascript","padding","style","fontFamily","fontSize","UpdateData","ValidationsLayout","Set","RecipesValidations","shape","decode","text","parser","document","createElement","innerHTML","textContent","dataProps","schemaDataProps","_schemaData","set_schemaData","schemaDataObject","Function","getSchemaData","_schemaDataObjectSaved","set_schemaDataObjectSaved","onUpdateCode","setTimeout","onClick"],"mappings":"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","file":"main.55825748.iframe.bundle.js","sourcesContent":["import '@storybook/react';","import Subscriber from './Subscriber';\n\n/**\n * Subject similar to rxjs Subject\n */\nexport default class Subject<T> {\n  subscribers: { listener: Subscriber<T> }[] = [];\n\n  subscribe(listener: Subscriber<T>) {\n    const self = this;\n    const subscriber = {\n      listener,\n    };\n\n    self.subscribers.push(subscriber);\n\n    return {\n      unsubscribe: () => {\n        self.subscribers = self.subscribers.filter(item => item !== subscriber);\n      },\n    };\n  }\n\n  next(value: T) {\n    this.subscribers.forEach(({ listener }) => {\n      listener.next(value);\n    });\n  }\n}\n","import Subject from './Subject';\nimport Subscriber from './Subscriber';\n\nclass ObservableState<T> {\n  private subject: Subject<T>;\n  private value: T;\n  \n  static create = <T>(initialValue: T): ObservableState<T> => new ObservableState<T>(initialValue);\n  \n  private constructor(initialValue: T) {\n    this.value = initialValue;\n    this.subject = new Subject();\n  }\n\n  get = () => this.value;\n  set = (transformer: ((v: T) => T)) => {\n    const frozenValue = Object.freeze(this.value);\n    const newValue = transformer(frozenValue);\n    if (frozenValue !== newValue) {\n      this.value = newValue;\n      this.subject.next(this.value);\n    }\n  };\n  subscribe = (subscriber: Subscriber<T>) => this.subject.subscribe(subscriber);\n};\n\nexport default ObservableState;\n","import { useEffect, useMemo, useState } from 'react';\nimport ObservableState from './ObservableState';\n\nexport default function useObservableState<T>(observable: ObservableState<T>): [T, (transformer: (v: T) => T) => void] {\n  const [state, setState] = useState<T>(observable.get());\n\n  useEffect(() => {\n    const subscriber = observable.subscribe({\n      next: setState,\n    });\n\n    return () => {\n      subscriber.unsubscribe();\n    };\n  }, [observable]);\n\n  return useMemo(() => [Object.freeze(state) as T, observable.set as ((transformer: (v: T) => T) => void)], [observable.set, state]);\n}\n","import React from 'react';\nimport FormFlowDataType from './FormFlowDataType';\nimport { ObservableState } from './react-state';\n\nconst context = React.createContext<ObservableState<FormFlowDataType>>((ObservableState.create({} as any as FormFlowDataType)));\nexport default context;\n","// @ts-nocheck\nimport { get as getter, set as setter } from 'mutation-helper';\n\ntype Getter = (object: Object, field: string) => any;\nconst get: Getter = getter;\ntype Setter = (object: Object, field: string, value: any) => Object;\nconst set: Setter = setter;\n\nexport { get };\nexport { set };\n// eslint-disable-line\n","const EMPTY_LIST: string[] = [];\n/**\n * Resolves the absolute path to a given invalidation path\n * @param {array<string>} ancestorsPathParts - e.g. \"user.contacts[0].type\" => [\"user\", \"contacts[0]\", \"type\"]\n * @param {*} invalidationPath - the invalidation path\n * @returns {string} the absolute path\n */\nexport default function getAbsolutePath(\n  ancestorsPathParts: string[],\n  invalidationPath: any\n): string {\n  const matched = invalidationPath.match(/^(\\$\\.)*/)[0] || '';\n  const totalAncestorTokens = matched.length / 2;\n  const offsetEnd = ancestorsPathParts.length - totalAncestorTokens;\n  const parentPath = (offsetEnd > -1 && !!matched\n    ? ancestorsPathParts.slice(0, ancestorsPathParts.length - totalAncestorTokens).concat('')\n    : EMPTY_LIST\n  ).join('.');\n\n  return invalidationPath.replace(matched, parentPath);\n}\n","import { get } from './accessor';\nimport AggregatedValidator from './SchemaBuilder/AggregatedValidator';\nimport Validation from './SchemaBuilder/Validation';\nimport ValidationArgs from './SchemaBuilder/ValidationArgs';\nimport ValidationProcessor from './SchemaBuilder/ValidationProcessor';\n\n/**\n * Removes the index number from array notations\n */\nexport function clearIndexes(path: string): string {\n  return path.replace(/\\[\\d+\\]/g, '[]');\n}\n\n/**\n * Removes the index number preceeded of '$' from array notations\n */\nexport function clearIndexesIterator(path: string): string {\n  return path.replace(/\\[\\$\\d+\\]/g, '[]');\n}\n\n/**\n * Gets the index of iterator for array notation\n * e.g.  contacts[].types[] => contacts[$1].values[$0] => [1, 4]\n * e.g.  contacts[].values[] => messages[$1] => [1]\n * @param {string} path\n * @returns {array<number>}\n */\nexport function getIndexesIterator(path: string): string[] {\n  const indexesMatches = (path.match(/\\[\\$(\\d+)\\]/g) || [])\n    .slice()\n    // eslint-disable-next-line\n    .map(text => Number(text.replace(/[\\[\\]$]/g, '')));\n  const length = Math.max(...indexesMatches, 0) + 1;\n  const iterators: string[] = Array.from({ length }).map((_, index) => {\n    const reverseIndex = indexesMatches.indexOf(index);\n    return reverseIndex > -1 ? `$${reverseIndex}` : '';\n  });\n  return iterators;\n}\n\n/**\n * Adds item to list if list does not contain it.\n * (mutates the list)\n * @param {array} list\n * @param {any} item\n * @returns {void}\n */\nfunction add<T>(list: T[], item: T) {\n  if (!list.includes(item)) {\n    list.push(item);\n  }\n}\n\n/**\n * Creates list of paths based on data, prefix and remainingPaths.\n * (mutates the paths)\n */\nfunction derivatePaths(\n  paths: string[],\n  data: Object,\n  prefix: string | undefined,\n  remainingPaths: string[]\n): void {\n  if (remainingPaths.length === 0) {\n    add(paths, prefix);\n  }\n\n  const list = prefix ? get(data, prefix) : data;\n  const suffix = remainingPaths.pop();\n\n  if (list && list.forEach) {\n    list.forEach((_: any, idx: number) => {\n      derivatePaths(paths, data, `${prefix}[${idx}]${suffix}`, remainingPaths.slice());\n    });\n  }\n}\n\nexport function interpolatePathsByPaths(rawValidationPaths: string[], data: Object) {\n  const paths: string[] = [];\n\n  rawValidationPaths.forEach(jsonPath => {\n    const rawJsonPath = clearIndexes(jsonPath);\n    const nestedPaths = rawJsonPath\n      .split('[]')\n      .map(value => value.trim())\n      .reverse();\n    const parentPath = nestedPaths.pop();\n\n    if (parentPath) {\n      add(paths, parentPath);\n    }\n\n    if (nestedPaths.length > 0) {\n      derivatePaths(paths, data, parentPath, nestedPaths);\n    }\n  });\n\n  return paths;\n}\n\n/**\n * Creates a list of json paths based on the existing keys in the schema\n * and the data.\n */\nexport function interpolatePaths(schemaData: Object, data: Object): string[] {\n  const rawValidationPaths = Object.keys(schemaData);\n  return interpolatePathsByPaths(rawValidationPaths, data);\n}\n\n/**\n * Creates validator based on invalidationPaths and list of validations.\n */\nexport function createValidations(\n  invalidationPaths: string[],\n  ...validations: ValidationProcessor[]\n): AggregatedValidator {\n  function validate(args: ValidationArgs): Validation[] {\n    return validations.map(checkValidation => checkValidation(args));\n  }\n\n  return {\n    invalidationPaths,\n    validate,\n  };\n}\n","import { get } from '../accessor';\nimport getAbsolutePath from '../getAbsolutePath';\nimport { clearIndexes, interpolatePaths } from '../validationUtils';\nimport AggregatedValidator from './AggregatedValidator';\nimport SchemaValidationMethods from './SchemaValidationMethods';\nimport Validation from './Validation';\nimport ValidationState from './ValidationState';\n\ntype ValidationCache = {\n  dependencies: string[];\n  dependencyValues: any[];\n  previousValidations: Validation[] | null;\n};\n\n/**\n * Wraps the schema returning an object with validate and\n * validateAt functions which have a cache layer\n * @param {Object} schema\n * @returns {import('./types').Validator}\n */\nexport default function wrapSchemaWithValidationMethods(schema: {\n  [key: string]: AggregatedValidator;\n}): SchemaValidationMethods {\n  const cache: { [key: string]: ValidationCache } = {};\n\n  return {\n    // eslint-disable-next-line no-use-before-define\n    validate: validateData,\n    // eslint-disable-next-line no-use-before-define\n    validateAt: (data: Object, path: string) => validateDataAt(data, path),\n  };\n\n  function validateData(data: Object): ValidationState {\n    const allPaths = interpolatePaths(schema, data);\n    /**\n     * Basically, we need to clear out the pre-existing validation as it can only\n     * be trigger by data or schema changes which would invalidate the form validations.\n     */\n    const validationsState: ValidationState = {\n      allPaths,\n      allValidations: [],\n      byPath: {},\n    };\n\n    allPaths.forEach(path => {\n      // eslint-disable-next-line no-use-before-define\n      validateDataAt(data, path).forEach((validation: Validation) => {\n        const pathIndexesCleared = clearIndexes(path);\n        if (pathIndexesCleared !== path) {\n          validationsState.byPath[pathIndexesCleared] =\n            validationsState.byPath[pathIndexesCleared] || [];\n          validationsState.byPath[pathIndexesCleared].push(validation);\n        }\n        validationsState.byPath[path] = validationsState.byPath[path] || [];\n        validationsState.byPath[path].push(validation);\n        validationsState.allValidations.push(validation);\n      });\n    });\n\n    return validationsState;\n  }\n\n  function validateDataAt(data: Object, path: string): Validation[] {\n    const pathIndexesCleared = clearIndexes(path);\n    const { invalidationPaths, validate } = schema[path] || schema[pathIndexesCleared];\n    cache[path] = cache[path] || {\n      dependencies: undefined,\n      dependencyValues: undefined,\n      previousValidations: undefined,\n    };\n    const cacheAtPath = cache[path];\n\n    if (!cacheAtPath.dependencies) {\n      const ancestorsPathParts = path.split('.');\n      const indexesMatches = path.match(/(\\[\\d+\\])/g);\n      const indexes = indexesMatches ? indexesMatches.slice() : [];\n      cacheAtPath.dependencies = [path].concat(invalidationPaths).map(invalidationPath => {\n        const absolutePath = getAbsolutePath(ancestorsPathParts, invalidationPath);\n        return indexes.reduce(\n          (finalPath, indexValue, index) => finalPath.replace(`[$${index}]`, indexValue),\n          absolutePath\n        );\n      });\n      cacheAtPath.dependencyValues = Array.from({ length: cacheAtPath.dependencies.length }).map(\n        () => null\n      );\n      cacheAtPath.previousValidations = null;\n    }\n\n    const paths = cacheAtPath.dependencies;\n    const currentDependencyValues: any[] = [];\n    const isChanged = paths.reduce((isOverallChanged, jsonPath, index) => {\n      currentDependencyValues.push(get(data, jsonPath));\n      if (isOverallChanged) {\n        return true;\n      }\n      return currentDependencyValues[index] !== cacheAtPath.dependencyValues[index];\n    }, false);\n\n    /**\n     * Computing validations and returning cache if the invalidations hasn't changed\n     */\n    let validations = null;\n    if (!isChanged && cacheAtPath.previousValidations !== null) {\n      validations = cacheAtPath.previousValidations;\n    } else {\n      validations = validate({\n        data,\n        get,\n        path,\n        value: currentDependencyValues[0],\n        dependencies: currentDependencyValues.slice(1),\n      });\n    }\n\n    /**\n     * Appending computed validations\n     */\n    cacheAtPath.previousValidations = validations;\n    cacheAtPath.dependencyValues = currentDependencyValues;\n\n    return validations;\n  }\n}\n","import { useContext, useMemo } from 'react';\nimport FormFlowDataContext from './FormFlowDataContext';\nimport FormFlowDataType from './FormFlowDataType';\nimport { useObservableState } from './react-state';\nimport AggregatedValidator from './SchemaBuilder/AggregatedValidator';\nimport SchemaValidationMethods from './SchemaBuilder/SchemaValidationMethods';\nimport wrapSchemaWithValidationMethods from './SchemaBuilder/wrapSchemaWithValidationMethods';\n\nexport default function EvaluateValidations() {\n  const observableState = useContext(FormFlowDataContext);\n  const [state] = useObservableState(observableState);\n  const { schemaData, values: data } = state as FormFlowDataType;\n  const schema = useMemo(\n    () =>\n      typeof ((schemaData as any).validate) === 'function'\n        ? schemaData\n        : wrapSchemaWithValidationMethods(schemaData as {\n          [key: string]: AggregatedValidator;\n        }),\n    [schemaData]\n  ) as SchemaValidationMethods;\n  const { validationsState } = observableState.get();\n  /**\n   * Basically, we need to clear out the pre-existing validation as it can only\n   * be trigger by data or schemaData changes which would invalidate the form validations.\n   */\n  const globalValidationCached = schema.validate(data);\n  validationsState.allPaths = globalValidationCached.allPaths;\n  validationsState.allValidations = globalValidationCached.allValidations;\n  validationsState.byPath = globalValidationCached.byPath;\n\n  return null;\n}\n","import hasPathMatched from './hasPathMatched';\nimport Validation from './SchemaBuilder/Validation';\n\nconst EMPTY_LIST: string[] = [];\n\nexport default function isValidByPaths(allValidations: Validation[], paths?: string[]) {\n  const allPaths = paths || EMPTY_LIST;\n  const isAllRequired = allPaths.length === 0;\n\n  if (isAllRequired) {\n    return !allValidations.some(({ isValid }) => !isValid);\n  }\n\n  return !allValidations.some(\n    ({ isValid, path: validationPath }) =>\n      !isValid && allPaths.some(internalPath => hasPathMatched(validationPath, internalPath))\n  );\n}\n","import { clearIndexes } from './validationUtils';\n\n/**\n * Checks if a validated path matches a given path\n * @param {string} validationPath the validated path\n * @param {string} path the path to compare against\n * @returns {boolean}\n */\nexport default function hasPathMatched(validationPath: string, path: string): boolean {\n  return !path || path === validationPath || path === clearIndexes(validationPath);\n}\n","import React, { useCallback, useMemo, useRef } from 'react';\nimport EvaluateValidations from './EvaluateValidations';\nimport FormFlowDataContext from './FormFlowDataContext';\nimport FormFlowDataType from './FormFlowDataType';\nimport isValidByPaths from './isValidByPaths';\nimport { ObservableState } from './react-state';\nimport SchemaData from './SchemaBuilder/SchemaData';\n\ntype FormFlowProviderProps = {\n  /**\n   * React.Node where the form fields are rendered\n   */\n  children: React.ReactElement | React.ReactNode;\n  /**\n    * The initial form data\n    */\n  initialData: Object;\n  /**\n    * The object with validation rules per field\n    */\n  schemaData: SchemaData;\n  /**\n    * Indicates when the data has been created or there was an attempt to create it\n    */\n  isSubmitted?: boolean;\n};\n\nfunction FormFlowProvider({\n  children,\n  initialData,\n  schemaData,\n  isSubmitted = false,\n}: FormFlowProviderProps): React.ReactElement {\n  const initialDataRef = useRef(initialData);\n  const schemaDataRef = useRef(schemaData);\n  const observableState = useMemo(\n    () =>\n      ObservableState.create<FormFlowDataType>({\n        submitCount: isSubmitted ? 1 : 0,\n        dirty: {},\n        initialValues: initialDataRef.current,\n        schemaData: schemaDataRef.current,\n        touched: {},\n        values: initialDataRef.current,\n        validationsState: {\n          allPaths: [],\n          allValidations: [],\n          byPath: {},\n          isAllValid: (paths: string[]) => Boolean(paths),\n        },\n      }),\n    [isSubmitted]\n  );\n  observableState.get().validationsState.isAllValid = useCallback(\n    paths => {\n      const { allValidations } = observableState.get().validationsState;\n      return isValidByPaths(allValidations, paths);\n    },\n    [observableState]\n  );\n\n  return (\n    <FormFlowDataContext.Provider value={observableState}>\n      <EvaluateValidations />\n      <>{children}</>\n    </FormFlowDataContext.Provider>\n  );\n}\n\nexport default React.memo(FormFlowProvider);\n","import ResponseValidationProcessor from './ResponseValidationProcessor';\nimport Validation from './Validation';\nimport ValidationArgs from './ValidationArgs';\nimport ValidationProcessor from './ValidationProcessor';\nimport ValidationProcessorChecker from './ValidationProcessorChecker';\n\n// function defaultResponse(args: ValidationArgs, validationName: string): Partial<Validation> {\nfunction defaultResponse(): Partial<Validation> {\n  return {};\n}\n\nexport default function factoryValidate(\n  validationName: string,\n  isValid: ValidationProcessorChecker,\n  response?: ResponseValidationProcessor\n): ValidationProcessor {\n  return (args: ValidationArgs) => (({\n    ...args,\n    isValid: isValid(args),\n    name: validationName,\n    key: `${args.path}.errors.${validationName}`.replace(/\\[\\d*\\]/g, ''),\n    ...(response || defaultResponse)(args),\n  }) as Validation);\n}\n","import { createValidations } from '../validationUtils';\nimport AggregatedValidator from './AggregatedValidator';\nimport Builder, { BuilderNode } from './Builder';\nimport ExtraArguments from './ExtraArguments';\nimport factoryValidate from './factoryValidate';\nimport ResponseValidationProcessor from './ResponseValidationProcessor';\nimport ValidationArgs from './ValidationArgs';\nimport ValidationProcessor from './ValidationProcessor';\nimport ValidationProcessorChecker from './ValidationProcessorChecker';\nimport ValidationProcessorFactory from './ValidationProcessorFactory';\nimport wrapSchemaWithValidationMethods from './wrapSchemaWithValidationMethods';\n\nconst EMPTY_OBJECT = { response: undefined as any as ResponseValidationProcessor };\nconst DEFAULT_VALIDATION = \"test\" as const;\ntype ValidationMethodsMap = {\n  [key: string]: ValidationProcessorFactory;\n};\nconst validations: ValidationMethodsMap = {};\n\n/**\n * Factories methods to build validations which will be available\n * later in the build schema process\n */\nfunction factory<T extends Object>(validationName: string, isValid: ValidationProcessorChecker, defaultExtraArgs?: ExtraArguments) {\n  if (validations[validationName] || validationName === DEFAULT_VALIDATION) {\n    throw new Error(`The validation \"${validationName}\" already exists, you cannot override it.\nValidations can be manipulated by get(\"${validationName}\"), purge(\"${validationName}\").`);\n  }\n\n  const factoryValidationInternal: ValidationProcessorFactory = (args: ValidationArgs): ValidationProcessor<T> => {\n    const { response: __discard, ...remainingArguments } = args || EMPTY_OBJECT;\n    const response: ResponseValidationProcessor = args?.response || defaultExtraArgs?.response;\n    const validate = factoryValidate(validationName, isValid, response);\n    return (internalArgs: ValidationArgs & T) => validate({ name: validationName, ...internalArgs, ...remainingArguments });\n  };\n  validations[validationName] = factoryValidationInternal;\n}\n\n/**\n * Creates a builder for validations\n */\nfunction builder(): Builder {\n  const schema: { [key: string]: AggregatedValidator } = {};\n  const instance = {\n    /**\n     * Creates the schema\n     * @returns {object}\n     */\n    build: () => wrapSchemaWithValidationMethods(schema),\n    /**\n     * Creates the schema\n     */\n    with: (path: string, invalidationPaths: string[] = []): BuilderNode => {\n      const validationMethods: any[] = [];\n      const newBuilder: BuilderNode = {\n        check: undefined!,\n        end: undefined!,\n        test: (validationName: string,\n          isValid: ValidationProcessorChecker,\n          response?: ResponseValidationProcessor) => {\n          validationMethods.push(factoryValidate(validationName, isValid, response));\n          newBuilder[validationName] = () => {\n            return newBuilder;\n          };\n          return newBuilder;\n        },\n      };\n      Object.entries(validations).forEach(([key, method]) => {\n        if (!newBuilder[key]) {\n          newBuilder[key] = ((...args: any[]) => {\n            const [input] = args as [ValidationArgs & ExtraArguments];\n            validationMethods.push(method(input));\n            return newBuilder;\n          }) as Function;\n        }\n      });\n      /**\n       * Finish validation to a path and returns to builder\n       */\n      function check<T>(validationName: string, extraArguments?: Partial<ExtraArguments> & T): BuilderNode {\n        newBuilder[validationName as any](extraArguments);\n        return newBuilder;\n      }\n      newBuilder.check = check;\n      /**\n       * Finish validation to a path and returns to builder\n       */\n      function end() {\n        schema[path] = createValidations(invalidationPaths, ...validationMethods) as AggregatedValidator;\n        return instance as any as Builder;\n      }\n      newBuilder.end = end;\n\n      return newBuilder;\n    },\n  };\n\n  return instance as any as Builder;\n}\n\n/**\n * Gets a list of validation names to be purged\n */\nfunction getPurgedList(validationNames?: string | string[]): string[] {\n  const isTryingToRemoveTest =\n    validationNames === 'test' ||\n    (validationNames &&\n      (validationNames as string[]).some &&\n      (validationNames as string[]).some((validationName: string) => validationName === 'test'));\n  if (isTryingToRemoveTest) {\n    throw new Error('\"test\" cannot be purged. It is a fundamental validation.');\n  }\n\n  if (Array.isArray(validationNames)) {\n    return validationNames;\n  }\n\n  if (validationNames === undefined) {\n    return Object.keys(validations).filter(validation => validation !== 'test');\n  }\n\n  if (typeof validationNames === 'string') {\n    return [validationNames];\n  }\n\n  throw new Error('Argument \"validationNames\" can only be string, array or undefined.');\n}\n\nexport default Object.freeze({\n  /**\n   * Initialize the builder for schema\n   */\n  builder,\n  /**\n   * Factory validations to accessed in the builder\n   */\n  factory,\n  get: (validationName: string) => validationName === DEFAULT_VALIDATION ? factoryValidate : validations[validationName],\n  /**\n   * Purges validations\n   */\n  purge: (validationNames?: string|Array<string>): { [key: string]: ValidationProcessorFactory } => {\n    const validationNamesToRemove = getPurgedList(validationNames);\n    const removed: ValidationMethodsMap = {};\n    validationNamesToRemove.forEach(validationName => {\n      removed[validationName] = validations[validationName];\n      delete validations[validationName];\n    });\n\n    return removed;\n  },\n});\n","import { useContext, useMemo } from 'react';\nimport { get } from './accessor';\nimport FormFlowDataContext from './FormFlowDataContext';\nimport { useObservableState } from './react-state';\nimport { clearIndexes } from './validationUtils';\n\nconst ACCEPTABLE_TYPES = ['boolean', typeof undefined];\n\nfunction getBooleanFromMapPath(map: any): boolean {\n  const type = typeof map;\n  if (ACCEPTABLE_TYPES.includes(type)) return !!map;\n  return Object.values(map).some(possibleBoolean => getBooleanFromMapPath(possibleBoolean));\n}\n\nconst isFormDirty = getBooleanFromMapPath;\nconst isFormTouched = getBooleanFromMapPath;\n\nconst EMPTY_LIST: any[] = [];\n/**\n * Perform validation over the form data based on the path provided\n */\nexport default function useFormFlowValidation(path = '') {\n  const observableState = useContext(FormFlowDataContext);\n  const [metadata] = useObservableState(observableState);\n  const {\n    dirty: mapDirty,\n    submitCount,\n    touched: mapTouched,\n    validationsState: { allValidations, byPath, isAllValid },\n    values: data,\n  } = metadata;\n  const pathIndexesCleared = clearIndexes(path);\n  const validations = path\n    ? byPath[path] || byPath[pathIndexesCleared] || EMPTY_LIST\n    : allValidations;\n  const isArrayWithNoIndex = pathIndexesCleared === path && path.includes('[]');\n  const initialMapDirty = useMemo(() => {\n    if (isArrayWithNoIndex) {\n      return false;\n    }\n    return path ? get(mapDirty, path) : mapDirty;\n  }, [isArrayWithNoIndex, mapDirty, path]);\n  const initialMapTouched = useMemo(() => {\n    if (isArrayWithNoIndex) {\n      return false;\n    }\n    return path ? get(mapTouched, path) : mapTouched;\n  }, [isArrayWithNoIndex, mapTouched, path]);\n  const dirty = useMemo(() => isFormDirty(initialMapDirty), [initialMapDirty]);\n  const touched = useMemo(() => isFormTouched(initialMapTouched), [initialMapTouched]);\n\n  return {\n    submitted: submitCount > 0,\n    data,\n    dirty,\n    touched,\n    isAllValid,\n    validations,\n  };\n}\n","import { useCallback, useContext, useMemo } from 'react';\nimport { get } from './accessor';\nimport FormFlowDataContext from './FormFlowDataContext';\nimport FormFlowDataType from './FormFlowDataType';\nimport { useObservableState } from './react-state';\nimport Validation from './SchemaBuilder/Validation';\nimport useFormFlow from './useFormFlow';\nimport useFormFlowValidation from './useFormFlowValidation';\n\ntype FormFlowItem<T = any> = {\n  data: Object;\n  dirty: boolean;\n  onBlur: (e: Event) => void;\n  onChange?: (e: Event) => void;\n  onChangeValue?: (value: any) => void;\n  setData: (transformer: (v: FormFlowDataType) => FormFlowDataType) => void;\n  submitted: boolean;\n  touched: boolean;\n  validations: Validation[];\n  value: T;\n};\n\n/**\n * Obtains values and validation from a form based on a json path\n */\nexport default function useFormFlowItem<T = any>(path?: string): FormFlowItem<T> {\n  const observableState = useContext(FormFlowDataContext);\n  const [metadata, setMetadata] = useObservableState(observableState);\n  const { validations, touched, dirty, submitted } = useFormFlowValidation(path);\n  const { onChangeByPath, onBlurByPath } = useFormFlow();\n  const data = metadata.values;\n  const setData = useCallback(\n    values => {\n      setMetadata(oldMetadata => ({\n        ...oldMetadata,\n        values,\n      }));\n    },\n    [setMetadata]\n  );\n  const onChangeValue = useCallback(\n    value => {\n      onChangeByPath(path, value);\n    },\n    [path, onChangeByPath]\n  );\n  const onBlur = useCallback(() => {\n    onBlurByPath(path);\n  }, [onBlurByPath, path]);\n  const onChange = useCallback(\n    e => {\n      onChangeByPath(path, e.target.value);\n    },\n    [onChangeByPath, path]\n  );\n  const value = useMemo(() => (path ? get(data, path) : data), [data, path]);\n\n  return {\n    data,\n    dirty,\n    onBlur,\n    onChangeValue,\n    onChange,\n    setData,\n    submitted,\n    touched,\n    validations,\n    value,\n  };\n}\n","import { useCallback, useContext } from 'react';\nimport { get, set } from './accessor';\nimport FormFlowDataContext from './FormFlowDataContext';\nimport FormFlowDataType from './FormFlowDataType';\n\n/**\n * Creates a memoized Provider component to be used as form\n */\nexport default function useFormFlow() {\n  const observableState = useContext(FormFlowDataContext);\n  const onBlurByPath = useCallback(\n    path => {\n      observableState.set(oldData => {\n        const isTouched = get(oldData, `touched.${path}`);\n        if (!isTouched) {\n          return set(oldData, `touched.${path}`, true) as FormFlowDataType;\n        }\n\n        return oldData;\n      });\n    },\n    [observableState]\n  );\n  const onChangeByPath = useCallback(\n    (path, value) => {\n      observableState.set(oldData => {\n        const oldValue = get(oldData, `values.${path}`);\n        const isDirtyOld = get(oldData, `dirty.${path}`);\n        const isDirty = (oldValue || '') !== value;\n        if (oldValue === value && isDirtyOld === isDirty) {\n          return oldData;\n        }\n\n        return set(set(oldData, `dirty.${path}`, isDirty), `values.${path}`, value) as FormFlowDataType;\n      });\n    },\n    [observableState]\n  );\n\n  return {\n    data: observableState.get(),\n    onBlurByPath,\n    onChangeByPath,\n    setData: observableState.set,\n  };\n}\n","import { useCallback, useMemo } from 'react';\nimport Validation from './SchemaBuilder/Validation';\nimport useFormFlowItem from './useFormFlowItem';\n\nconst Types = {\n  Event: 'event',\n  Value: 'value',\n};\nconst DEFAULT_OPTIONS = {\n  onBlur: () => true,\n  onChange: () => true,\n  onChangeValue: () => true,\n  eventType: Types.Event,\n};\n\nexport type MetadataField = {\n  onBlur?: <T>(e: T) => void;\n  onChange?: <T>(e: T) => void;\n  onChangeValue?: (value: any) => void;\n  eventType?: 'event' | 'value';\n};\n\nexport type Field = {\n  onBlur?: <T>(e: T) => void;\n  onChange?: <T>(e: T) => void;\n  onChangeValue?: (value: any) => void;\n};\n\nexport type FormFlowField = {\n  dirty: boolean;\n  errors: Validation[];\n  field: Field;\n  submitted: boolean;\n  touched: boolean;\n};\n\nfunction useFormFlowField(path: string): FormFlowField;\nfunction useFormFlowField(path: string, options: MetadataField): FormFlowField\n/**\n * Obtains values and validation from a form based on a json path\n * @returns {{ field: object, errors: Array }}\n */\nfunction useFormFlowField(path: string, options?: MetadataField): FormFlowField {\n  const { dirty, value, validations, submitted, touched, ...metadata } = useFormFlowItem(path);\n  const metadataOptions = {\n    ...DEFAULT_OPTIONS,\n    ...(options || DEFAULT_OPTIONS),\n  };\n  const blur = metadataOptions.onBlur;\n  const change = metadataOptions.onChange;\n  const changeValue = metadataOptions.onChangeValue;\n  const blurForm = metadata.onBlur;\n  const changeForm = metadata.onChange;\n  const changeValueForm = metadata.onChangeValue;\n\n  const onBlur = useCallback(\n    e => {\n      blur(e);\n      blurForm(e);\n    },\n    [blur, blurForm]\n  );\n  const onChange = useCallback(\n    e => {\n      change(e);\n      if (changeForm) changeForm(e);\n    },\n    [change, changeForm]\n  );\n  const onChangeValue = useCallback(\n    val => {\n      changeValue(val);\n      if (changeValueForm) changeValueForm(val);\n    },\n    [changeValue, changeValueForm]\n  );\n  const errors = useMemo(() => validations.filter(({ isValid }) => !isValid), [validations]);\n  const field =\n    metadataOptions.eventType === Types.Event\n      ? { onBlur, onChange, value }\n      : { onBlur, onChangeValue, value };\n\n  return { dirty, errors, field, submitted, touched };\n}\n\nexport default useFormFlowField;\n","import React, { useCallback, useContext, useRef } from 'react';\nimport FormFlowDataContext from './FormFlowDataContext';\n\nexport interface Resetable {\n  reset: () => void;\n}\nexport type ResetForm<T> = {\n  onReset: () => void;\n  ref: React.RefObject<T>;\n};\n\n/**\n * Creates reset form props\n */\nexport default function useResetForm<T extends HTMLFormElement>(): ResetForm<T> {\n  const observableState = useContext(FormFlowDataContext);\n  const ref = useRef<T>(null);\n  const onReset = useCallback(() => {\n    if (ref.current) (ref.current as HTMLFormElement).reset();\n    observableState.set(metadata => ({\n      ...metadata,\n      values: metadata.initialValues,\n    }));\n  }, [observableState]);\n\n  return { onReset, ref };\n}\n","import { FormEvent, FormEventHandler, useCallback, useContext } from 'react';\nimport FormFlowDataContext from './FormFlowDataContext';\nimport isValidByPaths from './isValidByPaths';\nimport ValidationState from './SchemaBuilder/ValidationState';\n\ntype SubmissionMetadata = ValidationState & { isValid: boolean; e: FormEvent };\ntype SubmitHandler = (values: any, metadata: SubmissionMetadata) => void;\n\n/**\n * Creates properties to handle form submission\n */\nexport default function useSubmitForm(submit: SubmitHandler): { onSubmit: FormEventHandler<HTMLFormElement> } {\n  const observableState = useContext(FormFlowDataContext);\n  const onSubmit = useCallback(\n    async e => {\n      e.preventDefault();\n      const { values, validationsState } = observableState.get();\n      const { allValidations } = validationsState;\n      const isValid = isValidByPaths(allValidations);\n      observableState.set(oldData => ({\n        ...oldData,\n        submitCount: oldData.submitCount + 1,\n      }));\n\n      await submit(values, { ...validationsState, isValid, e });\n\n      return false;\n    },\n    [observableState, submit]\n  );\n\n  return { onSubmit };\n}\n","import dispatchChange from './dispatchChange';\nimport FormFlowProvider from './FormFlowProvider';\nimport SchemaBuilder from './SchemaBuilder/SchemaBuilder';\nimport useFormFlowField from './useFormFlowField';\nimport useFormFlowItem from './useFormFlowItem';\nimport useFormFlowValidation from './useFormFlowValidation';\nimport useResetForm from './useResetForm';\nimport useSubmitForm from './useSubmitForm';\nimport { createValidations } from './validationUtils';\n\nexport { dispatchChange };\nexport { FormFlowProvider };\nexport { useFormFlowField };\nexport { useFormFlowItem };\nexport { useFormFlowValidation };\nexport { useResetForm };\nexport { useSubmitForm };\nexport { createValidations };\nexport { SchemaBuilder };\n\nexport default FormFlowProvider;\n","\"use strict\";\n\nvar _frameworkImportPath = require(\"@storybook/react\");\n\n/* eslint-disable import/no-unresolved */\n(0, _frameworkImportPath.configure)([require.context('..', true, /^\\.\\/(?:(src|stories)(?:\\/(?!\\.)(?:(?:(?!(?:^|\\/)\\.).)*?)\\/|\\/|$)(?!\\.)(?=.)[^/]*?\\.stories\\.(ts|tsx|js|jsx|mdx))$/)], module, false);","var map = {\n\t\"./stories/AddressBook.stories.mdx\": 2653,\n\t\"./stories/AppInteractive.stories.mdx\": 2657,\n\t\"./stories/GettingStarted.stories.mdx\": 2638,\n\t\"./stories/RecipesCheckbox.stories.mdx\": 2639,\n\t\"./stories/RecipesDropdown.stories.mdx\": 2642,\n\t\"./stories/RecipesInput.stories.mdx\": 2643,\n\t\"./stories/RecipesRadio.stories.mdx\": 2644,\n\t\"./stories/RecipesSchemaBuilder.stories.mdx\": 2645,\n\t\"./stories/RecipesUseFormFlowField.stories.mdx\": 2646,\n\t\"./stories/RecipesUseFormFlowItem.stories.mdx\": 2647,\n\t\"./stories/RecipesValidations.stories.mdx\": 2648\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 2632;","var map = {\n\t\"./af\": 1513,\n\t\"./af.js\": 1513,\n\t\"./ar\": 1514,\n\t\"./ar-dz\": 1515,\n\t\"./ar-dz.js\": 1515,\n\t\"./ar-kw\": 1516,\n\t\"./ar-kw.js\": 1516,\n\t\"./ar-ly\": 1517,\n\t\"./ar-ly.js\": 1517,\n\t\"./ar-ma\": 1518,\n\t\"./ar-ma.js\": 1518,\n\t\"./ar-sa\": 1519,\n\t\"./ar-sa.js\": 1519,\n\t\"./ar-tn\": 1520,\n\t\"./ar-tn.js\": 1520,\n\t\"./ar.js\": 1514,\n\t\"./az\": 1521,\n\t\"./az.js\": 1521,\n\t\"./be\": 1522,\n\t\"./be.js\": 1522,\n\t\"./bg\": 1523,\n\t\"./bg.js\": 1523,\n\t\"./bm\": 1524,\n\t\"./bm.js\": 1524,\n\t\"./bn\": 1525,\n\t\"./bn.js\": 1525,\n\t\"./bo\": 1526,\n\t\"./bo.js\": 1526,\n\t\"./br\": 1527,\n\t\"./br.js\": 1527,\n\t\"./bs\": 1528,\n\t\"./bs.js\": 1528,\n\t\"./ca\": 1529,\n\t\"./ca.js\": 1529,\n\t\"./cs\": 1530,\n\t\"./cs.js\": 1530,\n\t\"./cv\": 1531,\n\t\"./cv.js\": 1531,\n\t\"./cy\": 1532,\n\t\"./cy.js\": 1532,\n\t\"./da\": 1533,\n\t\"./da.js\": 1533,\n\t\"./de\": 1534,\n\t\"./de-at\": 1535,\n\t\"./de-at.js\": 1535,\n\t\"./de-ch\": 1536,\n\t\"./de-ch.js\": 1536,\n\t\"./de.js\": 1534,\n\t\"./dv\": 1537,\n\t\"./dv.js\": 1537,\n\t\"./el\": 1538,\n\t\"./el.js\": 1538,\n\t\"./en-SG\": 1539,\n\t\"./en-SG.js\": 1539,\n\t\"./en-au\": 1540,\n\t\"./en-au.js\": 1540,\n\t\"./en-ca\": 1541,\n\t\"./en-ca.js\": 1541,\n\t\"./en-gb\": 1542,\n\t\"./en-gb.js\": 1542,\n\t\"./en-ie\": 1543,\n\t\"./en-ie.js\": 1543,\n\t\"./en-il\": 1544,\n\t\"./en-il.js\": 1544,\n\t\"./en-nz\": 1545,\n\t\"./en-nz.js\": 1545,\n\t\"./eo\": 1546,\n\t\"./eo.js\": 1546,\n\t\"./es\": 1547,\n\t\"./es-do\": 1548,\n\t\"./es-do.js\": 1548,\n\t\"./es-us\": 1549,\n\t\"./es-us.js\": 1549,\n\t\"./es.js\": 1547,\n\t\"./et\": 1550,\n\t\"./et.js\": 1550,\n\t\"./eu\": 1551,\n\t\"./eu.js\": 1551,\n\t\"./fa\": 1552,\n\t\"./fa.js\": 1552,\n\t\"./fi\": 1553,\n\t\"./fi.js\": 1553,\n\t\"./fo\": 1554,\n\t\"./fo.js\": 1554,\n\t\"./fr\": 1555,\n\t\"./fr-ca\": 1556,\n\t\"./fr-ca.js\": 1556,\n\t\"./fr-ch\": 1557,\n\t\"./fr-ch.js\": 1557,\n\t\"./fr.js\": 1555,\n\t\"./fy\": 1558,\n\t\"./fy.js\": 1558,\n\t\"./ga\": 1559,\n\t\"./ga.js\": 1559,\n\t\"./gd\": 1560,\n\t\"./gd.js\": 1560,\n\t\"./gl\": 1561,\n\t\"./gl.js\": 1561,\n\t\"./gom-latn\": 1562,\n\t\"./gom-latn.js\": 1562,\n\t\"./gu\": 1563,\n\t\"./gu.js\": 1563,\n\t\"./he\": 1564,\n\t\"./he.js\": 1564,\n\t\"./hi\": 1565,\n\t\"./hi.js\": 1565,\n\t\"./hr\": 1566,\n\t\"./hr.js\": 1566,\n\t\"./hu\": 1567,\n\t\"./hu.js\": 1567,\n\t\"./hy-am\": 1568,\n\t\"./hy-am.js\": 1568,\n\t\"./id\": 1569,\n\t\"./id.js\": 1569,\n\t\"./is\": 1570,\n\t\"./is.js\": 1570,\n\t\"./it\": 1571,\n\t\"./it-ch\": 1572,\n\t\"./it-ch.js\": 1572,\n\t\"./it.js\": 1571,\n\t\"./ja\": 1573,\n\t\"./ja.js\": 1573,\n\t\"./jv\": 1574,\n\t\"./jv.js\": 1574,\n\t\"./ka\": 1575,\n\t\"./ka.js\": 1575,\n\t\"./kk\": 1576,\n\t\"./kk.js\": 1576,\n\t\"./km\": 1577,\n\t\"./km.js\": 1577,\n\t\"./kn\": 1578,\n\t\"./kn.js\": 1578,\n\t\"./ko\": 1579,\n\t\"./ko.js\": 1579,\n\t\"./ku\": 1580,\n\t\"./ku.js\": 1580,\n\t\"./ky\": 1581,\n\t\"./ky.js\": 1581,\n\t\"./lb\": 1582,\n\t\"./lb.js\": 1582,\n\t\"./lo\": 1583,\n\t\"./lo.js\": 1583,\n\t\"./lt\": 1584,\n\t\"./lt.js\": 1584,\n\t\"./lv\": 1585,\n\t\"./lv.js\": 1585,\n\t\"./me\": 1586,\n\t\"./me.js\": 1586,\n\t\"./mi\": 1587,\n\t\"./mi.js\": 1587,\n\t\"./mk\": 1588,\n\t\"./mk.js\": 1588,\n\t\"./ml\": 1589,\n\t\"./ml.js\": 1589,\n\t\"./mn\": 1590,\n\t\"./mn.js\": 1590,\n\t\"./mr\": 1591,\n\t\"./mr.js\": 1591,\n\t\"./ms\": 1592,\n\t\"./ms-my\": 1593,\n\t\"./ms-my.js\": 1593,\n\t\"./ms.js\": 1592,\n\t\"./mt\": 1594,\n\t\"./mt.js\": 1594,\n\t\"./my\": 1595,\n\t\"./my.js\": 1595,\n\t\"./nb\": 1596,\n\t\"./nb.js\": 1596,\n\t\"./ne\": 1597,\n\t\"./ne.js\": 1597,\n\t\"./nl\": 1598,\n\t\"./nl-be\": 1599,\n\t\"./nl-be.js\": 1599,\n\t\"./nl.js\": 1598,\n\t\"./nn\": 1600,\n\t\"./nn.js\": 1600,\n\t\"./pa-in\": 1601,\n\t\"./pa-in.js\": 1601,\n\t\"./pl\": 1602,\n\t\"./pl.js\": 1602,\n\t\"./pt\": 1603,\n\t\"./pt-br\": 1604,\n\t\"./pt-br.js\": 1604,\n\t\"./pt.js\": 1603,\n\t\"./ro\": 1605,\n\t\"./ro.js\": 1605,\n\t\"./ru\": 1606,\n\t\"./ru.js\": 1606,\n\t\"./sd\": 1607,\n\t\"./sd.js\": 1607,\n\t\"./se\": 1608,\n\t\"./se.js\": 1608,\n\t\"./si\": 1609,\n\t\"./si.js\": 1609,\n\t\"./sk\": 1610,\n\t\"./sk.js\": 1610,\n\t\"./sl\": 1611,\n\t\"./sl.js\": 1611,\n\t\"./sq\": 1612,\n\t\"./sq.js\": 1612,\n\t\"./sr\": 1613,\n\t\"./sr-cyrl\": 1614,\n\t\"./sr-cyrl.js\": 1614,\n\t\"./sr.js\": 1613,\n\t\"./ss\": 1615,\n\t\"./ss.js\": 1615,\n\t\"./sv\": 1616,\n\t\"./sv.js\": 1616,\n\t\"./sw\": 1617,\n\t\"./sw.js\": 1617,\n\t\"./ta\": 1618,\n\t\"./ta.js\": 1618,\n\t\"./te\": 1619,\n\t\"./te.js\": 1619,\n\t\"./tet\": 1620,\n\t\"./tet.js\": 1620,\n\t\"./tg\": 1621,\n\t\"./tg.js\": 1621,\n\t\"./th\": 1622,\n\t\"./th.js\": 1622,\n\t\"./tl-ph\": 1623,\n\t\"./tl-ph.js\": 1623,\n\t\"./tlh\": 1624,\n\t\"./tlh.js\": 1624,\n\t\"./tr\": 1625,\n\t\"./tr.js\": 1625,\n\t\"./tzl\": 1626,\n\t\"./tzl.js\": 1626,\n\t\"./tzm\": 1627,\n\t\"./tzm-latn\": 1628,\n\t\"./tzm-latn.js\": 1628,\n\t\"./tzm.js\": 1627,\n\t\"./ug-cn\": 1629,\n\t\"./ug-cn.js\": 1629,\n\t\"./uk\": 1630,\n\t\"./uk.js\": 1630,\n\t\"./ur\": 1631,\n\t\"./ur.js\": 1631,\n\t\"./uz\": 1632,\n\t\"./uz-latn\": 1633,\n\t\"./uz-latn.js\": 1633,\n\t\"./uz.js\": 1632,\n\t\"./vi\": 1634,\n\t\"./vi.js\": 1634,\n\t\"./x-pseudo\": 1635,\n\t\"./x-pseudo.js\": 1635,\n\t\"./yo\": 1636,\n\t\"./yo.js\": 1636,\n\t\"./zh-cn\": 1637,\n\t\"./zh-cn.js\": 1637,\n\t\"./zh-hk\": 1638,\n\t\"./zh-hk.js\": 1638,\n\t\"./zh-tw\": 1639,\n\t\"./zh-tw.js\": 1639\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 2635;","\nimport React from 'react'\nimport { mdx } from '@mdx-js/react'\n\n/* @jsxRuntime classic */\n/* @jsx mdx */\nimport { assertIsFn, AddContext } from \"@storybook/addon-docs\";\n\nimport { Meta, Story, Canvas, Props } from '@storybook/addon-docs'\n\n\nconst layoutProps = {\n  \n};\nconst MDXLayout = \"wrapper\"\nfunction MDXContent({\n  components,\n  ...props\n}) {\n  return <MDXLayout {...layoutProps} {...props} components={components} mdxType=\"MDXLayout\">\n\n    <Meta title=\"Docs/Getting Started\" component={() => <div />} mdxType=\"Meta\" />\n    <h1 {...{\n      \"id\": \"getting-started\"\n    }}>{`Getting Started`}</h1>\n    <p><a parentName=\"p\" {...{\n        \"href\": \"https://www.npmjs.com/package/react-form-flow\",\n        \"target\": \"_blank\",\n        \"rel\": \"nofollow noopener noreferrer\"\n      }}>{`react-form-flow`}</a>{` as its name describes is a library to define a common and automated workflow to collect and validate form data. Allow user to consume the data and validation based on the json path.`}</p>\n    <h2 {...{\n      \"id\": \"when-should-i-consider-using-react-form-flow-to-manage-form\"\n    }}>{`When should I consider using react-form-flow to manage form?`}</h2>\n    <p>{`There are several types of form library for `}<inlineCode parentName=\"p\">{`react`}</inlineCode>{`, and they have their pros and cons, and this library is no different. So there are some case you may not need or want to use this library.`}</p>\n    <ul>\n      <li parentName=\"ul\">{`If it is a simple form`}</li>\n      <li parentName=\"ul\">{`If you application have only a single medium complexity form`}</li>\n    </ul>\n    <p>{`The `}<a parentName=\"p\" {...{\n        \"href\": \"https://www.npmjs.com/package/react-form-flow\",\n        \"target\": \"_blank\",\n        \"rel\": \"nofollow noopener noreferrer\"\n      }}>{`react-form-flow`}</a>{` is very flexible and provide ways to manage complex relations/validation over the data. The initial step to consume may require a bit more effort to consume this library either by factorying custom validation or by creating `}<em parentName=\"p\">{`Input Form Wrappers`}</em>{` with compatible interface. Checkout `}<a parentName=\"p\" {...{\n        \"href\": \"?path=/docs/docs-recipes-validations--page\"\n      }}>{`Recipes/Validations`}</a>{` and `}<a parentName=\"p\" {...{\n        \"href\": \"?path=/docs/docs-recipes-elements-checkbox--page\"\n      }}>{`Recipes/Elements`}</a>{`.`}</p>\n    <p>{`Some libraries are focused on the form elements, whereas the `}<a parentName=\"p\" {...{\n        \"href\": \"https://www.npmjs.com/package/react-form-flow\",\n        \"target\": \"_blank\",\n        \"rel\": \"nofollow noopener noreferrer\"\n      }}>{`react-form-flow`}</a>{` is focused on the data itself. If you had to remove some elements from the view for sake of visual/UX, the data is still retained in the form data.`}</p>\n    <p>{`So, when is this library recommended:`}</p>\n    <ul>\n      <li parentName=\"ul\">{`If you are building an application with a few forms`}</li>\n      <li parentName=\"ul\">{`If you are building an application with at least 1 complex form`}</li>\n    </ul>\n    <p>{`This is justified for the initial cost of adoption, once paid, it brings a lot of benefits and speed managing form data.`}</p>\n    <h2 {...{\n      \"id\": \"how-to-use-it\"\n    }}>{`How to use it`}</h2>\n    <p>{`Define your form data wrapping with the container below.`}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-js\"\n      }}>{`import FormFlowProvider from 'react-form-flow';\n// or\nimport { FormFlowProvider } from 'react-form-flow';\n`}</code></pre>\n    <p>{`Use hooks to get values, event handler and validations.`}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-js\"\n      }}>{`import { useFormFlowField, useFormFlowValidation } from 'react-form-flow';\n`}</code></pre>\n    <h2 {...{\n      \"id\": \"first-steps\"\n    }}>{`First Steps`}</h2>\n    <p>{`To improve your productivity, it would be good to create your core form components such as input, dropdowns and on and on following the `}<a parentName=\"p\" {...{\n        \"href\": \"https://www.npmjs.com/package/react-form-flow\",\n        \"target\": \"_blank\",\n        \"rel\": \"nofollow noopener noreferrer\"\n      }}>{`react-form-flow`}</a>{` spec.`}</p>\n    <p><a parentName=\"p\" {...{\n        \"href\": \"https://codesandbox.io/s/pensive-paper-sgykr\",\n        \"target\": \"_blank\",\n        \"rel\": \"nofollow noopener noreferrer\"\n      }}>{`Code Sandbox Example`}</a></p>\n    <p>{`We also have an older version using a `}<a parentName=\"p\" {...{\n        \"href\": \"?path=/docs/docs-recipes-useformflowitem--page\"\n      }}>{`base hooks`}</a>{`, it is useful for more advanced and custom usage. In most of the form cases, the current documentation is better option.`}</p>\n    <p><em parentName=\"p\">{`JSON PATH`}</em>{` is a notation to navigate through the JSON object.`}</p>\n    <p>{`e.g.`}</p>\n    <p><strong parentName=\"p\">{`src/initialData.js`}</strong></p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-js\"\n      }}>{`export default {\n    person: {\n      id: 1,\n      name: 'Jane Doe',\n      email: 'jane@doe.dead'\n      children:[\n        {id: 2, name: 'John Doe'}\n      ]\n    }\n};\n`}</code></pre>\n    <p>{`Note: observing the json above, the json path to access the name of first child is `}<inlineCode parentName=\"p\">{`\"person.chidlren[0].name\"`}</inlineCode>{`. Although this first tutorial won't\ncover arrays, you can access the `}<a parentName=\"p\" {...{\n        \"href\": \"https://codesandbox.io/s/pensive-paper-sgykr\",\n        \"target\": \"_blank\",\n        \"rel\": \"nofollow noopener noreferrer\"\n      }}>{`Code Sandbox Example`}</a>{` to understand it.`}</p>\n    <p><strong parentName=\"p\">{`src/ValidationResult.jsx`}</strong></p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-jsx\"\n      }}>{`import React from 'react';\n\nexport default function ValidationResult({ errors }) {\n  return (\n    <section>\n      {validations.map((validation) => <div key={validation.key}>{JSON.stringify(validation, null, 2)}</div>)}\n    </section>\n  );\n}\n`}</code></pre>\n    <h3 {...{\n      \"id\": \"inputfield\"\n    }}>{`InputField`}</h3>\n    <p>{`The input field could receive from the `}<inlineCode parentName=\"p\">{`useFormFlowField`}</inlineCode>{` an object with the spec below.`}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-ts\"\n      }}>{`interface FormFlowField {\n  dirty: boolean;\n  errors: Array<Validation>;\n  field: FieldMetadata;\n  submitted: boolean;\n  touched: boolean;\n}\n`}</code></pre>\n    <p>{`Validation returned can match whatever you want, for the sake of standard, let's always return this below.`}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-ts\"\n      }}>{`interface Validation {\n  data: object;\n  dependencies: any[];\n  get: (data: Object, path: string) => any;\n  key: string;\n  isValid: boolean;\n  name: string;\n  path: string;\n  value: any;\n}\n`}</code></pre>\n    <p>{`And, finally, the field would have these properties.`}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-ts\"\n      }}>{`interface FieldMetadata {\n  /**\n   * Depending on the eventType passed to useFormFlowField, it returns\n   * either onChange or onChangeValue.\n   * */\n  onChange(e: Event): void;\n  onChangeValue(value: any): void;\n  /**\n   * Common properties\n   * */\n  onBlur(e: Event): void;\n  value: any;\n}\n`}</code></pre>\n    <p>{`Component...`}</p>\n    <p><strong parentName=\"p\">{`src/InputField.jsx`}</strong></p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-jsx\"\n      }}>{`import React from 'react';\nimport ValidationResult from './ValidationResult';\n\nexport default function InputField({\n  errors,\n  field,\n  label,\n  touched,\n  submitted,\n  value,\n}) {\n  return (\n    <div>\n      <div>{label}</div>\n      <input type=\"text\" {...field} />\n      <div>\n        {(submitted || touched) && <ValidationResult validations={errors} />}\n      </div>\n    </div>\n  );\n}\n\nInputField.defaultProps = {\n  value: '',\n};\n`}</code></pre>\n    <p><strong parentName=\"p\">{`src/form/SchemaBuilder.js`}</strong></p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-jsx\"\n      }}>{`import { SchemaBuilder } from 'react-form-flow';\n\nfunction hasValue(value) {\n  return (\n    value !== null && value !== undefined && (typeof value !== 'string' || (value && value.trim()))\n  );\n}   \n/** \n * Once you factory it, you can use as many times as you want via \"check\"\n **/\nSchemaBuilder.factory(\"required\", (metadata) => hasValue(metadata.value));\nSchemaBuilder.factory(\"min-length\", (metadata) => {\n  const value = metadata.value ?? \"\";\n  const isValid = value.trim().length >= metadata.min;\n  return isValid;\n});\nSchemaBuilder.factory(\"max-length\", (metadata) => {\n  const value = metadata.value ?? \"\";\n  const isValid = value.trim().length <= metadata.max;\n  return isValid;\n});\n\nexport default SchemaBuilder;\n`}</code></pre>\n    <p><strong parentName=\"p\">{`src/schemaData.js`}</strong></p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-jsx\"\n      }}>{`import SchemaBuilder from './form/SchemaBuilder';\n\n/** \n * Adding more metadata to the Validation result object\n */\nfunction getLength(metadata) {\n  const { length } = (metadata.value ?? \"\").trim();\n  return { length };\n}\n\nexport default SchemaBuilder.builer()\n  .with(\"name\")\n  .check(\"required\")\n  .check(\"min-length\", { min: 5, response: getLength })\n  .check(\"max-length\", { max: 50, response: getLength })\n  .end()\n  .with(\"email\")\n  .check(\"required\")\n  .check(\"min-length\", { min: 10, response: getLength })\n  .check(\"max-length\", { max: 250, response: getLength })\n  /** \n   * If the validation is one-time used, you can create it on the fly\n   * using \"test\"\n   */\n  .test(\"invalid\", (metadata) => {\n    const value = metadata.value ?? \"\";\n    const isValid = /^\\\\w+([\\\\.-]?\\\\w+)*@\\\\w+([\\\\.-]?\\\\w+)*(\\\\.\\\\w{2,4})+$/.test(value);\n    return isValid;\n  })\n  .end()\n  .build()\n`}</code></pre>\n    <h4 {...{\n      \"id\": \"app\"\n    }}>{`App`}</h4>\n    <p>{`A few things are required in order to use the `}<a parentName=\"p\" {...{\n        \"href\": \"https://www.npmjs.com/package/react-form-flow\",\n        \"target\": \"_blank\",\n        \"rel\": \"nofollow noopener noreferrer\"\n      }}>{`react-form-flow`}</a>{` library.`}</p>\n    <ul>\n      <li parentName=\"ul\">{`initialData: the initial data to be rendered in the form`}</li>\n      <li parentName=\"ul\">{`schemaData: an object with validation rules per json path`}</li>\n      <li parentName=\"ul\">{`children: the react node being wrapped by the provider containing the real form within fields`}</li>\n    </ul>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-jsx\"\n      }}>{`import React from 'react';\n// eslint-disable-next-line\nimport styled from 'styled-components';\nimport {\n  createValidations,\n  FormFlowProvider,\n  useFormFlowField,\n  useFormFlowValidation,\n} from 'react-form-flow';\nimport Validation from './Validation';\nimport InputField from './InputField';\nimport schemaData from './schemaData';\nimport initialData from './initialData';\n\nconst Layout = styled.div\\`\n  height: 100%;\n  width: 100%;\n\n  display: grid;\n\n  grid-template-columns: 1fr 1fr;\n  grid-template-rows: auto;\n\\`;\n\nfunction Form() {\n  const name = useFormFlowField('name');\n  const email = useFormFlowField('email');\n\n  return (\n    <div>\n      <InputField label=\"Name\" {...name} />\n      <InputField label=\"Email\" {...email} />\n    </div>\n  );\n}\n\nfunction DemoApp() {\n  return (\n    <Layout>\n      <FormFlowProvider initialData={initialData} schemaData={schemaData}>\n        <Form />\n      </FormFlowProvider>\n    </Layout>\n  );\n}\n`}</code></pre>\n    <p>{`Running...`}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-jsx\"\n      }}>{`<DemoApp />\n`}</code></pre>\n    <h2 {...{\n      \"id\": \"aditional-tip-domain-validations--one-time-validations\"\n    }}>{`Aditional tip: Domain validations / One-time validations`}</h2>\n    <p>{`Some form data will require validations that are very much domain attached and it won't be reused anywhere else, for this reason a dynamic validation can be created at the time the `}<inlineCode parentName=\"p\">{`schemaData`}</inlineCode>{` is being built. Let's look at the example below where we will validate an email as required if only name is greater than 3 chars.`}</p>\n    <p><strong parentName=\"p\">{`src/schemaData.js`}</strong></p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-jsx\"\n      }}>{`import SchemaBuilder from './form/SchemaBuilder';\n\n/** \n * Adding more metadata to the Validation result object\n */\nfunction getLength(metadata) {\n  const { length } = (metadata.value ?? \"\").trim();\n  return { length };\n}\n\nexport default SchemaBuilder.builer()\n  .with(\"name\")\n  .check(\"required\")\n  .check(\"min-length\", { min: 5, response: getLength })\n  .check(\"max-length\", { max: 50, response: getLength })\n  .end()\n  // first, we set the name  as dependency\n  .with(\"email\", [\"$.name\"])\n  // .check(\"required\") // removed the static required\n  .check(\"min-length\", { min: 10, response: getLength })\n  .check(\"max-length\", { max: 250, response: getLength })\n  /** \n   * If the validation is one-time used, you can create it on the fly\n   * using \"test\"\n   */\n  .test(\"invalid\", (metadata) => {\n    const value = metadata.value ?? \"\";\n    const isValid = /^\\\\w+([\\\\.-]?\\\\w+)*@\\\\w+([\\\\.-]?\\\\w+)*(\\\\.\\\\w{2,4})+$/.test(value);\n    return isValid;\n  })\n  .test(\"requiredConditional\", (metadata) => {\n    const {\n      value,\n      dependencies: [name]\n    } = metadata;\n    // validation will always be considered initially as true\n    let isValid = true;\n\n    // only validates if name is greater than 3 chars\n    if ((name || \"\").toString().trim().length > 3) {\n      isValid = Boolean((value ?? \"\").toString().trim());\n    }\n\n    return isValid;\n  })\n  .end()\n  .build()\n`}</code></pre>\n    </MDXLayout>;\n}\n\n;\nMDXContent.isMDXComponent = true;\n\nexport const __page = () => { throw new Error(\"Docs-only story\"); };\n\n__page.parameters = { docsOnly: true };\n\nconst componentMeta = { title: 'Docs/Getting Started', component: () => <div />, includeStories: [\"__page\"],  };\n\nconst mdxStoryNameToKey = {};\n\ncomponentMeta.parameters = componentMeta.parameters || {};\ncomponentMeta.parameters.docs = {\n  ...(componentMeta.parameters.docs || {}),\n  page: () => <AddContext mdxStoryNameToKey={mdxStoryNameToKey} mdxComponentMeta={componentMeta}><MDXContent /></AddContext>,\n};\n\nexport default componentMeta;","\nimport React from 'react'\nimport { mdx } from '@mdx-js/react'\n\n/* @jsxRuntime classic */\n/* @jsx mdx */\nimport { assertIsFn, AddContext } from \"@storybook/addon-docs\";\n\nimport { Meta, Story, Canvas, Props } from '@storybook/addon-docs'\nimport RecipesSchemaBuilder, { decode, data } from './RecipesSchemaBuilder'\n\n\nconst layoutProps = {\n  \n};\nconst MDXLayout = \"wrapper\"\nfunction MDXContent({\n  components,\n  ...props\n}) {\n  return <MDXLayout {...layoutProps} {...props} components={components} mdxType=\"MDXLayout\">\n\n    <Meta title=\"Docs/Recipes/Elements/Checkbox\" component={RecipesSchemaBuilder} parameters={{\n      docs: {\n        source: {\n          code: \"\"\n        }\n      }\n    }} mdxType=\"Meta\" />\n    <h1 {...{\n      \"id\": \"recipes\"\n    }}>{`Recipes`}</h1>\n    <p>{`How to build specific form elements to use the hooks provided by `}<inlineCode parentName=\"p\">{`react-form-flow`}</inlineCode>{`.`}</p>\n    <h2 {...{\n      \"id\": \"checkbox-field\"\n    }}>{`Checkbox Field`}</h2>\n    <p>{`This recipe will show how to build a group/simple checkbox using the `}<inlineCode parentName=\"p\">{`input[type=\"checkbox\"]`}</inlineCode>{` markup following the interface defined by `}<inlineCode parentName=\"p\">{`react-form-flow`}</inlineCode>{`.`}</p>\n    <h2 {...{\n      \"id\": \"code\"\n    }}>{`Code`}</h2>\n    <p>{`Here, we are using `}<a parentName=\"p\" {...{\n        \"href\": \"https://www.styled-components.com/\",\n        \"target\": \"_blank\",\n        \"rel\": \"nofollow noopener noreferrer\"\n      }}>{`styled-components`}</a>{` for prettifying styles.`}</p>\n    <p><strong parentName=\"p\">{`src/ValidationResult.jsx`}</strong></p>\n    <p>{`You will probably need a component to display the validations, see the draft below.`}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-jsx\"\n      }}>{`import React from 'react';\nimport styled from 'styled-components';\n\nconst ValidationResultLayout = styled.section\\`\n  .ValidationResultLayout__message {\n    color: red;\n  }\n\\`;\n\nexport default function ValidationResult({ errors = [] }) {\n  return (\n    <ValidationResultLayout>\n      {validations.map(\n        (validation) =>(\n          <div className=\"ValidationResultLayout__message\" key={validation.key}>\n            {JSON.stringify(validation, null, 2)}\n          </div>\n        )\n      )}\n    </ValidationResultLayout>\n  );\n}\n`}</code></pre>\n    <p><strong parentName=\"p\">{`src/CheckboxField.jsx`}</strong></p>\n    <p>{`Here, validations are received always and the consumer decides when to display them.`}</p>\n    <p><strong parentName=\"p\">{`Note`}</strong>{`: For this case, we are displaying the validations straightaway, but, nothing block you to pass some property to control as it will be displayed. e.g. `}<inlineCode parentName=\"p\">{`showValidation`}</inlineCode>{` when the form is submitted, then, it would be able to display by `}<inlineCode parentName=\"p\">{`{showValidation && <ValidationResult validations={validations} />}`}</inlineCode>{`.`}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-jsx\"\n      }}>{`import React, { useCallback, useRef, useState } from 'react';\nimport PropTypes from 'prop-types';\nimport uuid from 'uuid';\nimport styled from 'styled-components';\nimport ValidationResult from './ValidationResult';\n\nconst CheckboxFieldLayout = styled.div\\`\n  padding: 0 0 10px 0;\n  display: grid;\n  grid-template-columns: min-content;\n  grid-template-rows: min-content auto;\n\n  label {\n    display: grid;\n    grid-template-columns: min-content min-content;\n    grid-template-rows: auto;\n    white-space: nowrap;\n    grid-gap: 10px;\n  }\n\n  .CheckboxFieldLayout__validations {\n    display: block;\n    white-space: nowrap;\n  }\n\\`;\n\nexport default function CheckboxField({\n  checkedValue,\n  errors,\n  field,\n  label: labelText,\n  submitted,\n  touched,\n}) {\n  const id = useRef(uuid.v4());\n  const { onBlur, onChangeValue, value = '' } = field;\n  const onChange = useCallback(() => {\n    const treatedValue = value || [];\n    const hasValue = treatedValue.includes(checkedValue);\n    const newValue = hasValue\n      ? treatedValue.filter(val => val !== checkedValue)\n      : treatedValue.concat(checkedValue);\n\n    onChangeValue(newValue);\n  }, [checkedValue, onChangeValue, value]);\n\n  return (\n    <CheckboxFieldLayout>\n      <label htmlFor={id.current}>\n        <span>{labelText}</span>\n        <input\n          id={id.current}\n          type=\"checkbox\"\n          onBlur={onBlur}\n          onChange={onChange}\n          checked={(value || []).includes(checkedValue)}\n        />\n      </label>\n      <div className=\"CheckboxFieldLayout__validations\">\n        {(submitted || touched) && <ValidationResult errors={errors} />}\n      </div>\n    </CheckboxFieldLayout>\n  );\n}\n\n\nCheckboxField.defaultProps = {\n  label: null,\n  errors: []\n};\n`}</code></pre>\n    <h2 {...{\n      \"id\": \"using-the-checkboxfield\"\n    }}>{`Using the CheckboxField`}</h2>\n    <p>{`After building the Checkbox, see below how to use it.`}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-jsx\"\n      }}>{`import React from 'react';\nimport styled from 'styled-components';\nimport { useFormFlowField } from 'react-form-flow';\nimport CheckboxField from './CheckboxField';\n\nconst CheckboxFieldRecipeLayout = styled.div\\`\\`;\n\nexport default function CheckboxFieldRecipe() {\n  const skillsField = useFormFlowField('skills', { eventType: 'value' });\n\n  return (\n    <CheckboxFieldRecipeLayout>\n      <h2>Interact with the checkboxes below by clicking...</h2>\n      <fieldset>\n        <legend>Skills</legend>\n        <CheckboxField {...skillsField} label=\"Reading\" checkedValue=\"reading\" />\n        <CheckboxField {...skillsField} label=\"Strategic View\" checkedValue=\"strategic_view\" />\n        <CheckboxField {...skillsField} label=\"Cooking\" checkedValue=\"cooking\" />\n        <CheckboxField {...skillsField} label=\"Playing football\" checkedValue=\"football\" />\n        <span>\n          value:\n          {JSON.stringify(skillsField.value)}\n        </span>\n      </fieldset>\n    </CheckboxFieldRecipeLayout>\n  );\n}\n`}</code></pre>\n    <p>{`And then...`}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-jsx\"\n      }}>{`  import { FormFlowProvider } from 'react-form-flow';\n\n  const initialData = { ... };\n  const schemaData = { ... };\n\n  // ...\n\n  <FormFlowProvider initialData={initialData} schemaData={schemaData}>\n    <CheckboxFieldRecipe />\n  </FormFlowProvider>\n`}</code></pre>\n    </MDXLayout>;\n}\n\n;\nMDXContent.isMDXComponent = true;\n\nexport const __page = () => { throw new Error(\"Docs-only story\"); };\n\n__page.parameters = { docsOnly: true };\n\nconst componentMeta = { title: 'Docs/Recipes/Elements/Checkbox', parameters: {\n  docs: {\n    source: {\n      code: \"\"\n    }\n  }\n}, component: RecipesSchemaBuilder, includeStories: [\"__page\"],  };\n\nconst mdxStoryNameToKey = {};\n\ncomponentMeta.parameters = componentMeta.parameters || {};\ncomponentMeta.parameters.docs = {\n  ...(componentMeta.parameters.docs || {}),\n  page: () => <AddContext mdxStoryNameToKey={mdxStoryNameToKey} mdxComponentMeta={componentMeta}><MDXContent /></AddContext>,\n};\n\nexport default componentMeta;","\nimport React from 'react'\nimport { mdx } from '@mdx-js/react'\n\n/* @jsxRuntime classic */\n/* @jsx mdx */\nimport { assertIsFn, AddContext } from \"@storybook/addon-docs\";\n\nimport { Meta, Story, Canvas, Props } from '@storybook/addon-docs'\nimport RecipesSchemaBuilder, { decode, data } from './RecipesSchemaBuilder'\n\n\nconst layoutProps = {\n  \n};\nconst MDXLayout = \"wrapper\"\nfunction MDXContent({\n  components,\n  ...props\n}) {\n  return <MDXLayout {...layoutProps} {...props} components={components} mdxType=\"MDXLayout\">\n\n    <Meta title=\"Docs/Recipes/Elements/Dropdown\" component={RecipesSchemaBuilder} parameters={{\n      docs: {\n        source: {\n          code: \"\"\n        }\n      }\n    }} mdxType=\"Meta\" />\n    <h1 {...{\n      \"id\": \"recipes\"\n    }}>{`Recipes`}</h1>\n    <p>{`How to build specific form elements to use the hooks provided by `}<inlineCode parentName=\"p\">{`react-form-flow`}</inlineCode>{`.`}</p>\n    <h2 {...{\n      \"id\": \"dropdown-field-recipe\"\n    }}>{`Dropdown Field Recipe`}</h2>\n    <p>{`This recipe will show how to build a simple dropdown using the select markup following the interface defined by `}<inlineCode parentName=\"p\">{`react-form-flow`}</inlineCode>{`.`}</p>\n    <h2 {...{\n      \"id\": \"code\"\n    }}>{`Code`}</h2>\n    <p>{`Here, we are using `}<a parentName=\"p\" {...{\n        \"href\": \"https://www.styled-components.com/\",\n        \"target\": \"_blank\",\n        \"rel\": \"nofollow noopener noreferrer\"\n      }}>{`styled-components`}</a>{` for prettifying styles.`}</p>\n    <p><strong parentName=\"p\">{`src/ValidationResult.jsx`}</strong></p>\n    <p>{`You will probably need a component to display the validations, see the draft below.`}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-jsx\"\n      }}>{`import React from 'react';\nimport styled from 'styled-components';\n\nconst ValidationResultLayout = styled.section\\`\n  .ValidationResultLayout__message {\n    color: red;\n  }\n\\`;\n\nexport default function ValidationResult({ errors = [] }) {\n  return (\n    <ValidationResultLayout>\n      {validations.map(\n        (validation) =>(\n          <div className=\"ValidationResultLayout__message\" key={validation.key}>\n            {JSON.stringify(validation, null, 2)}\n          </div>\n        )\n      )}\n    </ValidationResultLayout>\n  );\n}\n`}</code></pre>\n    <p><strong parentName=\"p\">{`src/DropdownField.jsx`}</strong></p>\n    <p>{`Here, validations are received always and the consumer decides when to display them.`}</p>\n    <p><strong parentName=\"p\">{`Note`}</strong>{`: For this case, we are only displaying after visiting the field, but, nothing block you to pass another property `}<inlineCode parentName=\"p\">{`showValidation`}</inlineCode>{` when the form is submitted, then, it would be able to display by `}<inlineCode parentName=\"p\">{`{(isVisited || showValidation) && <ValidationResult validations={validations} />}`}</inlineCode>{`.`}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-jsx\"\n      }}>{`import React, { useCallback, useRef, useState } from 'react';\nimport PropTypes from 'prop-types';\nimport uuid from 'uuid';\nimport styled from 'styled-components';\nimport ValidationResult from './ValidationResult';\n\nconst DropdownFieldLayout = styled.div\\`\n  padding: 0 0 10px 0;\n  display: grid;\n  grid-template-columns: min-content;\n  grid-template-rows: min-content auto;\n\n  label {\n    display: grid;\n    grid-template-columns: min-content;\n    grid-template-rows: min-content min-content min-content;\n    white-space: nowrap;\n    grid-gap: 10px;\n  }\n\n  .DropdownFieldLayout__validations {\n    display: block;\n    white-space: nowrap;\n  }\n\\`;\n\nexport default function DropdownField({\n  empty,\n  dirty,\n  errors,\n  field,\n  formatText,\n  formatValue,\n  label: labelText,\n  options,\n  submtted,\n  touched,\n}) {\n  const id = useRef(uuid.v4());\n  const { onBlur, onChangeValue, value = '' } = field;\n  const [isVisited, setIsVisited] = useState(false);\n  const onChange = useCallback(\n    e => {\n      const { value: optionValue } = e.target;\n\n      onChangeValue(options.find(option => formatValue(option) === optionValue) || null);\n    },\n    [formatValue, onChangeValue, options]\n  );\n\n  return (\n    <DropdownFieldLayout>\n      <label htmlFor={id.current}>\n        <span>{labelText}</span>\n        <select onBlur={onBlur} onChange={onChange} value={formatValue(value)}>\n          {empty && <option value={formatValue(empty)}>{formatText(empty)}</option>}\n          {Boolean(options && options.length) &&\n            options.map(option => {\n              const text = formatText(option);\n              const optionValue = formatValue(option);\n\n              return <option value={optionValue}>{text}</option>;\n            })}\n        </select>\n      </label>\n      <div className=\"DropdownFieldLayout__validations\">\n        {(submitted || dirty || touched) && <ValidationResult errors={errors} />}\n      </div>\n    </DropdownFieldLayout>\n  );\n}\n\nDropdownField.defaultProps = {\n  empty: null,\n  label: null,\n  errors: [],\n};\n`}</code></pre>\n    <h2 {...{\n      \"id\": \"using-the-dropdownfield\"\n    }}>{`Using the DropdownField`}</h2>\n    <p>{`After building the Dropdown, see below how to use it.`}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-jsx\"\n      }}>{`import React from 'react';\nimport styled from 'styled-components';\nimport { useFormFlowField } from 'react-form-flow';\nimport DropdownField from './DropdownField';\n\nconst DropdownFieldRecipeLayout = styled.div\\`\\`;\n\nconst countries = [\n  { id: 'br', name: 'Brazil' },\n  { id: 'ie', name: 'Ireland' },\n  { id: 'it', name: 'Italy' },\n  { id: 'sp', name: 'Spain' },\n  { id: 'uk', name: 'United Kingdom' },\n  { id: 'fr', name: 'France' },\n  { id: 'us', name: 'United States' },\n];\nconst empty = { id: '', name: 'Select your country' };\n\nfunction formatValue(item) {\n  const { id } = item || {};\n\n  return id;\n}\n\nfunction formatText(item) {\n  const { name } = item || {};\n\n  return name;\n}\n\nexport default function DropdownFieldRecipe() {\n  const nationalityField = useFormFlowField('nationality', { eventType: 'value' });\n\n  return (\n    <DropdownFieldRecipeLayout>\n      <h2>Interact with dropdown below by selecting a value...</h2>\n\n      <DropdownField\n        {...nationalityField}\n        empty={empty}\n        label=\"Nationality\"\n        options={countries}\n        formatValue={formatValue}\n        formatText={formatText}\n      />\n      <div>\n        {!nationalityField.value && <strong>No value selected yet.</strong>}\n        {nationalityField.value && (\n          <div>\n            <strong>Value:</strong>\n            <span>{JSON.stringify(nationalityField.value)}</span>\n          </div>\n        )}\n      </div>\n    </DropdownFieldRecipeLayout>\n  );\n}\n`}</code></pre>\n    <p>{`And then...`}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-jsx\"\n      }}>{`  import { FormFlowProvider } from 'react-form-flow';\n\n  const initialData = { ... };\n  const schemaData = { ... };\n\n  // ...\n\n  <FormFlowProvider initialData={initialData} schemaData={schemaData}>\n    <DropdownFieldRecipe />\n  </FormFlowProvider>\n`}</code></pre>\n    </MDXLayout>;\n}\n\n;\nMDXContent.isMDXComponent = true;\n\nexport const __page = () => { throw new Error(\"Docs-only story\"); };\n\n__page.parameters = { docsOnly: true };\n\nconst componentMeta = { title: 'Docs/Recipes/Elements/Dropdown', parameters: {\n  docs: {\n    source: {\n      code: \"\"\n    }\n  }\n}, component: RecipesSchemaBuilder, includeStories: [\"__page\"],  };\n\nconst mdxStoryNameToKey = {};\n\ncomponentMeta.parameters = componentMeta.parameters || {};\ncomponentMeta.parameters.docs = {\n  ...(componentMeta.parameters.docs || {}),\n  page: () => <AddContext mdxStoryNameToKey={mdxStoryNameToKey} mdxComponentMeta={componentMeta}><MDXContent /></AddContext>,\n};\n\nexport default componentMeta;","\nimport React from 'react'\nimport { mdx } from '@mdx-js/react'\n\n/* @jsxRuntime classic */\n/* @jsx mdx */\nimport { assertIsFn, AddContext } from \"@storybook/addon-docs\";\n\nimport { Meta, Story, Canvas, Props } from '@storybook/addon-docs'\nimport RecipesSchemaBuilder, { decode, data } from './RecipesSchemaBuilder'\n\n\nconst layoutProps = {\n  \n};\nconst MDXLayout = \"wrapper\"\nfunction MDXContent({\n  components,\n  ...props\n}) {\n  return <MDXLayout {...layoutProps} {...props} components={components} mdxType=\"MDXLayout\">\n\n    <Meta title=\"Docs/Recipes/Elements/Input\" component={RecipesSchemaBuilder} parameters={{\n      docs: {\n        source: {\n          code: \"\"\n        }\n      }\n    }} mdxType=\"Meta\" />\n    <h1 {...{\n      \"id\": \"recipes\"\n    }}>{`Recipes`}</h1>\n    <p>{`How to build specific form elements to use the hooks provided by `}<inlineCode parentName=\"p\">{`react-form-flow`}</inlineCode>{`.`}</p>\n    <h2 {...{\n      \"id\": \"input-field-recipe\"\n    }}>{`Input Field Recipe`}</h2>\n    <p>{`The idea here is to show how to optimise your performance by reusing a input field.`}</p>\n    <h2 {...{\n      \"id\": \"code\"\n    }}>{`Code`}</h2>\n    <p>{`Here, we are using `}<a parentName=\"p\" {...{\n        \"href\": \"https://www.styled-components.com/\",\n        \"target\": \"_blank\",\n        \"rel\": \"nofollow noopener noreferrer\"\n      }}>{`styled-components`}</a>{` for prettifying styles.`}</p>\n    <p><strong parentName=\"p\">{`src/ValidationResult.jsx`}</strong></p>\n    <p>{`You will probably need a component to display the validations, see the draft below.`}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-jsx\"\n      }}>{`import React from 'react';\nimport styled from 'styled-components';\n\nconst ValidationResultLayout = styled.section\\`\n  .ValidationResultLayout__message {\n    color: red;\n  }\n\\`;\n\nexport default function ValidationResult({ errors = [] }) {\n  return (\n    <ValidationResultLayout>\n      {validations.map(\n        (validation) =>(\n          <div className=\"ValidationResultLayout__message\" key={validation.key}>\n            {JSON.stringify(validation, null, 2)}\n          </div>\n        )\n      )}\n    </ValidationResultLayout>\n  );\n}\n`}</code></pre>\n    <p><strong parentName=\"p\">{`src/InputField.jsx`}</strong></p>\n    <p>{`In the case below, validations are received always and the consumer decides when to display them.`}</p>\n    <p><strong parentName=\"p\">{`Note`}</strong>{`: For this case, we are only displaying after visiting the field, but, nothing block you to pass another property `}<inlineCode parentName=\"p\">{`showValidation`}</inlineCode>{` when the form is submitted, then, it would be able to display by `}<inlineCode parentName=\"p\">{`{(isVisited || showValidation) && <ValidationResult validations={validations} />}`}</inlineCode>{`.`}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-jsx\"\n      }}>{`import React, { useCallback, useRef, useState } from 'react';\nimport PropTypes from 'prop-types';\nimport uuid from 'uuid';\nimport styled from 'styled-components';\nimport ValidationResult from './ValidationResult';\n\nconst InputFieldLayout = styled.div\\`\n  padding: 0 0 10px 0;\n  label > span {\n    display: block;\n  }\n  .InputFieldLayout__validations {\n    display: block;\n  }\n\\`;\n\nexport default function InputField(props) {\n  const {\n    errors,\n    field,\n    label: labelText,\n    submitted,\n    touched,\n  } = props\n  const id = useRef(uuid.v4());\n\n  return (\n    <InputFieldLayout>\n      <label htmlFor={id.current}>\n        <span>{labelText}</span>\n        <input id={id.current} type=\"text\" {...field} />\n      </label>\n      <div className=\"InputFieldLayout__validations\">\n        {(submitted || touched) && <ValidationResult errors={errors} />}\n      </div>\n    </InputFieldLayout>\n  );\n}\n\nInputField.defaultProps = {\n  label: null,\n  errors: [],\n  value: '',\n};\n`}</code></pre>\n    <h2 {...{\n      \"id\": \"using-the-inputfield\"\n    }}>{`Using the InputField`}</h2>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-jsx\"\n      }}>{`import React, { useCallback, useRef, useState } from 'react';\nimport styled from 'styled-components';\nimport PropTypes from 'prop-types';\nimport uuid from 'uuid';\nimport { useFormFlowField } from 'react-form-flow';\n\nconst InputFieldRecipeLayout = styled.div\\`\n  width: 100%;\n\\`;\n\nexport default function InputFieldRecipe() {\n  const nameField = useFormFlowField('name');\n\n  return (\n    <InputFieldRecipeLayout>\n      <h2>Interact with the input field by focusing and leaving the field...</h2>\n\n      <InputField {...nameField} label=\"Name\" />\n      <div>{nameField.value}</div>\n    </InputFieldRecipeLayout>\n  );\n}\n`}</code></pre>\n    <p>{`And then...`}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-jsx\"\n      }}>{`  import { FormFlowProvider } from 'react-form-flow';\n\n  const initialData = { ... };\n  const schemaData = { ... };\n\n  // ...\n\n  <FormFlowProvider initialData={initialData} schemaData={schemaData}>\n    <InputFieldRecipe />\n  </FormFlowProvider>\n`}</code></pre>\n    </MDXLayout>;\n}\n\n;\nMDXContent.isMDXComponent = true;\n\nexport const __page = () => { throw new Error(\"Docs-only story\"); };\n\n__page.parameters = { docsOnly: true };\n\nconst componentMeta = { title: 'Docs/Recipes/Elements/Input', parameters: {\n  docs: {\n    source: {\n      code: \"\"\n    }\n  }\n}, component: RecipesSchemaBuilder, includeStories: [\"__page\"],  };\n\nconst mdxStoryNameToKey = {};\n\ncomponentMeta.parameters = componentMeta.parameters || {};\ncomponentMeta.parameters.docs = {\n  ...(componentMeta.parameters.docs || {}),\n  page: () => <AddContext mdxStoryNameToKey={mdxStoryNameToKey} mdxComponentMeta={componentMeta}><MDXContent /></AddContext>,\n};\n\nexport default componentMeta;","\nimport React from 'react'\nimport { mdx } from '@mdx-js/react'\n\n/* @jsxRuntime classic */\n/* @jsx mdx */\nimport { assertIsFn, AddContext } from \"@storybook/addon-docs\";\n\nimport { Meta, Story, Canvas, Props } from '@storybook/addon-docs'\nimport RecipesSchemaBuilder, { decode, data } from './RecipesSchemaBuilder'\n\n\nconst layoutProps = {\n  \n};\nconst MDXLayout = \"wrapper\"\nfunction MDXContent({\n  components,\n  ...props\n}) {\n  return <MDXLayout {...layoutProps} {...props} components={components} mdxType=\"MDXLayout\">\n\n    <Meta title=\"Docs/Recipes/Elements/Radio\" component={RecipesSchemaBuilder} parameters={{\n      docs: {\n        source: {\n          code: \"\"\n        }\n      }\n    }} mdxType=\"Meta\" />\n    <h1 {...{\n      \"id\": \"recipes\"\n    }}>{`Recipes`}</h1>\n    <p>{`How to build specific form elements to use the hooks provided by `}<inlineCode parentName=\"p\">{`react-form-flow`}</inlineCode>{`.`}</p>\n    <h2 {...{\n      \"id\": \"radio-field-recipe\"\n    }}>{`Radio Field Recipe`}</h2>\n    <p>{`This recipe will show how to build a group/simple radio using the `}<inlineCode parentName=\"p\">{`input[type=\"radio\"]`}</inlineCode>{` markup following the interface defined by `}<inlineCode parentName=\"p\">{`react-form-flow`}</inlineCode>{`.`}</p>\n    <h2 {...{\n      \"id\": \"code\"\n    }}>{`Code`}</h2>\n    <p>{`Here, we are using `}<a parentName=\"p\" {...{\n        \"href\": \"https://www.styled-components.com/\",\n        \"target\": \"_blank\",\n        \"rel\": \"nofollow noopener noreferrer\"\n      }}>{`styled-components`}</a>{` for prettifying styles.`}</p>\n    <p><strong parentName=\"p\">{`src/ValidationResult.jsx`}</strong></p>\n    <p>{`You will probably need a component to display the validations, see the draft below.`}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-jsx\"\n      }}>{`import React from 'react';\nimport styled from 'styled-components';\n\nconst ValidationResultLayout = styled.section\\`\n  .ValidationResultLayout__message {\n    color: red;\n  }\n\\`;\n\nexport default function ValidationResult({ errors = [] }) {\n  return (\n    <ValidationResultLayout>\n      {validations.map(\n        (validation) =>(\n          <div className=\"ValidationResultLayout__message\" key={validation.key}>\n            {JSON.stringify(validation, null, 2)}\n          </div>\n        )\n      )}\n    </ValidationResultLayout>\n  );\n}\n`}</code></pre>\n    <h3 {...{\n      \"id\": \"radiofield\"\n    }}>{`RadioField`}</h3>\n    <p>{`Here, validations are received always and the consumer decides when to display them.`}</p>\n    <p><strong parentName=\"p\">{`Note`}</strong>{`: For this case, there is no validation added. But, as all the other recipes, we cloud display the validations straightaway or through some property to control if it will be displayed. e.g. `}<inlineCode parentName=\"p\">{`showValidation`}</inlineCode>{` when the form is submitted, then, it would be able to display by `}<inlineCode parentName=\"p\">{`{showValidation && <ValidationResult validations={validations} />}`}</inlineCode>{`.`}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-jsx\"\n      }}>{`import React, { useCallback, useRef, useState } from 'react';\nimport PropTypes from 'prop-types';\nimport uuid from 'uuid';\nimport styled from 'styled-components';\n\nconst RadioFieldLayout = styled.div\\`\n  padding: 0 0 10px 0;\n  display: grid;\n  grid-template-columns: min-content;\n  grid-template-rows: min-content auto;\n\n  label {\n    display: grid;\n    grid-template-columns: min-content min-content;\n    grid-template-rows: auto;\n    white-space: nowrap;\n    grid-gap: 10px;\n  }\n\n  .RadioFieldLayout__validations {\n    display: block;\n    white-space: nowrap;\n  }\n\\`;\n\nexport default function RadioField({\n  checkedValue,\n  field,\n  label: labelText,\n  name,\n}) {\n  const id = useRef(uuid.v4());\n\n  return (\n    <RadioFieldLayout>\n      <label htmlFor={id.current}>\n        <span>{labelText}</span>\n        <input\n          id={id.current}\n          name={name}\n          type=\"radio\"\n          {...field}\n          value={checkedValue}\n          checked={value === checkedValue}\n        />\n      </label>\n    </RadioFieldLayout>\n  );\n}\n\nRadioField.defaultProps = {\n  label: null,\n};\n`}</code></pre>\n    <h2 {...{\n      \"id\": \"using-the-radiofield\"\n    }}>{`Using the RadioField`}</h2>\n    <p>{`After building the Dropdown, see below how to use it.`}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-jsx\"\n      }}>{`import React from 'react';\nimport styled from 'styled-components';\nimport { useFormFlowField } from 'react-form-flow';\nimport RadioField from './RadioField';\n\nconst RadioFieldRecipeLayout = styled.div\\`\\`;\n\nexport default function RadioFieldRecipe() {\n  const handField = useFormFlowField('hand', { eventType: 'value' });\n\n  return (\n    <RadioFieldRecipeLayout>\n      <h2>Interact with the radios below by clicking...</h2>\n      <p>\n        <strong>Note:</strong>\n        <span>\n          the property <strong>name</strong> is important for a radio in a form.\n        </span>\n      </p>\n      <fieldset>\n        <legend>Left/Right hand</legend>\n        <RadioField {...handField} label=\"Left\" checkedValue=\"left\" name=\"hand\" />\n        <RadioField {...handField} label=\"Right\" checkedValue=\"right\" name=\"hand\" />\n        <RadioField {...handField} label=\"Both\" checkedValue=\"both\" name=\"hand\" />\n        <span>\n          value:\n          {handField.value}\n        </span>\n      </fieldset>\n      {(handField.submitted || handField.touched || handField.dirty) && (\n        <ValidationResult errors={handField.errors} />\n      )}\n    </RadioFieldRecipeLayout>\n  );\n}\n`}</code></pre>\n    <p>{`And then...`}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-jsx\"\n      }}>{`  import { FormFlowProvider } from 'react-form-flow';\n\n  const initialData = { ... };\n  const schemaData = { ... };\n\n  // ...\n\n  <FormFlowProvider initialData={initialData} schemaData={schemaData}>\n    <RadioFieldRecipe />\n  </FormFlowProvider>\n`}</code></pre>\n    </MDXLayout>;\n}\n\n;\nMDXContent.isMDXComponent = true;\n\nexport const __page = () => { throw new Error(\"Docs-only story\"); };\n\n__page.parameters = { docsOnly: true };\n\nconst componentMeta = { title: 'Docs/Recipes/Elements/Radio', parameters: {\n  docs: {\n    source: {\n      code: \"\"\n    }\n  }\n}, component: RecipesSchemaBuilder, includeStories: [\"__page\"],  };\n\nconst mdxStoryNameToKey = {};\n\ncomponentMeta.parameters = componentMeta.parameters || {};\ncomponentMeta.parameters.docs = {\n  ...(componentMeta.parameters.docs || {}),\n  page: () => <AddContext mdxStoryNameToKey={mdxStoryNameToKey} mdxComponentMeta={componentMeta}><MDXContent /></AddContext>,\n};\n\nexport default componentMeta;","\nimport React from 'react'\nimport { mdx } from '@mdx-js/react'\n\n/* @jsxRuntime classic */\n/* @jsx mdx */\nimport { assertIsFn, AddContext } from \"@storybook/addon-docs\";\n\nimport { Meta, Story, Canvas, Props } from '@storybook/addon-docs'\nimport RecipesSchemaBuilder, { decode, data } from './RecipesSchemaBuilder'\nexport const Template = args => <RecipesSchemaBuilder {...args} mdxType=\"RecipesSchemaBuilder\" />;\n\nconst layoutProps = {\n  Template\n};\nconst MDXLayout = \"wrapper\"\nfunction MDXContent({\n  components,\n  ...props\n}) {\n  return <MDXLayout {...layoutProps} {...props} components={components} mdxType=\"MDXLayout\">\n\n    <Meta title=\"Docs/Recipes/Schema Builder\" component={RecipesSchemaBuilder} parameters={{\n      docs: {\n        source: {\n          code: \"\"\n        }\n      }\n    }} mdxType=\"Meta\" />\n    <Props of={RecipesSchemaBuilder} mdxType=\"Props\" />\n\n    <h1 {...{\n      \"id\": \"recipes\"\n    }}>{`Recipes`}</h1>\n    <p>{`This page offers a interactive way to experience the validations with the form library.`}</p>\n    <h2 {...{\n      \"id\": \"schema-builder\"\n    }}>{`Schema Builder`}</h2>\n    <p>{`Using the new SchemaBuilder, you can edit the body of the function getShemaData(SchemaBuilder, hasValue).`}</p>\n    <Canvas mdxType=\"Canvas\">\n  <Story name=\"Schema Builder\" argTypes={{\n        data: {\n          control: {\n            type: \"object\"\n          }\n        },\n        schemaData: {\n          control: false\n        },\n        factories: {\n          control: false\n        }\n      }} args={{\n        data\n      }} mdxType=\"Story\">\n    {Template.bind({})}\n  </Story>\n    </Canvas>\n    </MDXLayout>;\n}\n\n;\nMDXContent.isMDXComponent = true;\n\nexport const schemaBuilder = Template.bind({});\nschemaBuilder.storyName = 'Schema Builder';\nschemaBuilder.argTypes = {\n  data: {\n    control: {\n      type: \"object\"\n    }\n  },\n  schemaData: {\n    control: false\n  },\n  factories: {\n    control: false\n  }\n};\nschemaBuilder.args = {\n  data\n};\nschemaBuilder.parameters = { storySource: { source: 'args => <RecipesSchemaBuilder {...args} />' } };\n\nconst componentMeta = { title: 'Docs/Recipes/Schema Builder', parameters: {\n  docs: {\n    source: {\n      code: \"\"\n    }\n  }\n}, component: RecipesSchemaBuilder, includeStories: [\"schemaBuilder\"],  };\n\nconst mdxStoryNameToKey = {\"Schema Builder\":\"schemaBuilder\"};\n\ncomponentMeta.parameters = componentMeta.parameters || {};\ncomponentMeta.parameters.docs = {\n  ...(componentMeta.parameters.docs || {}),\n  page: () => <AddContext mdxStoryNameToKey={mdxStoryNameToKey} mdxComponentMeta={componentMeta}><MDXContent /></AddContext>,\n};\n\nexport default componentMeta;","\nimport React from 'react'\nimport { mdx } from '@mdx-js/react'\n\n/* @jsxRuntime classic */\n/* @jsx mdx */\nimport { assertIsFn, AddContext } from \"@storybook/addon-docs\";\n\nimport { Meta, Story, Canvas, Props } from '@storybook/addon-docs'\n\n\nconst layoutProps = {\n  \n};\nconst MDXLayout = \"wrapper\"\nfunction MDXContent({\n  components,\n  ...props\n}) {\n  return <MDXLayout {...layoutProps} {...props} components={components} mdxType=\"MDXLayout\">\n\n    <Meta title=\"Docs/Recipes/useFormFlowField\" component={() => <div />} mdxType=\"Meta\" />\n    <h1 {...{\n      \"id\": \"useformflowfield\"\n    }}>{`useFormFlowField`}</h1>\n    <p><inlineCode parentName=\"p\">{`react-form-flow`}</inlineCode>{` as its name describes is a library to define a common and automated workflow to collect and validate form data. Allow user to consume the data and validation based on the json path.`}</p>\n    <p>{`To improve your productivity, it would be good to create your core form components such as input, dropdowns and on and on following the `}<inlineCode parentName=\"p\">{`react-form-flow`}</inlineCode>{` spec.`}</p>\n    <p><em parentName=\"p\">{`JSON PATH`}</em>{` is a notation to navigate through the JSON object.`}</p>\n    <p>{`e.g.`}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-js\"\n      }}>{`const data = {\n    person: {\n      id: 1,\n      name: 'Jane Doe',\n      email: 'jane@doe.dead'\n      children:[\n        {id: 2, name: 'John Doe'}\n      ]\n    }\n};\n`}</code></pre>\n    <p>{`So, observing the json above, the json path to access the name of first child is `}<inlineCode parentName=\"p\">{`\"person.chidlren[0].name\"`}</inlineCode>{`.`}</p>\n    <h3 {...{\n      \"id\": \"validationresult\"\n    }}>{`ValidationResult`}</h3>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-jsx\"\n      }}>{`import React from 'react';\n\nexport default function ValidationResult({ label, validations }) {\n  return (\n    <section>\n      {!!label && <div>{label}</div>}\n      {validations.map(({ key, isValid, message }) => !isValid && <div key={key}>{message}</div>)}\n    </section>\n  );\n}\n`}</code></pre>\n    <h3 {...{\n      \"id\": \"inputfield\"\n    }}>{`InputField`}</h3>\n    <p>{`The input field could receive from the `}<inlineCode parentName=\"p\">{`useFormFlowField`}</inlineCode>{` an object with the spec below.`}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-js\"\n      }}>{`{\n  field: {\n    /* Function to update an object regarding the json path and value, only added if useFormFlowValidation('name', { eventType: \"value\" }) */\n    onChangeValue /* onChangeValue(value: any) */,\n    /* Function to handle input event \"change\", only added if useFormFlowValidation('name', { eventType: \"event\" }) */\n    onChange /* onChange(event: Event) */,\n    value /* any */,\n  },\n  errors  /* arrayOf(ValidationResult) */,\n  submitted /* boolean */,\n  touched /* boolean */,\n}\n`}</code></pre>\n    <p>{`Component...`}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-jsx\"\n      }}>{`import React from 'react';\nimport ValidationResult from './ValidationResult';\n\nexport default function InputField(props) {\n  const {\n    errors,\n    field,\n    label: labelText,\n    submitted,\n    touched,\n  } = props\n  const id = useRef(uuid.v4());\n\n  return (\n    <div>\n      <label htmlFor={id.current}>\n        <span>{labelText}</span>\n        <input id={id.current} type=\"text\" {...field} />\n      </label>\n      <div className=\"InputFieldLayout__validations\">\n        {(submitted || touched) && <ValidationResult errors={errors} />}\n      </div>\n    </div>\n  );\n}\n\nInputField.defaultProps = {\n  value: '',\n};\n`}</code></pre>\n    <h4 {...{\n      \"id\": \"schemadata\"\n    }}>{`schemaData`}</h4>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-jsx\"\n      }}>{`import { SchemaBuilder } from 'react-form-flow';\n\nSchemaBuilder.factory(\"required\", (metadata) => hasValue(metadata.value ?? \"\"));\nSchemaBuilder.factory(\"min-length\", ({ value }) => !hasValue(value ?? \"\") || (value ?? \"\").length >= min, {\n  response: ({ value }) => ({ length: (value ?? \"\").length })\n});\n\nexport default SchemaBuilder.builder()\n  .with(\"name\")\n  .check(\"required\", { message: \"Name is required\" })\n  .check(\"min-length\", { min: 5, message: \"Name must be greater than 5 characters\" })\n  .end()\n  .with(\"description\")\n  .check(\"required\", { message: \"Description is required\" })\n  .check(\"min-length\", { min: 50, message: \"Name must be greater than 50 characters\" })\n  .end()\n`}</code></pre>\n    <h4 {...{\n      \"id\": \"app\"\n    }}>{`App`}</h4>\n    <p>{`A few things are required in order to use the `}<inlineCode parentName=\"p\">{`react-form-flow`}</inlineCode>{` library.`}</p>\n    <ul>\n      <li parentName=\"ul\">{`initialData: the initial data to be rendered in the form`}</li>\n      <li parentName=\"ul\">{`schemaData: an object with validation rules per json path`}</li>\n      <li parentName=\"ul\">{`children: the react node being wrapped by the provider containing the real form within fields`}</li>\n    </ul>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-jsx\"\n      }}>{`import React from 'react';\nimport styled from 'styled-components';\nimport {\n  FormFlowProvider,\n  useFormFlowField,\n  useFormFlowValidation,\n} from 'react-form-flow';\nimport ValidationResult from './ValidationResult';\nimport InputField from './InputField';\nimport schemaData from './schemaData';\n\nconst Layout = styled.div\\`\n  height: 100%;\n  width: 100%;\n\n  display: grid;\n\n  grid-template-columns: 1fr 1fr;\n  grid-template-rows: auto;\n\\`;\n\nfunction Validations() {\n  const nameValidation = useFormFlowValidation('name');\n  const descriptionValidation = useFormFlowField('description');\n\n  return (\n    <div>\n      <ValidationResult label=\"Name\" {...nameValidation} />\n      <ValidationResult label=\"Description\" {...descriptionValidation} />\n    </div>\n  );\n}\n\nfunction Form() {\n  const nameField = useFormFlowField('name');\n  const descriptionField = useFormFlowField('description');\n\n  return (\n    <div>\n      <InputField label=\"Name\" {...nameField} />\n      <InputField label=\"Description\" {...descriptionField} />\n    </div>\n  );\n}\n\nfunction DemoApp() {\n  return (\n    <Layout>\n      <FormFlowProvider initialData={{ name: '', description: '' }} schemaData={schemaData}>\n        <Validations />\n        <Form />\n      </FormFlowProvider>\n    </Layout>\n  );\n}\n`}</code></pre>\n    <p>{`Running...`}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-jsx\"\n      }}>{`<DemoApp />\n`}</code></pre>\n    </MDXLayout>;\n}\n\n;\nMDXContent.isMDXComponent = true;\n\nexport const __page = () => { throw new Error(\"Docs-only story\"); };\n\n__page.parameters = { docsOnly: true };\n\nconst componentMeta = { title: 'Docs/Recipes/useFormFlowField', component: () => <div />, includeStories: [\"__page\"],  };\n\nconst mdxStoryNameToKey = {};\n\ncomponentMeta.parameters = componentMeta.parameters || {};\ncomponentMeta.parameters.docs = {\n  ...(componentMeta.parameters.docs || {}),\n  page: () => <AddContext mdxStoryNameToKey={mdxStoryNameToKey} mdxComponentMeta={componentMeta}><MDXContent /></AddContext>,\n};\n\nexport default componentMeta;","\nimport React from 'react'\nimport { mdx } from '@mdx-js/react'\n\n/* @jsxRuntime classic */\n/* @jsx mdx */\nimport { assertIsFn, AddContext } from \"@storybook/addon-docs\";\n\nimport { Meta, Story, Canvas, Props } from '@storybook/addon-docs'\n\n\nconst layoutProps = {\n  \n};\nconst MDXLayout = \"wrapper\"\nfunction MDXContent({\n  components,\n  ...props\n}) {\n  return <MDXLayout {...layoutProps} {...props} components={components} mdxType=\"MDXLayout\">\n\n    <Meta title=\"Docs/Recipes/useFormFlowItem\" component={() => <div />} mdxType=\"Meta\" />\n    <h1 {...{\n      \"id\": \"useformflowitem\"\n    }}>{`useFormFlowItem`}</h1>\n    <p><inlineCode parentName=\"p\">{`react-form-flow`}</inlineCode>{` as its name describes is a library to define a common and automated workflow to collect and validate form data. Allow user to consume the data and validation based on the json path.`}</p>\n    <p>{`To improve your productivity, it would be good to create your core form components such as input, dropdowns and on and on following the `}<inlineCode parentName=\"p\">{`react-form-flow`}</inlineCode>{` spec.`}</p>\n    <p><em parentName=\"p\">{`JSON PATH`}</em>{` is a notation to navigate through the JSON object.`}</p>\n    <p>{`While we are going to exemplify how to use the `}<inlineCode parentName=\"p\">{`useFormFlowItem`}</inlineCode>{`, it is encouraged to use the `}<inlineCode parentName=\"p\">{`useFormFlowField`}</inlineCode>{` used in the `}<inlineCode parentName=\"p\">{`Docs/Recipes/Elements`}</inlineCode>{` and `}<inlineCode parentName=\"p\">{`Docs/Getting Started`}</inlineCode>{`.`}</p>\n    <p>{`e.g.`}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-js\"\n      }}>{`const data = {\n    person: {\n      id: 1,\n      name: 'Jane Doe',\n      email: 'jane@doe.dead'\n      children:[\n        {id: 2, name: 'John Doe'}\n      ]\n    }\n};\n`}</code></pre>\n    <p>{`So, observing the json above, the json path to access the name of first child is `}<inlineCode parentName=\"p\">{`\"person.chidlren[0].name\"`}</inlineCode>{`.`}</p>\n    <h3 {...{\n      \"id\": \"validationresult\"\n    }}>{`ValidationResult`}</h3>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-jsx\"\n      }}>{`import React from 'react';\n\nexport default function ValidationResult({ label, validations }) {\n  return (\n    <section>\n      {!!label && <div>{label}</div>}\n      {validations.map(({ key, isValid, message }) => !isValid && <div key={key}>{message}</div>)}\n    </section>\n  );\n}\n`}</code></pre>\n    <h3 {...{\n      \"id\": \"inputfield\"\n    }}>{`InputField`}</h3>\n    <p>{`The input field could receive from the `}<inlineCode parentName=\"p\">{`useFormFlowItem`}</inlineCode>{` an object with the spec below.`}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-js\"\n      }}>{`{\n  onChangeValue /* Function to update an object regarding the json path and value */,\n  onChange /* Function to handle input event \"change\" */,\n  setData /* Function to set the whole form data */,\n  validations  /* arrayOf(ValidationResult) */,\n  value /* string */,\n}\n`}</code></pre>\n    <p>{`Component...`}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-jsx\"\n      }}>{`import React from 'react';\nimport ValidationResult from './ValidationResult';\n\nexport default function InputField({\n  label,\n  onChange,\n  validations /* Array<Validation> (type) */,\n  value,\n}) {\n  return (\n    <div>\n      <div>{label}</div>\n      <input type=\"text\" onChange={onChange} value={value} />\n      <div>\n        <ValidationResult validations={validations} />\n      </div>\n    </div>\n  );\n}\n\nInputField.defaultProps = {\n  value: '',\n};\n`}</code></pre>\n    <h4 {...{\n      \"id\": \"schemadata\"\n    }}>{`schemaData`}</h4>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-jsx\"\n      }}>{`import { SchemaBuilder } from 'react-form-flow';\n\nSchemaBuilder.factory(\"required\", (metadata) => hasValue(metadata.value ?? \"\"));\nSchemaBuilder.factory(\"min-length\", ({ value }) => !hasValue(value ?? \"\") || (value ?? \"\").length >= min, {\n  response: ({ value }) => ({ length: (value ?? \"\").length })\n});\n\nexport default SchemaBuilder.builder()\n  .with(\"name\")\n  .check(\"required\", { message: \"Name is required\" })\n  .check(\"min-length\", { min: 5, message: \"Name must be greater than 5 characters\" })\n  .end()\n  .with(\"description\")\n  .check(\"required\", { message: \"Description is required\" })\n  .check(\"min-length\", { min: 50, message: \"Name must be greater than 50 characters\" })\n  .end()\n`}</code></pre>\n    <h4 {...{\n      \"id\": \"app\"\n    }}>{`App`}</h4>\n    <p>{`A few things are required in order to use the `}<inlineCode parentName=\"p\">{`react-form-flow`}</inlineCode>{` library.`}</p>\n    <ul>\n      <li parentName=\"ul\">{`initialData: the initial data to be rendered in the form`}</li>\n      <li parentName=\"ul\">{`schemaData: an object with validation rules per json path`}</li>\n      <li parentName=\"ul\">{`children: the react node being wrapped by the provider containing the real form within fields`}</li>\n    </ul>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-jsx\"\n      }}>{`import React from 'react';\nimport styled from 'styled-components';\nimport {\n  FormFlowProvider,\n  useFormFlowItem,\n  useFormFlowValidation,\n} from 'react-form-flow';\nimport ValidationResult from './ValidationResult';\nimport InputField from './InputField';\nimport schemaData from './schemaData';\n\nconst Layout = styled.div\\`\n  height: 100%;\n  width: 100%;\n\n  display: grid;\n\n  grid-template-columns: 1fr 1fr;\n  grid-template-rows: auto;\n\\`;\n\nfunction Validations() {\n  const nameValidation = useFormFlowValidation('name');\n  const descriptionValidation = useFormFlowItem('description');\n\n  return (\n    <div>\n      <ValidationResult label=\"Name\" {...nameValidation} />\n      <ValidationResult label=\"Description\" {...descriptionValidation} />\n    </div>\n  );\n}\n\nfunction Form() {\n  const nameField = useFormFlowItem('name');\n  const descriptionField = useFormFlowItem('description');\n\n  return (\n    <div>\n      <InputField label=\"Name\" {...nameField} />\n      <InputField label=\"Description\" {...descriptionField} />\n    </div>\n  );\n}\n\nfunction DemoApp() {\n  return (\n    <Layout>\n      <FormFlowProvider initialData={{ name: '', description: '' }} schemaData={schemaData}>\n        <Validations />\n        <Form />\n      </FormFlowProvider>\n    </Layout>\n  );\n}\n`}</code></pre>\n    <p>{`Running...`}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-jsx\"\n      }}>{`<DemoApp />\n`}</code></pre>\n    </MDXLayout>;\n}\n\n;\nMDXContent.isMDXComponent = true;\n\nexport const __page = () => { throw new Error(\"Docs-only story\"); };\n\n__page.parameters = { docsOnly: true };\n\nconst componentMeta = { title: 'Docs/Recipes/useFormFlowItem', component: () => <div />, includeStories: [\"__page\"],  };\n\nconst mdxStoryNameToKey = {};\n\ncomponentMeta.parameters = componentMeta.parameters || {};\ncomponentMeta.parameters.docs = {\n  ...(componentMeta.parameters.docs || {}),\n  page: () => <AddContext mdxStoryNameToKey={mdxStoryNameToKey} mdxComponentMeta={componentMeta}><MDXContent /></AddContext>,\n};\n\nexport default componentMeta;","\nimport React from 'react'\nimport { mdx } from '@mdx-js/react'\n\n/* @jsxRuntime classic */\n/* @jsx mdx */\nimport { assertIsFn, AddContext } from \"@storybook/addon-docs\";\n\nimport { Meta, Story, Canvas, Props } from '@storybook/addon-docs'\nimport RecipesSchemaBuilder, { decode, data } from './RecipesSchemaBuilder'\n\n\nconst layoutProps = {\n  \n};\nconst MDXLayout = \"wrapper\"\nfunction MDXContent({\n  components,\n  ...props\n}) {\n  return <MDXLayout {...layoutProps} {...props} components={components} mdxType=\"MDXLayout\">\n\n    <Meta title=\"Docs/Recipes/Validations\" component={RecipesSchemaBuilder} parameters={{\n      docs: {\n        source: {\n          code: \"\"\n        }\n      }\n    }} mdxType=\"Meta\" />\n    <h1 {...{\n      \"id\": \"recipes\"\n    }}>{`Recipes`}</h1>\n    <p>{`The idea here is to show how to optimise your performance by reusing some strategies. For this, we are going to use factory methods to build validations.`}</p>\n    <h2 {...{\n      \"id\": \"quick-reminder\"\n    }}>{`Quick reminder`}</h2>\n    <p>{`The `}<inlineCode parentName=\"p\">{`schemaData`}</inlineCode>{` object is built indexing validations by provided JSON PATH.`}</p>\n    <h2 {...{\n      \"id\": \"factories\"\n    }}>{`Factories`}</h2>\n    <p>{`Factory method is a creational pattern to deal with creation of objects in general. Its definition could be also expanded to creation of contracts.`}</p>\n    <p>{`Following the examples below we are going to factory a required validation. So, these validations have the same type of check varying on path and key returned.`}</p>\n    <h3 {...{\n      \"id\": \"factoring-required\"\n    }}>{`Factoring required`}</h3>\n    <p>{`Factory a required validation pre-defining the key and path uniquely and allowing end consumer to define the message returned.`}</p>\n    <p>{`The return of the validation function must provide the interface below.`}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-ts\"\n      }}>{`interface Validation {\n  /**\n   * The whole data form\n   */\n  data: any;\n  /**\n   * The dependency values for conditionals\n   */\n  dependencies: Array<any>;\n  /**\n   * Method to get value given a form data and json path\n   * @param data - the form data\n   * @param path - the json path\n   * @returns {any}\n   */\n  get(data: any, path: string): any;\n  /** \n   * Whether the validation passed or failed\n   */\n  isValid: boolean;\n  /** \n   * Validation name\n   */\n  name: string;\n  /** \n   * A construction of {path + \".errors.\" + name}\n   * e.g.\n   * - path: user.role\n   * - name: required\n   * - key: user.role.errors.required\n   */\n  key: string;\n  /**\n   * The path to be validated\n   */\n  path: string;\n  /**\n   * The value related to the path in the form\n   */\n  value: any;\n  /** \n   * Any extra information provided\n   */\n  [key: string]: any;\n}\n`}</code></pre>\n    <p><strong parentName=\"p\">{`src/SchemaBuilder.js`}</strong></p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-js\"\n      }}>{`import { SchemaBuilder } from \"react-form-flow\";\n\nfunction hasValue(value) {\n  return (\n    value !== null && value !== undefined && (typeof value !== 'string' || (value && value.trim()))\n  );\n}   \n\nSchemaBuilder.factory(\"required\", (metadata) => hasValue(metadata.value ?? \"\"));\n\nexport default SchemaBuilder;\n`}</code></pre>\n    <h3 {...{\n      \"id\": \"factoring-max-length\"\n    }}>{`Factoring max length`}</h3>\n    <p>{`For the max length validation where we will provide dynamic metadata for further usage.`}</p>\n    <p>{`Continuation on `}<strong parentName=\"p\">{`src/SchemaBuilder.js`}</strong></p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-jsx\"\n      }}>{`SchemaBuilder.factory(\"max-length\", (metadata) => {\n  const value = metadata.value ?? \"\";\n  // Either will be valid if there is no value, or it is lesser of equals than max.\n  // Also, we expect the max valid is provided when using the factored validation\n  const isValid = !hasValue(value) || value.length <= metadata.max;\n  return isValid;\n}, {\n  // Here, we are adding useful information to all schema data using this validation.\n  response: (metadata) => ({ length: (metadata.value ?? \"\").trim().length })\n});\n`}</code></pre>\n    <h3 {...{\n      \"id\": \"creating-the-schemadata\"\n    }}>{`Creating the schemaData`}</h3>\n    <p>{`To create our schemaData we need to make use of the `}<inlineCode parentName=\"p\">{`src/SchemaBuilder`}</inlineCode>{`. Make sure to import the SchemaBuilder from your wrapper to make sure the `}<inlineCode parentName=\"p\">{`factory`}</inlineCode>{` has registed the common validations before using it.`}</p>\n    <p><strong parentName=\"p\">{`src/schemaData.js`}</strong></p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-jsx\"\n      }}>{`import SchemaBuilder from './SchemaBuilder';\n\nexport default SchemaBuilder.builder()\n  .with(\"name\")\n  .check(\"required\")\n  .check(\"max-length\", { max: 50 })\n  .end()\n  .build();\n`}</code></pre>\n    <h4 {...{\n      \"id\": \"using-the-additional-information-length\"\n    }}>{`Using the additional information \"length\"`}</h4>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-jsx\"\n      }}>{`import { FormFlowProvider, useFormFlowField } from 'react-form-flow';\nimport i18n from './i18n';\nimport schemaData from \"./schemaData\"\n\n/**\nImagine the translation as \n\n{\n  \"name\": {\n    \"errors\": {\n      \"max-length\": \"Name cannot be greater than {{max}} (characters {{length}}/{{max}}).\"\n    }\n  }\n}\n\n*/ \n\nfunction  MinMaxLengthMessage({ min, max, unit }) {\n  return \\`Only values between \\${min} and \\${max} is allowed for \\${unit}.\\`;\n}\n\nfunction Form() {\n  const { errors } = useFormFlowField('name');\n  /** \n   * Flexibility provided by defining the end message through translation libraries\n   */\n  const { t } = useTranslate();\n  return (\n    <div>\n      {errors.map(\n        (validation) => (\n          <div key={validation.key}>\n            {t(validation.key, { values: { length: validation.length, max: validation.max } })}\n          </div>\n        )\n      )}\n    </div>\n  )\n}\n\n// forcing the error in the validation\nconst initialData = { name: Array.from({ length: 51 }).map(() => \"a\").join(\"\") };\n  \nfunction App() {\n  return (\n    <FormFlowProvider initialData={initialData} schemaData={schemaData}>\n      <Form />\n    </FormFlowProvider>\n  );\n}\n`}</code></pre>\n    <h3 {...{\n      \"id\": \"dependencies\"\n    }}>{`Dependencies`}</h3>\n    <p>{`Lets say you have a validation for range, but, this information is obtained from 2 fields which would have `}<inlineCode parentName=\"p\">{`min`}</inlineCode>{`, `}<inlineCode parentName=\"p\">{`max`}</inlineCode>{` constraints for the value and a list of acceptable units e.g. `}<inlineCode parentName=\"p\">{`['seconds', 'minutes', 'hours']`}</inlineCode>{`.`}</p>\n    <p>{`Continuation on `}<strong parentName=\"p\">{`src/SchemaBuilder.js`}</strong></p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-js\"\n      }}>{`const MinMaxUnitsConstraints = {\n  seconds: [0, 60],\n  minutes: [0, 60],\n  hours: [0, 24],\n}\nSchemaBuilder.factory(\"min-max-units\", (metadata) => {\n  const { dependencies } = metadata;\n  const [unit] = dependencies;\n  const value = Number(metadata.value ?? \"0\");\n  const [min, max] = MinMaxUnitsConstraints[unit];\n  const isValid = !hasValue(value) || (value <= max && value >= min);\n  return isValid;\n}, {\n  response: (metadata) => {\n    const { dependencies } = metadata;\n    const [unit] = dependencies;\n    const [min, max] = MinMaxUnitsConstraints[unit];\n    return { min, max };\n  }\n})\n`}</code></pre>\n    <h3 {...{\n      \"id\": \"new-schemadata\"\n    }}>{`New schemaData`}</h3>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-js\"\n      }}>{`import SchemaBuilder from \"./SchemaBuilder\";\n\nexport default SchemaBuilder.builder()\n  /** \n   * Declaring an invalidation path\n   */\n  .with(\"product.expiresIn.value\", [\"$.unit\"])\n  .check(\"requried\")\n  .check(\"min-max-units\")\n  .end()\n  .with(\"product.expiresIn.unit\")\n  .check(\"requried\")\n  .end()\n  .build()\n`}</code></pre>\n    <p>{`By doing `}<inlineCode parentName=\"p\">{`.with(\"product.expiresIn.value\", [\"$.unit\"])`}</inlineCode>{`, you have provided an invalidation path list. Every time that the `}<inlineCode parentName=\"p\">{`unit`}</inlineCode>{` is changed the validation for `}<inlineCode parentName=\"p\">{`value`}</inlineCode>{` is also computed.`}</p>\n    <h3 {...{\n      \"id\": \"multiple-dependencies\"\n    }}>{`Multiple Dependencies`}</h3>\n    <p>{`The invalidation paths can be defined by absolute and relative paths. Being `}<inlineCode parentName=\"p\">{`$.`}</inlineCode>{` the way to navigate to parent node in relative path. We can better see it through examples.`}</p>\n    <p>{`Below find an example of multiple dependencies, and the navigation to higher scope levels.`}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-js\"\n      }}>{`import SchemaBuilder from \"./SchemaBuilder\";\n\nexport default SchemaBuilder.builder()\n  .with(\"product.madeOn\")\n  .check(\"requried\")\n  .end()\n  .with(\"product.expiresIn.value\", [\"$.unit\", \"$.$.madeOn\"])\n  .check(\"requried\")\n  .check(\"min-max-units\")\n  .end()\n  .with(\"product.expiresIn.unit\")\n  .check(\"requried\")\n  .end()\n  .build()\n`}</code></pre>\n    <p>{`Taking `}<inlineCode parentName=\"p\">{`product.expiresIn.value`}</inlineCode>{` and breaking into partial paths `}<inlineCode parentName=\"p\">{`[\"product\", \"expiresIn\", \"value\"]`}</inlineCode>{`, the navigation `}<inlineCode parentName=\"p\">{`$.`}</inlineCode>{` refers going back to `}<inlineCode parentName=\"p\">{`expiresIn`}</inlineCode>{`. Whereas `}<inlineCode parentName=\"p\">{`$.$.`}</inlineCode>{`, it would refer to `}<inlineCode parentName=\"p\">{`product`}</inlineCode>{`.`}</p>\n    <h5 {...{\n      \"id\": \"array-as-one-of-dependencies\"\n    }}>{`Array as one of dependencies`}</h5>\n    <p>{`Let say, you need a validation to be performed for changes in correlated data based on indexes. Before going straight to the example, we need to understand a notation to refer to the indexes.`}</p>\n    <p>{`Given the rule `}<inlineCode parentName=\"p\">{`contacts[]`}</inlineCode>{`, this means we have validations running for each element of the array contacts. To correlated indexes, we can user the reference to ocurency of `}<inlineCode parentName=\"p\">{`[]`}</inlineCode>{` as `}<inlineCode parentName=\"p\">{`$N`}</inlineCode>{`, being `}<inlineCode parentName=\"p\">{`N`}</inlineCode>{` the index where the `}<inlineCode parentName=\"p\">{`[]`}</inlineCode>{` occurs in the original rule.`}</p>\n    <p>{`Ok, I get it too. It seems complex. Lets make it simple by examples.`}</p>\n    <ul>\n      <li parentName=\"ul\">{`Given the rule `}<inlineCode parentName=\"li\">{`people[].contacts[]`}</inlineCode>{`, invalidation paths `}<inlineCode parentName=\"li\">{`['$.friends[$1]']`}</inlineCode>\n        <ul parentName=\"li\">\n          <li parentName=\"ul\">{`Everytime friends at `}<inlineCode parentName=\"li\">{`N`}</inlineCode>{` changes, the people `}<inlineCode parentName=\"li\">{`people[i].contacts[N]`}</inlineCode>{` will be re-validated`}</li>\n          <li parentName=\"ul\">{`This because the index of `}<inlineCode parentName=\"li\">{`[]`}</inlineCode>{` for `}<inlineCode parentName=\"li\">{`contacts`}</inlineCode>{` in the original rule is `}<inlineCode parentName=\"li\">{`1`}</inlineCode>{`, then, it is referred at `}<inlineCode parentName=\"li\">{`friends`}</inlineCode>{` as `}<inlineCode parentName=\"li\">{`$1`}</inlineCode></li>\n        </ul>\n      </li>\n      <li parentName=\"ul\">{`Given the rule `}<inlineCode parentName=\"li\">{`store.foods[]`}</inlineCode>{`, invalidation paths `}<inlineCode parentName=\"li\">{`['$.stocks[$0]']`}</inlineCode>\n        <ul parentName=\"li\">\n          <li parentName=\"ul\">{`Everytime stocks at `}<inlineCode parentName=\"li\">{`N`}</inlineCode>{` changes, the foods `}<inlineCode parentName=\"li\">{`store.foods[N]`}</inlineCode>{` will be re-validated`}</li>\n          <li parentName=\"ul\">{`This because the index of `}<inlineCode parentName=\"li\">{`[]`}</inlineCode>{` for `}<inlineCode parentName=\"li\">{`foods`}</inlineCode>{` in the original rule is `}<inlineCode parentName=\"li\">{`0`}</inlineCode>{`, then, it is referred at `}<inlineCode parentName=\"li\">{`stocks`}</inlineCode>{` as `}<inlineCode parentName=\"li\">{`$0`}</inlineCode></li>\n        </ul>\n      </li>\n    </ul>\n    <p>{`You may question the example below thinking that is too much to create a \"common validation\" for something to be used only once, or very much bound to a specific context. It makes sense, the example is only to ilustrate dependencies, if you want to deal with domain validations or one-time validations, please checkout the next section.`}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-js\"\n      }}>{`import SchemaBuilder from \"./SchemaBuilder\";\n\nSchemaBuilder.factory()\n\nexport default SchemaBuilder.builder()\n  .with(\"store.stocks[]\")\n  .check(\"requried\")\n  .end()\n  .with(\"store.foods[]\", [\"$.stocks[$0]\"])\n  .check(\"requried.if-in-stock\")\n  .end()\n  .build()\n`}</code></pre>\n    <h2 {...{\n      \"id\": \"domain-validations--one-time-validations\"\n    }}>{`Domain validations / One-time validations`}</h2>\n    <p>{`Some form data will require validations that are very much domain attached and it won't be reused anywhere else, for this reason a dynamic validation can be created at the time the `}<inlineCode parentName=\"p\">{`schemaData`}</inlineCode>{` is being built. Let's look at the example where we improve the previous usage.`}</p>\n    <p><strong parentName=\"p\">{`src/schemaData.js`}</strong></p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-jsx\"\n      }}>{`import SchemaBuilder from './form/SchemaBuilder';\n\n/** \n * Adding more metadata to the Validation result object\n */\nfunction getLength(metadata) {\n  const { length } = (metadata.value ?? \"\").trim();\n  return { length };\n}\n\nexport default SchemaBuilder.builder()\n  .with(\"store.stocks[]\")\n  .check(\"requried\")\n  .end()\n  .with(\"store.foods[]\", [\"$.stocks[$0]\"])\n  .test(\"requried.if-in-stock\", (metadata) => {\n    const { dependencies } = metadata;\n    const [stockWithSameIndex] = dependencies;\n    const value = metadata.value ?? \"\";\n    /** \n     * If there is value is valid, if not, only if there is stock. So, no value\n     * and stock 0 is valid.\n     */\n    const isValid = hasValue(value) || Number(stockWithSameIndex ?? 0) === 0;\n    return isValid;\n  })\n  .end()\n  .build()\n`}</code></pre>\n    <p><strong parentName=\"p\">{`Note`}</strong>{`: By nature one-time validations won't be reused as `}<inlineCode parentName=\"p\">{`.check(\"validation-name\", ...)`}</inlineCode>{`.`}</p>\n    </MDXLayout>;\n}\n\n;\nMDXContent.isMDXComponent = true;\n\nexport const __page = () => { throw new Error(\"Docs-only story\"); };\n\n__page.parameters = { docsOnly: true };\n\nconst componentMeta = { title: 'Docs/Recipes/Validations', parameters: {\n  docs: {\n    source: {\n      code: \"\"\n    }\n  }\n}, component: RecipesSchemaBuilder, includeStories: [\"__page\"],  };\n\nconst mdxStoryNameToKey = {};\n\ncomponentMeta.parameters = componentMeta.parameters || {};\ncomponentMeta.parameters.docs = {\n  ...(componentMeta.parameters.docs || {}),\n  page: () => <AddContext mdxStoryNameToKey={mdxStoryNameToKey} mdxComponentMeta={componentMeta}><MDXContent /></AddContext>,\n};\n\nexport default componentMeta;","import { SchemaBuilder } from '../src';\nimport hasValue from \"./hasValue\";\n\nSchemaBuilder.factory(\"max-length\", ({ value, max }) => !hasValue(value ?? \"\") || (value ?? \"\").length <= max);\nSchemaBuilder.factory(\"min-length\", ({ value, min }) => !hasValue(value ?? \"\") || (value ?? \"\").length >= min);\nSchemaBuilder.factory(\"required-array\", ({ value }) => hasValue(value) && typeof value.forEach === \"function\" && value.length >= 0);\nSchemaBuilder.factory(\"required\", ({ value }) => hasValue(value ?? \"\") && (value ?? \"\").length >= 0);\n\nexport default SchemaBuilder;\n","import moment from 'moment';\nimport SchemaBuilder from '../SchemaBuilder';\n\nexport default SchemaBuilder.builder()\n  .with(\"name\")\n  .check(\"required\")\n  .check(\"max-length\", { max: 20 })\n  .end()\n  .with(\"email\")\n  .check(\"required\")\n  .check(\"max-length\", { max: 300 })\n  .end()\n  .with(\"birthday\")\n  .check(\"required\")\n  .test(\"date-invalid\", (metadata) => {\n    const { data, path, value } = metadata;\n    const date = moment(value);\n    const now = moment();\n    const isValid = !value || (date.isValid() ? now.valueOf() > date.valueOf() : false);\n    const message = `Please enter a valid date not beyond \"${now.format(\n      'DD/MM/YYYY'\n    )}\" e.g. 21/01/2010 (DD/MM/YYYY)`;\n\n    return isValid;\n  }, (metadata) => {\n    const now = moment();\n    const message = `Please enter a valid date not beyond \"${now.format(\n      'DD/MM/YYYY'\n    )}\" e.g. 21/01/2010 (DD/MM/YYYY)`;\n\n    return { message };\n  })\n  .end()\n  .build()\n","import React from 'react';\nimport styled from 'styled-components';\nimport { useFormFlowField } from '../../src';\nimport InputField from '../fields/InputField';\n\nconst AddressBookFormLayout = styled.div``;\n\nexport default function AddressBookForm() {\n  const nameField = useFormFlowField('name');\n  const emailField = useFormFlowField('email');\n  const birthdayField = useFormFlowField('birthday');\n\n  return (\n    <AddressBookFormLayout>\n      <InputField {...nameField} label=\"Name\" layout=\"grid\" />\n      <InputField {...emailField} label=\"Email\" layout=\"grid\" type=\"email\" />\n      <InputField {...birthdayField} label=\"Birthday\" layout=\"grid\" type=\"date\" />\n    </AddressBookFormLayout>\n  );\n}\n\nAddressBookForm.propTypes = {};\n","import React, { useRef } from 'react';\nimport styled from 'styled-components';\nimport FormFlowProvider from '../../src';\nimport schemaData from './schemaData';\nimport AddressBookForm from './AddressBookForm';\n\nconst AddressBookLayout = styled.div``;\n\nexport default function AddressBook() {\n  const initialState = useRef({});\n\n  return (\n    <AddressBookLayout>\n      <FormFlowProvider initialData={initialState.current} schemaData={schemaData}>\n        <AddressBookForm />\n      </FormFlowProvider>\n    </AddressBookLayout>\n  );\n}\n\nAddressBook.propTypes = {};\n","import AddressBook from './AddressBook';\n\nexport default AddressBook;\n","\nimport React from 'react'\nimport { mdx } from '@mdx-js/react'\n\n/* @jsxRuntime classic */\n/* @jsx mdx */\nimport { assertIsFn, AddContext } from \"@storybook/addon-docs\";\n\nimport { Meta, Story, Canvas, Props } from '@storybook/addon-docs'\nimport AddressBook from '../react-form-flow-examples/AddressBook'\nexport const Template = args => <AddressBook {...args} mdxType=\"AddressBook\" />;\n\nconst layoutProps = {\n  Template\n};\nconst MDXLayout = \"wrapper\"\nfunction MDXContent({\n  components,\n  ...props\n}) {\n  return <MDXLayout {...layoutProps} {...props} components={components} mdxType=\"MDXLayout\">\n\n    <Meta title=\"Examples/Address Book\" component={AddressBook} mdxType=\"Meta\" />\n    <Props of={AddressBook} mdxType=\"Props\" />\n\n    <h1 {...{\n      \"id\": \"addressbook\"\n    }}>{`AddressBook`}</h1>\n    <p>{`Example of address book form with nested fields.`}</p>\n    <p><a parentName=\"p\" {...{\n        \"href\": \"https://github.com/daniloster/react-form-flow-examples\",\n        \"target\": \"_blank\",\n        \"rel\": \"nofollow noopener noreferrer\"\n      }}>{`Source Code`}</a></p>\n    <Canvas mdxType=\"Canvas\">\n  <Story name=\"Default\" args={{}} mdxType=\"Story\">\n    {Template.bind({})}\n  </Story>\n    </Canvas>\n    </MDXLayout>;\n}\n\n;\nMDXContent.isMDXComponent = true;\n\nexport const defaultStory = Template.bind({});\ndefaultStory.storyName = 'Default';\ndefaultStory.args = {};\ndefaultStory.parameters = { storySource: { source: 'args => <AddressBook {...args} />' } };\n\nconst componentMeta = { title: 'Examples/Address Book', component: AddressBook, includeStories: [\"defaultStory\"],  };\n\nconst mdxStoryNameToKey = {\"Default\":\"defaultStory\"};\n\ncomponentMeta.parameters = componentMeta.parameters || {};\ncomponentMeta.parameters.docs = {\n  ...(componentMeta.parameters.docs || {}),\n  page: () => <AddContext mdxStoryNameToKey={mdxStoryNameToKey} mdxComponentMeta={componentMeta}><MDXContent /></AddContext>,\n};\n\nexport default componentMeta;","import React from 'react'\nimport { HashRouter } from 'react-router-dom'\n\nexport default [\n  (Story) => (\n    <HashRouter>\n      <Story />\n    </HashRouter>\n  ),\n]\n","import decorators from './decorators'\n\nexport const parameters = {\n  options: {\n    storySort: (a, b) => {\n      if (b[1].kind === 'Docs/Getting Started') {\n        return 1\n      }\n      if (a[1].kind === 'Docs/Getting Started') {\n        return -1\n      }\n\n      if (b[1].kind.includes('Docs/Recipes')) {\n        if (!a[1].kind.includes('Recipes')) {\n          return 2\n        }\n\n        if (b[1].kind.includes('Schema Builder')) {\n          return 100;\n        }\n        if (a[1].kind.includes('Schema Builder')) {\n          return -100;\n        }\n\n        if (b[1].kind.includes('Validations')) {\n          return 101;\n        }\n        if (a[1].kind.includes('Validations')) {\n          return -101;\n        }\n\n        if (b[1].kind.includes('useFormFlowField')) {\n          return 102;\n        }\n        if (a[1].kind.includes('useFormFlowField')) {\n          return -102;\n        }\n        if (b[1].kind.includes('useFormFlowItem')) {\n          return 103;\n        }\n        if (a[1].kind.includes('useFormFlowItem')) {\n          return -103;\n        }\n\n        return b[1].kind > a[1].kind ? -1 : 1;\n      }\n\n      // Sort the other stories by ID\n      // https://github.com/storybookjs/storybook/issues/548#issuecomment-530305279\n      return a[1].kind === b[1].kind\n        ? 0\n        : a[1].id.localeCompare(b[1].id, { numeric: true })\n    },\n  },\n}\n\nexport { decorators }\n","function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\n/* eslint-disable import/no-unresolved */\nimport { addDecorator, addParameters, addLoader, addArgsEnhancer, addArgTypesEnhancer, setGlobalRender } from '/Volumes/Extreme Pro/repos/javascript/react-form-flow/node_modules/@storybook/client-api';\nimport { logger } from '/Volumes/Extreme Pro/repos/javascript/react-form-flow/node_modules/@storybook/client-logger';\nimport * as config from '/Volumes/Extreme Pro/repos/javascript/react-form-flow/.storybook/preview.ts';\nObject.keys(config).forEach(function (key) {\n  var value = config[key];\n\n  switch (key) {\n    case 'args':\n    case 'argTypes':\n      {\n        return logger.warn('Invalid args/argTypes in config, ignoring.', JSON.stringify(value));\n      }\n\n    case 'decorators':\n      {\n        return value.forEach(function (decorator) {\n          return addDecorator(decorator, false);\n        });\n      }\n\n    case 'loaders':\n      {\n        return value.forEach(function (loader) {\n          return addLoader(loader, false);\n        });\n      }\n\n    case 'parameters':\n      {\n        return addParameters(_objectSpread({}, value), false);\n      }\n\n    case 'argTypesEnhancers':\n      {\n        return value.forEach(function (enhancer) {\n          return addArgTypesEnhancer(enhancer);\n        });\n      }\n\n    case 'argsEnhancers':\n      {\n        return value.forEach(function (enhancer) {\n          return addArgsEnhancer(enhancer);\n        });\n      }\n\n    case 'render':\n      {\n        return setGlobalRender(value);\n      }\n\n    case 'globals':\n    case 'globalTypes':\n      {\n        var v = {};\n        v[key] = value;\n        return addParameters(v, false);\n      }\n\n    default:\n      {\n        // eslint-disable-next-line prefer-template\n        return console.log(key + ' was not supported :( !');\n      }\n  }\n});","import React from 'react';\n// eslint-disable-next-line\nimport styled from 'styled-components';\nimport InputField from '../react-form-flow-examples/fields/InputField';\nimport Validation from '../react-form-flow-examples/fields/Validation';\nimport { FormFlowProvider, useFormFlowField, useResetForm, useSubmitForm } from '../src';\n\nconst Layout = styled.div`\n  height: 100%;\n  width: 100%;\n\n  display: grid;\n\n  grid-template-columns: 1fr 1fr;\n  grid-template-rows: auto;\n`;\n\nfunction Validations() {\n  const name = useFormFlowField('name');\n  const description = useFormFlowField('description');\n\n  return (\n    <div>\n      {(name.submitted || name.touched) && <Validation label=\"Name\" errors={name.errors} />}\n      {(description.submitted || description.touched) && (\n        <Validation label=\"Description\" errors={description.errors} />\n      )}\n    </div>\n  );\n}\n\nfunction Form() {\n  const name = useFormFlowField('name');\n  const description = useFormFlowField('description');\n  const submissionProps = useSubmitForm(data => {\n    console.log(data);\n  });\n  const resetProps = useResetForm();\n\n  return (\n    <form {...submissionProps} {...resetProps}>\n      <InputField label=\"Name\" {...name} />\n      <InputField label=\"Description\" {...description} />\n      {/* eslint-disable-next-line react/button-has-type */}\n      <button type=\"reset\">Reset</button>\n      <button type=\"submit\">Submit</button>\n    </form>\n  );\n}\n\nexport default ({ schemaData }) => (\n  <Layout>\n    <FormFlowProvider initialData={{}} schemaData={schemaData}>\n      <Validations />\n      <Form />\n    </FormFlowProvider>\n  </Layout>\n);\n","import PropTypes from 'prop-types';\nimport React, { useRef } from 'react';\nimport { SchemaBuilder } from '../src';\nimport App from './App';\n\nfunction hasValue(value) {\n  return (\n    value !== null && value !== undefined && (typeof value !== 'string' || (value && value.trim()))\n  );\n}\n\n/**\n * If you try to add the same validation name twice it will throw an error. See recommendation in Getting Started docs.\n */\ntry { SchemaBuilder.factory(\"max-length\", ({ value, max }) => !hasValue(value ?? \"\") || (value ?? \"\").length <= max); } catch {}\ntry { SchemaBuilder.factory(\"min-length\", ({ value, min }) => !hasValue(value ?? \"\") || (value ?? \"\").length >= min); } catch {}\ntry { SchemaBuilder.factory(\"required-array\", ({ value }) => hasValue(value) && typeof value.forEach === \"function\" && value.length >= 0); } catch {}\ntry { SchemaBuilder.factory(\"required\", ({ value }) => hasValue(value ?? \"\") && (value ?? \"\").length >= 0); } catch {}\n\n\n\nexport default function AppInteractive({\n  requiredNameMessage,\n  requiredDescriptionMessage,\n  minNameLength,\n  minDescriptionLength,\n}) {\n  const schemaData = useRef(SchemaBuilder.builder()\n  .with(\"name\")\n  .check(\"required\", { response: () => ({ message: requiredNameMessage })})\n  .check(\"min-length\", { min: minNameLength, response: (metadata) => {\n    const { value, min } = metadata;\n    const length = (value ?? \"\").length;\n    const message = \n    `Name should have more than ${min} characters. (Remaining ${\n      length > min ? 0 : min - length\n    })`;\n    return { message };\n  } })\n  .end()\n  .with(\"description\")\n  .check(\"required\", { response: () => ({ message: requiredDescriptionMessage })})\n  .check(\"min-length\", { min: minDescriptionLength, response: (metadata) => {\n    const { value, min } = metadata;\n    const length = (value ?? \"\").length;\n    const message = \n    `Description should have more than ${min} characters. (Remaining ${\n      length > min ? 0 : min - length\n})`;\n    return { message };\n  } })\n  .end()\n  .build());\n  \n  return <App schemaData={schemaData.current} />;\n}\n\nAppInteractive.propTypes = {\n  requiredNameMessage: PropTypes.string.isRequired,\n  requiredDescriptionMessage: PropTypes.string.isRequired,\n  minNameLength: PropTypes.number.isRequired,\n  minDescriptionLength: PropTypes.number.isRequired,\n};\n","\nimport React from 'react'\nimport { mdx } from '@mdx-js/react'\n\n/* @jsxRuntime classic */\n/* @jsx mdx */\nimport { assertIsFn, AddContext } from \"@storybook/addon-docs\";\n\nimport { Meta, Story, Canvas, Props } from '@storybook/addon-docs'\nimport AppInteractive from './AppInteractive'\nexport const Template = args => <AppInteractive {...args} mdxType=\"AppInteractive\" />;\n\nconst layoutProps = {\n  Template\n};\nconst MDXLayout = \"wrapper\"\nfunction MDXContent({\n  components,\n  ...props\n}) {\n  return <MDXLayout {...layoutProps} {...props} components={components} mdxType=\"MDXLayout\">\n\n    <Meta title=\"Examples/Application Interactive\" component={AppInteractive} mdxType=\"Meta\" />\n    <Props of={AppInteractive} mdxType=\"Props\" />\n\n    <h1 {...{\n      \"id\": \"appinteractive\"\n    }}>{`AppInteractive`}</h1>\n    <p>{`Validating an interactive form built with `}<inlineCode parentName=\"p\">{`react-form-flow`}</inlineCode>{`. Checkout the implementation `}<a parentName=\"p\" {...{\n        \"href\": \"https://github.com/daniloster/react-form-flow/blob/master/stories/AppInteractive.tsx\",\n        \"target\": \"_blank\",\n        \"rel\": \"nofollow noopener noreferrer\"\n      }}>{`here`}</a>{`.`}</p>\n    <Canvas mdxType=\"Canvas\">\n  <Story name=\"Default\" argTypes={{\n        minNameLength: {\n          control: {\n            type: 'range',\n            min: 2,\n            max: 20,\n            step: 1\n          }\n        },\n        minDescriptionLength: {\n          control: {\n            type: 'range',\n            min: 10,\n            max: 2000,\n            step: 1\n          }\n        }\n      }} args={{\n        requiredNameMessage: 'Name is required!',\n        minNameLength: 5,\n        requiredDescriptionMessage: 'Description is required!',\n        minDescriptionLength: 300\n      }} mdxType=\"Story\">\n    {Template.bind({})}\n  </Story>\n    </Canvas>\n    </MDXLayout>;\n}\n\n;\nMDXContent.isMDXComponent = true;\n\nexport const defaultStory = Template.bind({});\ndefaultStory.storyName = 'Default';\ndefaultStory.argTypes = {\n  minNameLength: {\n    control: {\n      type: 'range',\n      min: 2,\n      max: 20,\n      step: 1\n    }\n  },\n  minDescriptionLength: {\n    control: {\n      type: 'range',\n      min: 10,\n      max: 2000,\n      step: 1\n    }\n  }\n};\ndefaultStory.args = {\n  requiredNameMessage: 'Name is required!',\n  minNameLength: 5,\n  requiredDescriptionMessage: 'Description is required!',\n  minDescriptionLength: 300\n};\ndefaultStory.parameters = { storySource: { source: 'args => <AppInteractive {...args} />' } };\n\nconst componentMeta = { title: 'Examples/Application Interactive', component: AppInteractive, includeStories: [\"defaultStory\"],  };\n\nconst mdxStoryNameToKey = {\"Default\":\"defaultStory\"};\n\ncomponentMeta.parameters = componentMeta.parameters || {};\ncomponentMeta.parameters.docs = {\n  ...(componentMeta.parameters.docs || {}),\n  page: () => <AddContext mdxStoryNameToKey={mdxStoryNameToKey} mdxComponentMeta={componentMeta}><MDXContent /></AddContext>,\n};\n\nexport default componentMeta;","import React from 'react';\nimport styled from 'styled-components';\n\nconst LabelFeedback = styled.div`\n  color: ${({ isColored, isValid }) => (isColored ? (isValid ? 'green' : 'red') : 'black')};\n`;\n\nconst ValidationLayout = styled.section`\n  .ValidationLayout__message {\n    color: red;\n  }\n`;\n\nexport default function Validation({ isColored = false, label, errors = [] }) {\n  return (\n    <ValidationLayout>\n      {!!label && (\n        <LabelFeedback isColored={isColored} isValid={!errors.some(({ isValid }) => !isValid)}>\n          {label}\n        </LabelFeedback>\n      )}\n      {errors.map(({ key, message }) => (\n        <React.Fragment key={key}>\n          <div className=\"ValidationLayout__message\">\n            key: {key}\n          </div>\n          <div className=\"ValidationLayout__message\">\n            message: {message}\n          </div>\n        </React.Fragment>\n      ))}\n    </ValidationLayout>\n  );\n}\n","export default function hasValue(value) {\n  return (\n    value !== null && value !== undefined && (typeof value !== 'string' || (value && value.trim()))\n  );\n}","import React, { useRef } from 'react';\nimport styled from 'styled-components';\nimport uuid from 'uuid';\nimport Validation from './Validation';\n\nconst InputFieldLayout = styled.div`\n  padding: 0 0 10px 0;\n\n  display: ${({ layout }) => layout};\n  grid-template-rows: auto;\n  grid-template-columns: min-content minmax(1px, 100%);\n  grid-column-gap: 10px;\n\n  label > span {\n    display: block;\n  }\n  .InputFieldLayout__validations {\n    display: ${({ layout }) => layout};\n    align-items: end;\n  }\n`;\n\nexport default function InputField(props) {\n  const { label: labelText, layout, type, errors, field, submitted, touched } = props;\n  const id = useRef(uuid.v4());\n\n  return (\n    <InputFieldLayout layout={layout}>\n      <label htmlFor={id.current}>\n        <span>{labelText}</span>\n        <input id={id.current} type={type} {...field} value={field.value || ''} />\n      </label>\n      <div className=\"InputFieldLayout__validations\">\n        {(submitted || touched) && <Validation errors={errors} />}\n      </div>\n    </InputFieldLayout>\n  );\n}\n\nInputField.Layout = InputFieldLayout;\n\nInputField.defaultProps = {\n  label: null,\n  layout: 'block',\n  type: 'text',\n  errors: [],\n};\n","import React from 'react';\nimport CodeEditor from 'react-simple-code-editor';\nimport { highlight, languages } from 'prismjs/components/prism-core';\nimport 'prismjs/components/prism-clike';\nimport 'prismjs/components/prism-javascript';\n\ntype EditorProps = {\n  value: string;\n  onChangeValue: (value: string) => void;\n}\n\nexport default function Editor({ value = '', onChangeValue }: EditorProps): React.ReactElement {\n  return (\n    <CodeEditor\n      value={value}\n      onValueChange={onChangeValue}\n      highlight={code => highlight(code, languages.javascript, \"javascript\")}\n      padding={10}\n      style={{\n        fontFamily: '\"Fira code\", \"Fira Mono\", monospace',\n        fontSize: 12,\n      }}\n    />\n  );\n}","import PropTypes from 'prop-types';\nimport React, { useEffect } from 'react';\nimport styled from 'styled-components';\nimport Validation from '../react-form-flow-examples/fields/Validation';\nimport { FormFlowProvider, useFormFlowItem, useFormFlowValidation } from '../src';\nimport ValidationType from '../src/SchemaBuilder/Validation';\n\nfunction UpdateData({ data }) {\n  const { setData } = useFormFlowItem();\n\n  useEffect(() => {\n    setData(data);\n  }, [data, setData]);\n\n  return null;\n}\n\nconst ValidationsLayout = styled.div`\n  hr:last-child {\n    display: none;\n  }\n`;\n\nfunction Validations() {\n  const { validations } = useFormFlowValidation() as { validations: ValidationType[] };\n  \n\n  return (\n    <ValidationsLayout>\n      {Array.from(new Set(validations.map((validation) => validation.path)).values()).map(jsonPath => (\n        <React.Fragment key={jsonPath}>\n          <Validation\n            isColored\n            key={jsonPath}\n            label={jsonPath}\n            errors={validations.filter(({ path, isValid }) => jsonPath === path && !isValid)}\n          />\n          <hr />\n        </React.Fragment>\n      ))}\n    </ValidationsLayout>\n  );\n}\n\nexport default function RecipesValidations({ data, schemaData }) {\n  return (\n    <FormFlowProvider initialData={data} schemaData={schemaData}>\n      <h2>Try change the validations or the data in the console below...</h2>\n      <UpdateData data={data} />\n      <Validations />\n    </FormFlowProvider>\n  );\n}\n\nRecipesValidations.propTypes = {\n  data: PropTypes.shape({}).isRequired,\n  schemaData: PropTypes.shape({}).isRequired,\n};\n","import React, { useCallback, useMemo, useState } from 'react';\nimport hasValue from '../react-form-flow-examples/hasValue';\nimport { SchemaBuilder } from '../src';\nimport Editor from '../tools/helpers/components/Editor';\nimport RecipesValidations from './RecipesValidations';\n\nexport function decode(text) {\n  const parser = document.createElement('div');\n\n  parser.innerHTML = text;\n  return parser.textContent;\n}\n\nexport default function RecipesSchemaBuilder({ data: dataProps, schemaData: schemaDataProps }) {\n  const [_schemaData, set_schemaData] = useState(schemaDataProps || schemaData);\n  const schemaDataObject = useMemo(() => {\n    const getSchemaData = new Function(\n      'SchemaBuilder',\n      'hasValue',\n      decode(_schemaData)\n    );\n    return getSchemaData(SchemaBuilder, hasValue);\n  }, [_schemaData]);\n  const [_schemaDataObjectSaved, set_schemaDataObjectSaved] = useState(schemaDataObject);\n  const onUpdateCode = useCallback(() => {\n    set_schemaDataObjectSaved(null);\n    setTimeout(() => void set_schemaDataObjectSaved(schemaDataObject), 300);\n  }, [schemaDataObject]);\n\n  return (\n    _schemaDataObjectSaved != null && (\n      <>\n        <fieldset>\n          <legend>Assumed SchemaBuilder and hasValue are available...</legend>\n          <code>{'import { SchemaBuilder } from \"react-form-flow\";'}</code>\n          <code>\n            <pre>\n              {`\nexport default function hasValue(value) {\n  return (\n    value !== null && value !== undefined && (typeof value !== 'string' || (value && value.trim()))\n  );\n}           \n              `}\n            </pre>\n          </code>\n        </fieldset>\n        <fieldset>\n          <legend>Body of getShemaData(SchemaBuilder, hasValue)</legend>\n          <Editor value={_schemaData} onChangeValue={set_schemaData} />\n        </fieldset>\n        <div>\n          <button type=\"button\" onClick={onUpdateCode}>Update Code</button>\n        </div>\n        <RecipesValidations data={dataProps} schemaData={_schemaDataObjectSaved} />\n      </>\n    )\n  );\n}\n\nexport const data = {\n  \"name\": \"\",\n  \"description\": \"\",\n  \"passport\": {\n    \"visa\": {\n      \"value\": 3,\n      \"unit\": \"days\"\n    }\n  }\n};\nexport const schemaData = `\n\n/** \n * Once you factory it, you can use as many times as you want via \"check\"\n **/\nif (!SchemaBuilder.get(\"string.required\")) {\n  SchemaBuilder.factory(\"string.required\", (metadata) => hasValue(metadata.value));\n}\n\n/** \n * You can provide extra arguments such as message, or use some translation library to\n * transform the property \"key\" returned into a message.\n **/\nreturn SchemaBuilder.builder()\n  .with(\"name\", [])\n  .check(\"string.required\")\n  .end()\n  .with(\"description\", [])\n  .check(\"string.required\", { message: \"Description is required\" })\n  .end()\n  .build();\n\n`.trim();\n"],"sourceRoot":""}