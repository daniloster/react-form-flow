sudo: true
language: node_js
node_js:
- 9.11.2
- 8.15.1
cache:
  yarn: true
before_install:
- chmod +x ./.travis/*.sh
- "./.travis/validate_last_commit_message.sh"
- npm run tools
- yarn config set ignore-engines true
install:
- yarn
script:
- echo "Running tests against $(node -v) ..."
- yarn validate
jobs:
  include:
  - stage: release
    node_js: 8.15.1
    script:
    - echo "Deploying to npm ..."
    - "./.travis/publish.sh"
branches:
  only:
  - master
env:
  global:
  - secure: or3KhMRZUHUN65YJ8vaIwN4hVKv5eoaHnZL77jzMfNlvLRCKFT9xjyU0eLKLKjdYJg4F2GEcGrqZyeEWBh3FUS9jMNU3x4Tf3Q5r6M3iTMDr3RkFzJV/QnKDRPUt3bKcA2SojRERKZtRg4o2qBRG9aqwV5ooR3XR0HW/+R8dEsusud4fZjJvk34bGQw+C+9MrqKMJda071PMhYUPy8auJMDP33j4ulo7NUTcOD8DH8r3PHP72Pv7EjiPGTvOHtQrKRequePwKimEI7H2nLsnV2GZb0sr9mGFCsBnAoZ3laEDvG6aEO8is0H66fCXwZxkaNZSY7DuOVFKTUsaAtT1jQH+Xc3AxLoeEStaXEW6ddz7PMSSpJhFtlRMkseOR9VzgAr27oAB5mCAnaTTIfuIBd/chqLPjQOXkc5/g9emuTnevDSEmwz7ABl4tsnQg3T/cHS8GnJD4BttNB1nC2NISsM9TWdtvBNKjL5Y8NX+HmvIryrkRnXixtyOoU9Pz3vWaeIvzfDN1jTUADfV+Gt815DBO54FxhDSxXNM/VcSNPfgpDN8mAdVNNuzxMMKtj/oC2sJo2535lAu30FuBmdlT/avZy1blu7InztQOcq6MTTVdXJEY8wyrzWUO9Qe3fKmOudx4KTIYLX9BoU2mFHIypznDjLoGXBMuOe/DbtiXcY=
  - secure: mtjwmkYJDho0LsxaSJO/KLSh7swQTxjXLz7zwkhwvtIfIxl5z9nQzN47gvQ7wtW/WDaehpeBPxHG1F+xmMsQ3fTYweY6TYrPR5qJVgl+FTbciWuZDem8UsM58lk4HUpNQJxp2bQ/jm8+iN8hFtZthWCN17cW83d0FGNLSZsVlHNvvZZTrzoZECaEA2p4rzCHQMuTBWVL2SyANu/fSy4ZVP1nzyOv/RzBlAM/MpK04WyMGQBUt+hZLaNPlNNM8nPv2GpHYF3/cTHjakV0JriO9qEm3MhTvpFBsVUcrscLuZDs31XGMvINDDp7IwPsd8CqWSzUhl24sdamfo6hcC0cwnSiG+8RUd9EZf7mWGHq3jgQ6MaZQQ80DnBN/O6/dc3W5gTSLoOwmTVwXN9Magqu7bfZOAkEfzmlQE3MvopoR+uqjDtoGNw8Ht0q+tywZGpgRWKjtR3/mMuWtKG9dgBDtq3BKhoscNWj3eTrblNNO1MfE3EpIbyakLfssPy4ZudDYAr58wCpB0wNCjHHcLpkRgOdqI2mLq91l6X8FeRL9LKkYC5CLdy1Os8HhozckNbkfyeej6uXCMkP4yHB15TtYNFuthtUrTlS5Ji75cbyahWK6EpTiiV66LH6bRbOTq09M3C8HMfC6G1VgBcW4+mrUY11M6bUpJxeh8eXLY+8GE4=
