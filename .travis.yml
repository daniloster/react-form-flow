sudo: true
language: node_js
node_js:
- 9.11.2
- 8.15.1
cache:
  yarn: true
before_install:
- chmod +x ./.travis/*.sh
- "./.travis/validate_last_commit_message.sh"
- npm run tools
- yarn config set ignore-engines true
install:
- yarn
script:
- echo "Running tests against $(node -v) ..."
- yarn validate
jobs:
  include:
  - stage: release
    node_js: 8.15.1
    script:
    - echo "Deploying to npm ..."
    - "./.travis/publish.sh"
branches:
  only:
  - master
env:
  global:
  - secure: jjI12X6p6wmQ6Z2tCpzIhyC7Nl0vFZEHzDvjnNl3uX7IdrHpY6Mg714tM9dDfnncSJrZfMai1ATns7NHLfW0Wah0skl/lvsZfOmSvodL1pwn9CtjChGPukeoOku4O1pW4YRYysQqSCOV11fd5p2hkA2baSARY3udSOCQaLxeNf6zyM6c/asy01sVQgKvvUkPJZUKWS4nSDdO0H9u2uvxjA6tceQ9GtT8Zq1l+pElYZRufmDNOEMY5kjAzKSVutlunfp5+OAlwFhSLMteRQR25AUPg4X9CgWk3yJQEAivDGuUHhCLqOQWQoAuxGP8S8ripfvbe7HM1rLqnoRNxSZqs/bn7/ClaiHBO9S4JA134zTMXcdiTpxs5bg80r6kBoMPzk1Dl6IBWCbkyFzqUci56s2VGVhtgrQpvOJJK9NkInYEzMXuaU8XEmZAm5j4Kz5ZENcfn5Dj34nnXAMzLmiI/gvLKbIeTPEvXHKea0VmFErsPBjsEK2NjKXmQwMphbfyyUWD4jceO7ZFJNzIN5w4/KPizkc/cpxbIAryiLpfJ19/oKdIuRo3aafrSrE1w69t5Gwy6IUJG1qPSBZ7PRf8qdUtl6VPMsAspKnkEuEMJfVfupRG2vtYEUrWKlCTuI4uQHtYD9O6XD5GIPmM06mhGVXe2oFjVEElkieaPBrX3J8=
  - secure: Scv3oFXxDqbzWRdApOkNs88tJmXbRSOALlSOmfyDuNoM5N9e7pK5WZ0QJmli2n8hwz7ro7n+PLl2PB9T6vvvks15wSYjXQjosKcW9QX/CBJV9yvaJzafWMxtfsn1N7iqso1pcS745fPRIPtgyavz7GXuXtdi4rLaioVncGUfQplp5arnwshEL6wLN232w4n6LSLzpV9/Xa+D8lLdDxo+4T9VhBjPCLTv48wD3Vj7nQZR9VojZDwQ/dVzs54fk4EU6sqJtwwzQEy3f2UNVWgX7QS0DWFkX6tUAcg4hfzXhYTHeEXICes5qnmPs6RkFG2Px5h/GBsbabYoxpcxAp2+MnTOd1gM+GVCTei+86y8/MeExqqaD+hjY/3fEQjy/RXX0v+pkkP5fq8gnYI8DfuplfcbI7B5cKbyBfhveg/HZb3jdRcrXlJeGbEdSrbvnoBWyKeEBdFJVa59/aapDEfoVoPqOnXAq+gGRj0JFH/IvcNdnCe8QBBWa5IUGMxpwiJCpISupXQwZTWYaEjq1zkqY82kgq1NNUFUkPcijk9Vub5AditS70nz2Yd73H4yjFmNokfVqd+O+w3e0dWeshl1vnrclG+546kX3fNybkUT8gw6P52yDDRct+9ue5sIpFW4lDKZeo6U0Q2eNzNBKh9/dZwE9/u6b7IEY8+Ocy0pXX0=
